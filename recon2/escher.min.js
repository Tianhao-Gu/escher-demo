!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.escher=e():t.escher=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=119)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(32);n.d(e,"creator",function(){return i.a});var r=n(125);n.d(e,"local",function(){return r.a});var o=n(59);n.d(e,"matcher",function(){return o.a});var a=n(126);n.d(e,"mouse",function(){return a.a});var s=n(33);n.d(e,"namespace",function(){return s.a});var c=n(34);n.d(e,"namespaces",function(){return c.a});var l=n(25);n.d(e,"clientPoint",function(){return l.a});var u=n(127);n.d(e,"select",function(){return u.a});var A=n(155);n.d(e,"selectAll",function(){return A.a});var h=n(5);n.d(e,"selection",function(){return h.b});var d=n(37);n.d(e,"selector",function(){return d.a});var f=n(60);n.d(e,"selectorAll",function(){return f.a});var p=n(63);n.d(e,"style",function(){return p.b});var g=n(156);n.d(e,"touch",function(){return g.a});var b=n(157);n.d(e,"touches",function(){return b.a});var _=n(38);n.d(e,"window",function(){return _.a});var m=n(36);n.d(e,"event",function(){return m.c}),n.d(e,"customEvent",function(){return m.a})},function(t,e,n){"use strict";function i(){try{new Blob}catch(t){alert("Blob not supported")}}function r(t,e,n){if(void 0===t||null===t)return e;var i={};for(var r in e){var o=r in t&&null!==t[r]&&void 0!==t[r],a=o?t[r]:e[r];n&&r in n&&(a=parseFloat(a),isNaN(a)&&(o?(console.warn("Bad float for option "+r),a=parseFloat(e[r]),isNaN(a)&&(console.warn("Bad float for default "+r),a=null)):(console.warn("Bad float for default "+r),a=null))),i[r]=a}return i}function o(t){for(var e=t.node();e.hasChildNodes();)e.removeChild(e.lastChild)}function a(t,e){var n="";return t&&at(t,function(t,i){t&&console.warn(t),n=i,e(n)}),!1}function s(t,e){return-1!==t.indexOf(e,t.length-e.length)}function c(t,e,n,i){return i?(e&&console.warn("File "+e+" overridden by value."),void n.call(t,null,i)):e?void(s(e,"json")?ot(e,function(e,i){n.call(t,e,i)}):s(e,"css")?at(e,function(e,i){n.call(t,e,i)}):n.call(t,"Unrecognized file type",null)):void n.call(t,"No filename",null)}function l(t,e,n){0===e.length&&n.call(t);for(var i=-1,r=e.length;++i<e.length;)c(t,e[i].file,function(e,i){this.call(t,e,i),--r||n.call(t)}.bind(e[i].callback),e[i].value)}function u(){var t,e=function e(n){if(!(this instanceof e)){t=!0;var i=new e(arguments);return t=!1,i}"function"==typeof this.init&&this.init.apply(this,t?n:arguments)};return e}function A(t){return new Proxy(t,{apply:function(t,e,n){return new(Function.prototype.bind.apply(t,[null].concat(n)))}})}function h(t,e){t.select("defs").remove();var n=t.append("defs"),i=n.node();return i.parentNode.insertBefore(i,i.parentNode.firstChild),n.append("style").attr("type","text/css").text(e),n}function d(t,e,n,i,r,o,a,s){var c={};for(var l in i)void 0===i[l]?console.warn("Undefined value for id "+l+" in object. Ignoring."):c[l]=i[l];var u=t.select(e).selectAll(n).data(g(c,r),function(t){return t[r]}),A=o?o(u.enter()).merge(u):u;a&&A.call(a),s&&u.exit().call(s)}function f(t,e,n,i,r,o,a){var s=t.selectAll(e).data(function(t){return g(t[n],i)},function(t){return t[i]}),c=r?r(s.enter()).merge(s):s;o&&c.call(o),a&&s.exit().call(a)}function p(t,e){var n=[];for(var i in t){var r=m(t[i]);r[e]=i,n.push(r)}return n}function g(t,e){var n=[];for(var i in t){var r=t[i];r[e]=i,n.push(r)}return n}function b(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0}function _(t){for(var e={},n=0,i=t.length;n<i;n++)for(var r=t[n],o=Object.keys(r),a=0,s=o.length;a<s;a++){var c=o[a];if(c in e)e[c][n]=r[c];else{for(var l=[],u=0;u<i;u++)l[u]=null;l[n]=r[c],e[c]=l}}return e}function m(t){return rt.isArray(t)?rt.map(t,function(t){return m(t)}):rt.isObject(t)?rt.mapObject(t,function(t,e){return m(t)}):t}function v(t,e,n){void 0===n&&(n=!1);for(var i in e){if(i in t&&!n)throw new Error("Attribute "+i+" already in object.");t[i]=e[i]}}function y(t){var e=[];return t.forEach(function(t){t.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),e}function w(t){for(var e=[],n=0,i=t.length;n<i;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function C(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||t.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(r,o)}}function B(t,e){for(var n={},i=-1;++i<e.length;)n[e[i]]=m(t[e[i]]);return e.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function x(t,e){for(var n={},i=-1;++i<e.length;)n[e[i]]=t[e[i]];return e.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function E(t,e){return null===t||null===e||void 0===t||void 0===e?null:{x:t.x+e.x,y:t.y+e.y}}function M(t,e){return null===t||null===e||void 0===t||void 0===e?null:{x:t.x-e.x,y:t.y-e.y}}function k(t,e){return{x:t.x*e,y:t.y*e}}function I(t,e){i();var n=JSON.stringify(t),r=new Blob([n],{type:"application/json"});lt(r,e+".json")}function D(t,e,n,i){window.File&&window.FileReader&&window.FileList&&window.Blob||e("The File APIs are not fully supported in this browser.",null);var r=new window.FileReader;if(r.onload=function(t){var n,i=t.target.result;try{n=JSON.parse(i)}catch(t){return void e(t,null)}e(null,n)},void 0!==n&&null!==n)try{n()}catch(t){console.warn(t)}r.onabort=function(t){try{i()}catch(t){console.warn(t)}},r.onerror=function(t){try{i()}catch(t){console.warn(t)}},r.readAsText(t)}function j(t,e,n,i,r,o){var a=function(t){var i,r,o=t.target.result;try{i=JSON.parse(o)}catch(t){r="JSON error: "+t;try{i=e(st(o))}catch(t){return void n(r+"\nCSV error: "+t,null)}}n(null,i)};if(void 0!==o&&null!==o)return console.warn("Debugging load_json_or_csv"),a(o);window.File&&window.FileReader&&window.FileList&&window.Blob||n("The File APIs are not fully supported in this browser.",null);var s=new window.FileReader;if(void 0!==i&&null!==i)try{i()}catch(t){console.warn(t)}s.onabort=function(t){try{r()}catch(t){console.warn(t)}},s.onerror=function(t){try{r()}catch(t){console.warn(t)}},s.onload=a,s.readAsText(t)}function N(t,e,n){i();var r=(new XMLSerializer).serializeToString(e.node());n&&(r=it.xml(r)),r='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+r;var o=new Blob([r],{type:"image/svg+xml"});lt(o,t+".svg")}function T(t,e){i();var n=(new XMLSerializer).serializeToString(e.node());n='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+n;var r=document.createElement("canvas"),o=r.getContext("2d"),a=e.node().getBBox(),s=a.width+a.x,c=a.height+a.y;s<1e4&&c<1e4?(r.width=s,r.height=c):r.width>r.height?(r.width=1e4,r.height=c/s*1e4):(r.width=s/c*1e4,r.height=1e4);var l=new Image;l.src="data:image/svg+xml;base64,"+btoa(n),l.onload=function(){o.fillStyle="#FFF",o.fillRect(0,0,r.width,r.height),o.drawImage(l,0,0,r.width,r.height),r.toBlob(function(e){lt(e,t+".png")})}}function O(t,e,n){return t.map(function(t){return z(t,e,n)})}function z(t,e,n){return{x:Math.cos(-e)*(t.x-n.x)+Math.sin(-e)*(t.y-n.y)+n.x-t.x,y:-Math.sin(-e)*(t.x-n.x)+Math.cos(-e)*(t.y-n.y)+n.y-t.y}}function S(t){var e=t[1].x-t[0].x,n=t[1].y-t[0].y;return 0===e&&n>=0?Math.PI/2:0===e&&n<0?3*Math.PI/2:e>=0&&n>=0?Math.atan(n/e):e>=0?Math.atan(n/e)+2*Math.PI:Math.atan(n/e)+Math.PI}function Q(t){return 180*t/Math.PI}function L(t){return t<-Math.PI?t+=2*Math.ceil(t/(-2*Math.PI))*Math.PI:t>Math.PI&&(t-=2*Math.ceil(t/(2*Math.PI))*Math.PI),t}function F(t){return L(Math.PI/180*t)}function Y(t,e,n){var i=Math.atan2(e.x-n.x,n.y-e.y);return Math.atan2(e.x-n.x+t.x,n.y-e.y-t.y)-i}function U(t,e){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function W(t,e){e.forEach(function(n,i){void 0===t[i]&&console.error("Argument is undefined: "+e[i])})}function G(t,e){return t+"_"+e}function R(t){var e=/(.*)_([a-z0-9]{1,2})$/,n=e.exec(t);return null!==n?n.slice(1,3):[t,null]}function P(t){return t.reduce(function(t,e){return t+e})/t.length}function Z(t){t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length%2==1?t[e]:(t[e-1]+t[e])/2}function H(t){t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return 1===t.length?[t[0],t[0],t[0]]:t.length%2==1?[Z(t.slice(0,e)),t[e],Z(t.slice(e+1))]:[Z(t.slice(0,e)),(t[e-1]+t[e])/2,Z(t.slice(e))]}function V(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}function K(){return V(12)}function J(t,e){for(t instanceof ct&&(t=t.node());null!==t.parentNode;)if(t=t.parentNode,void 0!==t.tagName&&t.tagName.toLowerCase()===e.toLowerCase())return!0;return!1}function q(t,e){return void 0!==e&&null!==e&&(e=e.replace(/^\/|\/$/g,""),t=[e,t].join("/")),t.replace(/^\/|\/$/g,"")+".json"}function X(t,e){rt.isUndefined(e)&&(e={});for(var n=t.location.search.substring(1),i=n.split("&"),r=0,o=i.length;r<o;r++){var a=i[r].split("="),s=decodeURIComponent(a[1]);if(a[0].indexOf("[]")===a[0].length-2){var c=a[0].replace("[]","");c in e||(e[c]=[]),e[c].push(s)}else e[a[0]]=s}return e}function $(t){return t.ownerDocument}function tt(t){return $(t).defaultView}function et(t){if(-1!==t.indexOf("skew")||-1!==t.indexOf("matrix"))throw new Error("d3_transform_catch does not work with skew or matrix");var e=/translate\s*\(\s*([0-9.-]+)\s*,\s*([0-9.-]+)\s*\)/.exec(t),n=rt.isNull(e),i=n?0:Number(e[1]),r=n?0:Number(e[2]),o=/rotate\s*\(\s*([0-9.-]+)\s*\)/.exec(t),a=rt.isNull(o),s=a?0:Number(o[1]),c=/scale\s*\(\s*([0-9.-]+)\s*\)/.exec(t);return{translate:[i,r],rotate:s,scale:rt.isNull(c)?0:Number(c[1])}}function nt(t){try{return function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],"IE "+(t[1]||"")):"Chrome"===n[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n.join(" "))}().toLowerCase().indexOf(t)>-1}catch(t){return!1}}var it=n(67),rt=n(2),ot=n(16).json,at=n(16).text,st=n(41).csvParseRows,ct=n(0).selection;try{var lt=n(194).saveAs}catch(t){console.warn("Not a browser, so FileSaver.js not available.")}t.exports={set_options:r,remove_child_nodes:o,load_css:a,load_files:l,load_the_file:c,make_class:u,class_with_optional_new:A,setup_defs:h,draw_an_object:d,draw_a_nested_object:f,make_array:p,make_array_ref:g,compare_arrays:b,array_to_object:_,clone:m,extend:v,unique_concat:y,unique_strings_array:w,debounce:C,object_slice_for_ids:B,object_slice_for_ids_ref:x,c_plus_c:E,c_minus_c:M,c_times_scalar:k,download_json:I,load_json:D,load_json_or_csv:j,download_svg:N,download_png:T,rotate_coords_recursive:O,rotate_coords:z,get_angle:S,to_degrees:Q,to_radians_norm:F,angle_for_event:Y,distance:U,check_undefined:W,compartmentalize:G,decompartmentalize:R,mean:P,median:Z,quartiles:H,random_characters:V,generate_map_id:K,check_for_parent_tag:J,name_to_url:q,parse_url_components:X,get_document:$,get_window:tt,d3_transform_catch:et,check_browser:nt}},function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=C(i,o,4);var a=!D(n)&&w.keys(n),s=(a||n).length,c=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[c]:c],c+=t),e(n,i,r,a,c,s)}}function o(t){return function(e,n,i){n=B(n,i);for(var r=I(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function a(t,e,n){return function(i,r,o){var a=0,s=I(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(f.call(i,a,s),w.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}}function s(t,e){var n=z.length,i=t.constructor,r=w.isFunction(i)&&i.prototype||A,o="constructor";for(w.has(t,o)&&!w.contains(e,o)&&e.push(o);n--;)(o=z[n])in t&&t[o]!==r[o]&&!w.contains(e,o)&&e.push(o)}var c=this,l=c._,u=Array.prototype,A=Object.prototype,h=Function.prototype,d=u.push,f=u.slice,p=A.toString,g=A.hasOwnProperty,b=Array.isArray,_=Object.keys,m=h.bind,v=Object.create,y=function(){},w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};void 0!==t&&t.exports&&(e=t.exports=w),e._=w,w.VERSION="1.8.3";var C=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},B=function(t,e,n){return null==t?w.identity:w.isFunction(t)?C(t,e,n):w.isObject(t)?w.matcher(t):w.property(t)};w.iteratee=function(t,e){return B(t,e,1/0)};var x=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,c=0;c<s;c++){var l=a[c];e&&void 0!==n[l]||(n[l]=o[l])}return n}},E=function(t){if(!w.isObject(t))return{};if(v)return v(t);y.prototype=t;var e=new y;return y.prototype=null,e},M=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,I=M("length"),D=function(t){var e=I(t);return"number"==typeof e&&e>=0&&e<=k};w.each=w.forEach=function(t,e,n){e=C(e,n);var i,r;if(D(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=w.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},w.map=w.collect=function(t,e,n){e=B(e,n);for(var i=!D(t)&&w.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(t,e,n){var i;if(void 0!==(i=D(t)?w.findIndex(t,e,n):w.findKey(t,e,n))&&-1!==i)return t[i]},w.filter=w.select=function(t,e,n){var i=[];return e=B(e,n),w.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},w.reject=function(t,e,n){return w.filter(t,w.negate(B(e)),n)},w.every=w.all=function(t,e,n){e=B(e,n);for(var i=!D(t)&&w.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},w.some=w.any=function(t,e,n){e=B(e,n);for(var i=!D(t)&&w.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},w.contains=w.includes=w.include=function(t,e,n,i){return D(t)||(t=w.values(t)),("number"!=typeof n||i)&&(n=0),w.indexOf(t,e,n)>=0},w.invoke=function(t,e){var n=f.call(arguments,2),i=w.isFunction(e);return w.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matcher(e))},w.findWhere=function(t,e){return w.find(t,w.matcher(e))},w.max=function(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e&&null!=t){t=D(t)?t:w.values(t);for(var s=0,c=t.length;s<c;s++)(i=t[s])>o&&(o=i)}else e=B(e,n),w.each(t,function(t,n,i){((r=e(t,n,i))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},w.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=D(t)?t:w.values(t);for(var s=0,c=t.length;s<c;s++)(i=t[s])<o&&(o=i)}else e=B(e,n),w.each(t,function(t,n,i){((r=e(t,n,i))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},w.shuffle=function(t){for(var e,n=D(t)?t:w.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=w.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},w.sample=function(t,e,n){return null==e||n?(D(t)||(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))},w.sortBy=function(t,e,n){return e=B(e,n),w.pluck(w.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var j=function(t){return function(e,n,i){var r={};return n=B(n,i),w.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};w.groupBy=j(function(t,e,n){w.has(t,n)?t[n].push(e):t[n]=[e]}),w.indexBy=j(function(t,e,n){t[n]=e}),w.countBy=j(function(t,e,n){w.has(t,n)?t[n]++:t[n]=1}),w.toArray=function(t){return t?w.isArray(t)?f.call(t):D(t)?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:D(t)?t.length:w.keys(t).length},w.partition=function(t,e,n){e=B(e,n);var i=[],r=[];return w.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},w.first=w.head=w.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:w.initial(t,t.length-e)},w.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},w.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:w.rest(t,Math.max(0,t.length-e))},w.rest=w.tail=w.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var N=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=I(t);a<s;a++){var c=t[a];if(D(c)&&(w.isArray(c)||w.isArguments(c))){e||(c=N(c,e,n));var l=0,u=c.length;for(r.length+=u;l<u;)r[o++]=c[l++]}else n||(r[o++]=c)}return r};w.flatten=function(t,e){return N(t,e,!1)},w.without=function(t){return w.difference(t,f.call(arguments,1))},w.uniq=w.unique=function(t,e,n,i){w.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=B(n,i));for(var r=[],o=[],a=0,s=I(t);a<s;a++){var c=t[a],l=n?n(c,a,t):c;e?(a&&o===l||r.push(c),o=l):n?w.contains(o,l)||(o.push(l),r.push(c)):w.contains(r,c)||r.push(c)}return r},w.union=function(){return w.uniq(N(arguments,!0,!0))},w.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=I(t);i<r;i++){var o=t[i];if(!w.contains(e,o)){for(var a=1;a<n&&w.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},w.difference=function(t){var e=N(arguments,!0,!0,1);return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(t){for(var e=t&&w.max(t,I).length||0,n=Array(e),i=0;i<e;i++)n[i]=w.pluck(t,i);return n},w.object=function(t,e){for(var n={},i=0,r=I(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},w.findIndex=o(1),w.findLastIndex=o(-1),w.sortedIndex=function(t,e,n,i){n=B(n,i,1);for(var r=n(e),o=0,a=I(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},w.indexOf=a(1,w.findIndex,w.sortedIndex),w.lastIndexOf=a(-1,w.findLastIndex),w.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var T=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=E(t.prototype),a=t.apply(o,r);return w.isObject(a)?a:o};w.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,f.call(arguments,1));if(!w.isFunction(t))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),i=function(){return T(t,i,e,this,n.concat(f.call(arguments)))};return i},w.partial=function(t){var e=f.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===w?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return T(t,n,this,this,o)};return n},w.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=w.bind(t[n],t);return t},w.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return w.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},w.delay=function(t,e){var n=f.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},w.defer=w.partial(w.delay,w,1),w.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:w.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var l=w.now();s||!1!==n.leading||(s=l);var u=e-(l-s);return i=this,r=arguments,u<=0||u>e?(a&&(clearTimeout(a),a=null),s=l,o=t.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(c,u)),o}},w.debounce=function(t,e,n){var i,r,o,a,s,c=function(){var l=w.now()-a;l<e&&l>=0?i=setTimeout(c,e-l):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=w.now();var l=n&&!i;return i||(i=setTimeout(c,e)),l&&(s=t.apply(o,r),o=r=null),s}},w.wrap=function(t,e){return w.partial(e,t)},w.negate=function(t){return function(){return!t.apply(this,arguments)}},w.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},w.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},w.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},w.once=w.partial(w.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(t){if(!w.isObject(t))return[];if(_)return _(t);var e=[];for(var n in t)w.has(t,n)&&e.push(n);return O&&s(t,e),e},w.allKeys=function(t){if(!w.isObject(t))return[];var e=[];for(var n in t)e.push(n);return O&&s(t,e),e},w.values=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},w.mapObject=function(t,e,n){e=B(e,n);for(var i,r=w.keys(t),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=e(t[i],i,t);return a},w.pairs=function(t){for(var e=w.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},w.invert=function(t){for(var e={},n=w.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},w.functions=w.methods=function(t){var e=[];for(var n in t)w.isFunction(t[n])&&e.push(n);return e.sort()},w.extend=x(w.allKeys),w.extendOwn=w.assign=x(w.keys),w.findKey=function(t,e,n){e=B(e,n);for(var i,r=w.keys(t),o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i},w.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;w.isFunction(e)?(r=w.allKeys(a),i=C(e,n)):(r=N(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,c=r.length;s<c;s++){var l=r[s],u=a[l];i(u,l,a)&&(o[l]=u)}return o},w.omit=function(t,e,n){if(w.isFunction(e))e=w.negate(e);else{var i=w.map(N(arguments,!1,!1,1),String);e=function(t,e){return!w.contains(i,e)}}return w.pick(t,e,n)},w.defaults=x(w.allKeys,!0),w.create=function(t,e){var n=E(t);return e&&w.extendOwn(n,e),n},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isMatch=function(t,e){var n=w.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var S=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var r=p.call(t);if(r!==p.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!S(t[c],e[c],n,i))return!1}else{var l,u=w.keys(t);if(c=u.length,w.keys(e).length!==c)return!1;for(;c--;)if(l=u[c],!w.has(e,l)||!S(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(t,e){return S(t,e)},w.isEmpty=function(t){return null==t||(D(t)&&(w.isArray(t)||w.isString(t)||w.isArguments(t))?0===t.length:0===w.keys(t).length)},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=b||function(t){return"[object Array]"===p.call(t)},w.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){w["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return w.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(t){return"function"==typeof t||!1}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!==+t},w.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===p.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return null!=t&&g.call(t,e)},w.noConflict=function(){return c._=l,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.noop=function(){},w.property=M,w.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},w.matcher=w.matches=function(t){return t=w.extendOwn({},t),function(e){return w.isMatch(e,t)}},w.times=function(t,e,n){var i=Array(Math.max(0,t));e=C(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var Q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=w.invert(Q),F=function(t){var e=function(e){return t[e]},n="(?:"+w.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};w.escape=F(Q),w.unescape=F(L),w.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),w.isFunction(i)?i.call(t):i};var Y=0;w.uniqueId=function(t){var e=++Y+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,R=function(t){return"\\"+W[t]};w.template=function(t,e,n){!e&&n&&(e=n),e=w.defaults({},e,w.templateSettings);var i=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(G,R),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,w)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},w.chain=function(t){var e=w(t);return e._chain=!0,e};var P=function(t,e){return t._chain?w(e).chain():e};w.mixin=function(t){w.each(w.functions(t),function(e){var n=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return d.apply(t,arguments),P(this,n.apply(w,t))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];w.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],P(this,n)}}),w.each(["concat","join","slice"],function(t){var e=u[t];w.prototype[t]=function(){return P(this,e.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},i=[],void 0!==(r=function(){return w}.apply(e,i))&&(t.exports=r)}).call(this)},function(t,e,n){"use strict";function i(){}function r(t,e){var n,r,o,a,s=z;for(a=arguments.length;a-- >2;)O.push(arguments[a]);for(e&&null!=e.children&&(O.length||O.push(e.children),delete e.children);O.length;)if((r=O.pop())&&void 0!==r.pop)for(a=r.length;a--;)O.push(r[a]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?s[s.length-1]+=r:s===z?s=[r]:s.push(r),n=o;var c=new i;return c.nodeName=t,c.children=s,c.attributes=null==e?void 0:e,c.key=null==e?void 0:e.key,void 0!==T.vnode&&T.vnode(c),c}function o(t,e){for(var n in e)t[n]=e[n];return t}function a(t,e){return r(t.nodeName,o(o({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function s(t){!t._dirty&&(t._dirty=!0)&&1==L.push(t)&&(T.debounceRendering||S)(c)}function c(){var t,e=L;for(L=[];t=e.pop();)t._dirty&&k(t)}function l(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&u(t,e.nodeName):n||t._componentConstructor===e.nodeName}function u(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function A(t){var e=o({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var i in n)void 0===e[i]&&(e[i]=n[i]);return e}function h(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function f(t,e,n,i,r){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),i&&i(t);else if("class"!==e||r)if("style"===e){if(i&&"string"!=typeof i&&"string"!=typeof n||(t.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof n)for(var o in n)o in i||(t.style[o]="");for(var o in i)t.style[o]="number"==typeof i[o]&&!1===Q.test(o)?i[o]+"px":i[o]}}else if("dangerouslySetInnerHTML"===e)i&&(t.innerHTML=i.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),i?n||t.addEventListener(e,g,a):t.removeEventListener(e,g,a),(t._listeners||(t._listeners={}))[e]=i}else if("list"!==e&&"type"!==e&&!r&&e in t)p(t,e,null==i?"":i),null!=i&&!1!==i||t.removeAttribute(e);else{var s=r&&e!==(e=e.replace(/^xlink\:?/,""));null==i||!1===i?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof i&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i):t.setAttribute(e,i))}else t.className=i||""}function p(t,e,n){try{t[e]=n}catch(t){}}function g(t){return this._listeners[t.type](T.event&&T.event(t)||t)}function b(){for(var t;t=F.pop();)T.afterMount&&T.afterMount(t),t.componentDidMount&&t.componentDidMount()}function _(t,e,n,i,r,o){Y++||(U=null!=r&&void 0!==r.ownerSVGElement,W=null!=t&&!("__preactattr_"in t));var a=m(t,e,n,i,o);return r&&a.parentNode!==r&&r.appendChild(a),--Y||(W=!1,o||b()),a}function m(t,e,n,i,r){var o=t,a=U;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),y(t,!0))),o.__preactattr_=!0,o;var s=e.nodeName;if("function"==typeof s)return I(t,e,n,i);if(U="svg"===s||"foreignObject"!==s&&U,s=String(s),(!t||!u(t,s))&&(o=h(s,U),t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),y(t,!0)}var c=o.firstChild,l=o.__preactattr_,A=e.children;if(null==l){l=o.__preactattr_={};for(var d=o.attributes,f=d.length;f--;)l[d[f].name]=d[f].value}return!W&&A&&1===A.length&&"string"==typeof A[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=A[0]&&(c.nodeValue=A[0]):(A&&A.length||null!=c)&&v(o,A,n,i,W||null!=l.dangerouslySetInnerHTML),C(o,e.attributes,l),U=a,o}function v(t,e,n,i,r){var o,a,s,c,u,A=t.childNodes,h=[],f={},p=0,g=0,b=A.length,_=0,v=e?e.length:0;if(0!==b)for(var w=0;w<b;w++){var C=A[w],B=C.__preactattr_,x=v&&B?C._component?C._component.__key:B.key:null;null!=x?(p++,f[x]=C):(B||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(h[_++]=C)}if(0!==v)for(var w=0;w<v;w++){c=e[w],u=null;var x=c.key;if(null!=x)p&&void 0!==f[x]&&(u=f[x],f[x]=void 0,p--);else if(!u&&g<_)for(o=g;o<_;o++)if(void 0!==h[o]&&l(a=h[o],c,r)){u=a,h[o]=void 0,o===_-1&&_--,o===g&&g++;break}u=m(u,c,n,i),s=A[w],u&&u!==t&&u!==s&&(null==s?t.appendChild(u):u===s.nextSibling?d(s):t.insertBefore(u,s))}if(p)for(var w in f)void 0!==f[w]&&y(f[w],!1);for(;g<=_;)void 0!==(u=h[_--])&&y(u,!1)}function y(t,e){var n=t._component;n?D(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||d(t),w(t))}function w(t){for(t=t.lastChild;t;){var e=t.previousSibling;y(t,!0),t=e}}function C(t,e,n){var i;for(i in n)e&&null!=e[i]||null==n[i]||f(t,i,n[i],n[i]=void 0,U);for(i in e)"children"===i||"innerHTML"===i||i in n&&e[i]===("value"===i||"checked"===i?t[i]:n[i])||f(t,i,n[i],n[i]=e[i],U)}function B(t){var e=t.constructor.name;(G[e]||(G[e]=[])).push(t)}function x(t,e,n){var i,r=G[t.name];if(t.prototype&&t.prototype.render?(i=new t(e,n),j.call(i,e,n)):(i=new j(e,n),i.constructor=t,i.render=E),r)for(var o=r.length;o--;)if(r[o].constructor===t){i.nextBase=r[o].nextBase,r.splice(o,1);break}return i}function E(t,e,n){return this.constructor(t,n)}function M(t,e,n,i,r){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||r?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,i),i&&i!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=i),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===T.syncComponentUpdates&&t.base?s(t):k(t,1,r)),t.__ref&&t.__ref(t))}function k(t,e,n,i){if(!t._disable){var r,a,s,c=t.props,l=t.state,u=t.context,h=t.prevProps||c,d=t.prevState||l,f=t.prevContext||u,p=t.base,g=t.nextBase,m=p||g,v=t._component,w=!1;if(p&&(t.props=h,t.state=d,t.context=f,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,l,u)?w=!0:t.componentWillUpdate&&t.componentWillUpdate(c,l,u),t.props=c,t.state=l,t.context=u),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!w){r=t.render(c,l,u),t.getChildContext&&(u=o(o({},u),t.getChildContext()));var C,B,E=r&&r.nodeName;if("function"==typeof E){var I=A(r);a=v,a&&a.constructor===E&&I.key==a.__key?M(a,I,1,u,!1):(C=a,t._component=a=x(E,I,u),a.nextBase=a.nextBase||g,a._parentComponent=t,M(a,I,0,u,!1),k(a,1,n,!0)),B=a.base}else s=m,C=v,C&&(s=t._component=null),(m||1===e)&&(s&&(s._component=null),B=_(s,r,u,n||!p,m&&m.parentNode,!0));if(m&&B!==m&&a!==v){var j=m.parentNode;j&&B!==j&&(j.replaceChild(B,m),C||(m._component=null,y(m,!1)))}if(C&&D(C),t.base=B,B&&!i){for(var N=t,O=t;O=O._parentComponent;)(N=O).base=B;B._component=N,B._componentConstructor=N.constructor}}if(!p||n?F.unshift(t):w||(t.componentDidUpdate&&t.componentDidUpdate(h,d,f),T.afterUpdate&&T.afterUpdate(t)),null!=t._renderCallbacks)for(;t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);Y||i||b()}}function I(t,e,n,i){for(var r=t&&t._component,o=r,a=t,s=r&&t._componentConstructor===e.nodeName,c=s,l=A(e);r&&!c&&(r=r._parentComponent);)c=r.constructor===e.nodeName;return r&&c&&(!i||r._component)?(M(r,l,3,n,i),t=r.base):(o&&!s&&(D(o),t=a=null),r=x(e.nodeName,l,n),t&&!r.nextBase&&(r.nextBase=t,a=null),M(r,l,1,n,i),t=r.base,a&&t!==a&&(a._component=null,y(a,!1))),t}function D(t){T.beforeUnmount&&T.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?D(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,d(e),B(t),w(e)),t.__ref&&t.__ref(null)}function j(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{}}function N(t,e,n){return _(n,t,{},!1,e,!1)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"h",function(){return r}),n.d(e,"createElement",function(){return r}),n.d(e,"cloneElement",function(){return a}),n.d(e,"Component",function(){return j}),n.d(e,"render",function(){return N}),n.d(e,"rerender",function(){return c}),n.d(e,"options",function(){return T});var T={},O=[],z=[],S="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,Q=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,L=[],F=[],Y=0,U=!1,W=!1,G={};o(j.prototype,{setState:function(t,e){var n=this.state;this.prevState||(this.prevState=o({},n)),o(n,"function"==typeof t?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),s(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),k(this,2)},render:function(){}});var R={h:r,createElement:r,cloneElement:a,Component:j,render:N,rerender:c,options:T};e.default=R},function(t,e,n){"use strict";function i(t,e,n,a){function s(e){return t(e=new Date(+e)),e}return s.floor=s,s.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},s.range=function(n,i,r){var o,a=[];if(n=s.ceil(n),r=null==r?1:Math.floor(r),!(n<i&&r>0))return a;do{a.push(o=new Date(+n)),e(n,r),t(n)}while(o<n&&n<i);return a},s.filter=function(n){return i(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(s.count=function(e,i){return r.setTime(+e),o.setTime(+i),t(r),t(o),Math.floor(n(r,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}e.a=i;var r=new Date,o=new Date},function(t,e,n){"use strict";function i(t,e){this._groups=t,this._parents=e}function r(){return new i([[document.documentElement]],O)}n.d(e,"c",function(){return O}),e.a=i;var o=n(128),a=n(129),s=n(130),c=n(131),l=n(61),u=n(133),A=n(134),h=n(135),d=n(136),f=n(137),p=n(138),g=n(139),b=n(140),_=n(141),m=n(142),v=n(143),y=n(63),w=n(144),C=n(145),B=n(146),x=n(147),E=n(148),M=n(149),k=n(150),I=n(151),D=n(152),j=n(153),N=n(36),T=n(154),O=[null];i.prototype=r.prototype={constructor:i,select:o.a,selectAll:a.a,filter:s.a,data:c.a,enter:l.b,exit:u.a,merge:A.a,order:h.a,sort:d.a,call:f.a,nodes:p.a,node:g.a,size:b.a,empty:_.a,each:m.a,attr:v.a,style:y.a,property:w.a,classed:C.a,text:B.a,html:x.a,raise:E.a,lower:M.a,append:k.a,insert:I.a,remove:D.a,datum:j.a,on:N.b,dispatch:T.a},e.b=r},function(t,e,n){"use strict";function i(t,e){var n=o(t,e);if(n.state>A)throw new Error("too late; already scheduled");return n}function r(t,e){var n=o(t,e);if(n.state>d)throw new Error("too late; already started");return n}function o(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function a(t,e,n){function i(t){n.state=h,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var u,A,g,_;if(n.state!==h)return a();for(u in l)if(_=l[u],_.name===n.name){if(_.state===f)return Object(c.b)(r);_.state===p?(_.state=b,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete l[u]):+u<e&&(_.state=b,_.timer.stop(),delete l[u])}if(Object(c.b)(function(){n.state===f&&(n.state=p,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=d,n.on.call("start",t,t.__data__,n.index,n.group),n.state===d){for(n.state=f,s=new Array(g=n.tween.length),u=0,A=-1;u<g;++u)(_=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(s[++A]=_);s.length=A+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=g,1),r=-1,o=s.length;++r<o;)s[r].call(null,i);n.state===g&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=b,n.timer.stop(),delete l[e];for(var i in l)return;delete t.__transition}var s,l=t.__transition;l[e]=n,n.timer=Object(c.c)(i,0,n.time)}n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d}),n.d(e,"b",function(){return g}),n.d(e,"a",function(){return b}),e.g=i,e.h=r,e.f=o;var s=n(20),c=n(87),l=Object(s.a)("start","end","interrupt"),u=[],A=0,h=1,d=2,f=3,p=4,g=5,b=6;e.e=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};a(t,n,{name:e,index:i,group:r,on:l,tween:u,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:A})}},function(t,e,n){"use strict";var i=n(47);n.d(e,"a",function(){return i.a});var r=(n(81),n(50),n(79),n(82),n(29));n.d(e,"c",function(){return r.a});var o=(n(83),n(213));n.d(e,"e",function(){return o.a});var a=n(84);n.d(e,"f",function(){return a.a});var s=n(214);n.d(e,"g",function(){return s.a}),n.d(e,"h",function(){return s.b});var c=n(217);n.d(e,"i",function(){return c.a});var l=n(78);n.d(e,"d",function(){return l.a});var u=(n(218),n(219),n(220),n(221));n.d(e,"b",function(){return u.a});n(222)},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=f[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],e))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(u(i.parts[o],e));f[i.id]={id:i.id,refs:1,parts:a}}}}function r(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s=o[1],c=o[2],l=o[3],u={css:s,media:c,sourceMap:l};i[a]?i[a].parts.push(u):n.push(i[a]={id:a,parts:[u]})}return n}function o(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=m[m.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),o(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=_++;n=b||(b=s(e)),i=A.bind(null,n,l,!1),r=A.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),i=d.bind(null,n,e),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),i=h.bind(null,n),r=function(){a(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function A(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=v(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var f={},p=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),b=null,_=0,m=[],v=n(164);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=p()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return i(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],c=f[s.id];c.refs--,o.push(c)}if(t){i(r(t,e),e)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete f[c.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";var i=n(48);n.d(e,"a",function(){return i.e}),n.d(e,"f",function(){return i.g}),n.d(e,"d",function(){return i.f});var r=n(211);n.d(e,"e",function(){return r.a}),n.d(e,"c",function(){return r.b});var o=n(212);n.d(e,"b",function(){return o.a})},function(t,e,n){"use strict";var i=n(93);n.d(e,"b",function(){return i.a});var r=n(19);n.d(e,"a",function(){return r.a});var o=n(94);n.d(e,"c",function(){return o.a});var a=(n(262),n(263),n(96),n(98),n(264),n(267),n(268),n(102),n(269),n(270),n(271),n(272),n(103),n(95),n(273),n(53));n.d(e,"d",function(){return a.a});var s=n(100);n.d(e,"e",function(){return s.a});var c=(n(274),n(275),n(276),n(101));n.d(e,"h",function(){return c.a}),n.d(e,"f",function(){return c.b}),n.d(e,"g",function(){return c.c});n(104),n(97),n(277)},function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s});var i=1e3,r=6e4,o=36e5,a=864e5,s=6048e5},function(t,e,n){"use strict";function i(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function r(t){return Object(a.selection)().transition(t)}function o(){return++B}e.a=i,e.b=o;var a=n(0),s=n(228),c=n(229),l=n(230),u=n(231),A=n(232),h=n(233),d=n(234),f=n(235),p=n(236),g=n(237),b=n(238),_=n(239),m=n(240),v=n(241),y=n(242),w=n(243),C=n(30),B=0,x=a.selection.prototype;i.prototype=r.prototype={constructor:i,select:g.a,selectAll:b.a,filter:h.a,merge:d.a,selection:_.a,transition:w.a,call:x.call,nodes:x.nodes,node:x.node,size:x.size,empty:x.empty,each:x.each,on:f.a,attr:s.a,attrTween:c.a,style:m.a,styleTween:v.a,text:y.a,remove:p.a,tween:C.a,delay:l.a,duration:u.a,ease:A.a}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=Array.prototype,r=i.map,o=i.slice},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(158);n.d(e,"drag",function(){return i.a});var r=n(64);n.d(e,"dragDisable",function(){return r.a}),n.d(e,"dragEnable",function(){return r.b})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(39);n.d(e,"request",function(){return i.a});var r=n(186);n.d(e,"html",function(){return r.a});var o=n(187);n.d(e,"json",function(){return o.a});var a=n(188);n.d(e,"text",function(){return a.a});var s=n(189);n.d(e,"xml",function(){return s.a});var c=n(190);n.d(e,"csv",function(){return c.a});var l=n(193);n.d(e,"tsv",function(){return l.a})},function(t,e,n){"use strict";function i(t,e){var n={},i=[null];for(var r in t){i=t[r].map(function(){return null});break}for(var o in e){var a=e[o],s=a.bigg_id,c={};a.genes.forEach(function(e){["bigg_id","name"].forEach(function(n){var r=t[e[n]]||b.clone(i),o=c[e.bigg_id];if(void 0===o)c[e.bigg_id]=r;else for(var a=0;a<r.length;a++){var s=r[a];null!==s&&(o[a]=s)}})}),n[s]=c}return n}function r(t,e,n){if(null===t)return null;if(-1===["reaction_data","metabolite_data","gene_data"].indexOf(e))throw new Error("Invalid name argument: "+e);t instanceof Array||(t=[t]);if(function(){null===t||(1===t.length||(2===t.length||console.warn("Bad data style: "+e)))}(),t=b.array_to_object(t),"gene_data"===e){if(void 0===n)throw new Error("Must pass all_reactions argument for gene_data");t=i(t,n)}return t}function o(t,e,n){function i(t){return isFinite(t)?t:null}if(null===t)return null;var r=-1!=e.indexOf("abs");if(1==t.length){var o=g(t[0]);return null===o?null:function(t,e){return e?Math.abs(t):t}(o,r)}if(2!=t.length)throw new Error("Data array must be of length 1 or 2");var a=t.map(g);if(null===a[0]||null===a[1])return null;if("diff"==n)return function(t,e,n){return n?Math.abs(e-t):e-t}(a[0],a[1],r);if("fold"==n)return i(function(t,e,n){if(0==t||0==e)return null;var i=e>=t?e/t:-t/e;return n?Math.abs(i):i}(a[0],a[1],r));if("log2_fold"==n)return i(function(t,e,n){if(0==t)return null;if(e/t<0)return null;var i=Math.log(e/t)/Math.log(2);return n?Math.abs(i):i}(a[0],a[1],r));throw new Error("Bad data compare_style: "+n)}function a(t){return null!==t&&null!==t[0]&&t[0]<0}function s(t,e,n,i,r,a){function s(t,e){return null===t?"nd":e(t)}var c=t,l=null===e,u={};return n.forEach(function(t){var n=t.bigg_id;if(!(n in u))if(u[n]=!0,l)c=h(c,n,n+"\n");else{if(!(n in e))return;var r=e[n],A=o(r,i,a),d=null===A?v:m(".3g");if(1===r.length)c=h(c,n,n+" ("+s(r[0],d)+")\n");else if(2===r.length){var f,p=_.any(r,function(t){return null!==g(t)});f=p?n+" ("+s(r[0],d)+", "+s(r[1],d)+": "+s(A,d)+")\n":n+" ("+s(r[0],d)+", "+s(r[1],d)+")\n",c=h(c,n,f)}}}),c=c.replace(w,"\n").replace(C,"$1"),c.split("\n").map(function(t){for(var e=0,i=n.length;e<i;e++){var o=n[e];if(-1!==t.indexOf(o.bigg_id))return"name"===r&&(t=h(t,o.bigg_id,o.name)),{bigg_id:o.bigg_id,name:o.name,text:t}}return{bigg_id:null,name:null,text:t}})}function c(t,e){function n(t,e){return null===t?"(nd)":e(t)}if(null===t)return n(null);if(1===t.length){var i=null===e?v:m(".3g");return n(t[0],i)}if(2===t.length){var i=null===e?v:m(".3g"),r=n(t[0],i);return r+=", "+n(t[1],i),r+=": "+n(e,i)}return""}function l(t){var e=t[0].length,n=[];if(e<2||e>3)throw new Error("CSV file must have 2 or 3 columns");for(var i=1;i<e;i++)n[i-1]={};return t.slice(1).forEach(function(t){for(var e=1,i=t.length;e<i;e++)n[e-1][t[0]]=t[e]}),n}function u(t){var e=t.replace(B,"$1$2").replace(x,"").split(" ").filter(function(t){return""!=t});return b.unique_strings_array(e)}function A(t,e,n){var i=[null],r=1;for(var o in e){i=e[o].map(function(){return null}),r=i.length;break}if(""==t)return b.clone(i);for(var a=[],s=0;s<r;s++){var c=t,l=!0;for(var o in e){var u=g(e[o][s]);null===u?u=0:l=!1,c=h(c,o,u)}if(l)a.push(null);else{for(;;){var A=c;if(A=A.replace(E," $1 "),A=A.replace(I,function(t,e,n,i){return e+n.split(M).map(parseFloat).reduce(function(t,e){return t+e})+i}),(A=A.replace(D,function(t,e,i,r){var o=i.split(k).map(parseFloat);return e+("min"==n?Math.min.apply(null,o):o.reduce(function(t,e){return t+e})/o.length)+r}))==c)break;c=A}var d=Number(c);isNaN(d)?(console.warn("Could not evaluate "+t),a.push(null)):a.push(d)}}return a}function h(t,e,n){var i="(^|[\\s\\(\\)])"+function(t){return t.replace(y,"\\$1")}(e)+"([\\s\\(\\)]|$)";return t.replace(new RegExp(i,"g"),"$1"+n+"$2")}function d(t,e,n,i,r){_.isUndefined(r)&&(r=Object.keys(t));var s,l,u;return null===e?(r.map(function(e){s=t[e],s.data=null,s.data_string="";for(l in s.segments)u=s.segments[l],u.data=null;s.gene_string=null}),!1):(r.map(function(r){s=t[r];var A=e[s.bigg_id]||e[s.name]||null,h=o(A,n,i),d=a(A),f=c(A,h);s.data=h,s.data_string=f,s.reverse_flux=d,s.gene_string=null;for(l in s.segments)u=s.segments[l],u.data=s.data,u.reverse_flux=s.reverse_flux}),!0)}function f(t,e,n,i,r){_.isUndefined(r)&&(r=Object.keys(t));return null===e?(r.map(function(e){t[e].data=null,t[e].data_string=""}),!1):(r.map(function(r){var a=t[r],s=e[a.bigg_id]||e[a.name]||null,l=o(s,n,i),u=c(s,l);a.data=l,a.data_string=u}),!0)}function p(t,e,n,i,r,l,u){if(_.isUndefined(u)&&(u=Object.keys(t)),null===e)return u.map(function(e){var n=t[e];n.data=null,n.data_string="",n.reverse_flux=!1;for(var i in n.segments){n.segments[i].data=null}n.gene_string=null}),!1;var h=[null];for(var d in e){for(var f in e[d]){h=e[d][f].map(function(){return null});break}break}return u.map(function(u){var d,f,p=t[u],g=p.gene_reaction_rule,m=e[p.bigg_id];_.isUndefined(m)?(f={},d=b.clone(h)):(f=m,d=A(g,f,l));var v=o(d,n,r),y=a(d),w=c(d,v);p.data=v,p.data_string=w,p.reverse_flux=y;for(var C in p.segments){var B=p.segments[C];B.data=p.data,B.reverse_flux=p.reverse_flux}p.gene_string=s(g,f,p.genes,n,i,r)}),!0}function g(t){var e=Number(t);return isNaN(e)||parseFloat(t)!=e?null:e}var b=n(1),_=n(2),m=n(27).format;t.exports={import_and_check:r,text_for_data:c,float_for_data:o,reverse_flux_for_data:a,gene_string_for_data:s,csv_converter:l,genes_for_gene_reaction_rule:u,evaluate_gene_reaction_rule:A,replace_gene_in_rule:h,apply_reaction_data_to_reactions:d,apply_metabolite_data_to_nodes:f,apply_gene_data_to_reactions:p};var v=function(t){return t},y=/([.*+?^=!:${}()|\[\]\/\\])/g,w=/\n\s*\n/g,C=/\n\s*(\)*)\s*$/,B=/([\(\) ])(?:and|or)([\)\( ])/gi,x=/[\(\)]/g,E=/\(\s*(\S+)\s*\)/g,M=/\s+or\s+/i,k=/\s+and\s+/i,I=/(^|\()(\s*-?[0-9.]+\s+(?:or\s+-?[0-9.]+\s*)+)(\)|$)/gi,D=/(^|\(|or\s)(\s*-?[0-9.]+\s+(?:and\s+-?[0-9.]+\s*)+)(\sor|\)|$)/gi},function(t,e,n){"use strict";function i(){}function r(t,e){return void 0===this.callbacks&&(this.callbacks={}),void 0===this.callbacks[t]&&(this.callbacks[t]=[]),this.callbacks[t].push(e),this}function o(t){return void 0!==this.callbacks&&0!=Object.keys(this.callbacks).length||console.warn("No callbacks to remove"),delete this.callbacks[t],this}function a(t,e){if(c.isUndefined(this.callbacks))return this;c.isUndefined(e)&&(e=null);var n=Array.prototype.slice.call(arguments,2);for(var i in this.callbacks){i.split(".")[0]==t&&this.callbacks[i].forEach(function(t){t.apply(e,n)})}return this}var s=n(1),c=n(2),l=s.make_class();l.prototype={init:i,set:r,remove:o,run:a},t.exports=l},function(t,e,n){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";var i=n(159);n.d(e,"a",function(){return i.a})},function(t,e,n){"use strict";function i(t,e){return function(n){return t+n*e}}function r(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function o(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(c.a)(isNaN(t)?e:t)}function a(t){return 1==(t=+t)?s:function(e,n){return n-e?r(e,n,t):Object(c.a)(isNaN(e)?n:e)}}function s(t,e){var n=e-t;return n?i(t,n):Object(c.a)(isNaN(t)?e:t)}e.c=o,e.b=a,e.a=s;var c=n(80)},function(t,e,n){"use strict";e.a=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";function i(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(o.h)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Object(c.a)(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),a=0,s=r.length-1,c=r[a],l=r[s];return l<c&&(i=c,c=l,l=i,i=a,a=s,s=i),i=Object(o.f)(c,l,n),i>0?(c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i,i=Object(o.f)(c,l,n)):i<0&&(c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i,i=Object(o.f)(c,l,n)),i>0?(r[a]=Math.floor(c/i)*i,r[s]=Math.ceil(l/i)*i,e(r)):i<0&&(r[a]=Math.ceil(c*i)/i,r[s]=Math.floor(l*i)/i,e(r)),t},t}function r(){var t=Object(s.b)(s.c,a.c);return t.copy=function(){return Object(s.a)(t,r())},i(t)}e.b=i,e.a=r;var o=n(11),a=n(7),s=n(31),c=n(279)},function(t,e,n){"use strict";e.a=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}},function(t,e,n){"use strict";var i=n(39);e.a=function(t,e){return function(n,r){var o=Object(i.a)(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return o.get(r)}return o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(195);n.d(e,"formatDefaultLocale",function(){return i.a}),n.d(e,"format",function(){return i.b}),n.d(e,"formatPrefix",function(){return i.c});var r=n(72);n.d(e,"formatLocale",function(){return r.a});var o=n(73);n.d(e,"formatSpecifier",function(){return o.a});var a=n(201);n.d(e,"precisionFixed",function(){return a.a});var s=n(202);n.d(e,"precisionPrefix",function(){return s.a});var c=n(203);n.d(e,"precisionRound",function(){return c.a})},function(t,e,n){"use strict";var i=n(43);e.a=function(t){return t=Object(i.a)(Math.abs(t)),t?t[1]:NaN}},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e-=t,function(n){return t+e*n}}},function(t,e,n){"use strict";function i(t,e){var n,i;return function(){var r=Object(a.h)(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,c=i.length;s<c;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function r(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Object(a.h)(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var c={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=c;break}l===u&&r.push(c)}o.tween=r}}function o(t,e,n){var i=t._id;return t.each(function(){var t=Object(a.h)(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(a.f)(t,i).value[e]}}e.b=o;var a=n(6);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,s=Object(a.f)(this.node(),n).tween,c=0,l=s.length;c<l;++c)if((o=s[c]).name===t)return o.value;return null}return this.each((null==e?i:r)(n,t,e))}},function(t,e,n){"use strict";function i(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Object(d.a)(e)}function r(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}function o(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}function a(t,e,n,i){var r=t[0],o=t[1],a=e[0],s=e[1];return o<r?(r=n(o,r),a=i(s,a)):(r=n(r,o),a=i(a,s)),function(t){return a(r(t))}}function s(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)o[s]=n(t[s],t[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var n=Object(u.b)(t,e,1,r)-1;return a[n](o[n](e))}}function c(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function l(t,e){function n(){return l=Math.min(g.length,b.length)>2?s:a,u=d=null,c}function c(e){return(u||(u=l(g,b,m?r(t):t,_)))(+e)}var l,u,d,g=p,b=p,_=A.a,m=!1;return c.invert=function(t){return(d||(d=l(b,g,i,m?o(e):e)))(+t)},c.domain=function(t){return arguments.length?(g=h.a.call(t,f.a),n()):g.slice()},c.range=function(t){return arguments.length?(b=h.b.call(t),n()):b.slice()},c.rangeRound=function(t){return b=h.b.call(t),_=A.e,n()},c.clamp=function(t){return arguments.length?(m=!!t,n()):m},c.interpolate=function(t){return arguments.length?(_=t,n()):_},n()}e.c=i,e.a=c,e.b=l;var u=n(11),A=n(7),h=n(14),d=n(54),f=n(106),p=[0,1]},function(t,e,n){"use strict";function i(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===a.b&&e.documentElement.namespaceURI===a.b?e.createElement(t):e.createElementNS(n,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var o=n(33),a=n(34);e.a=function(t){var e=Object(o.a)(t);return(e.local?r:i)(e)}},function(t,e,n){"use strict";var i=n(34);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.a.hasOwnProperty(e)?{space:i.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var i="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";var i=n(36);e.a=function(){for(var t,e=i.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";function i(t,e,n){return t=r(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function r(t,e,n){return function(i){var r=u;u=i;try{t.call(this,this.__data__,e,n)}finally{u=r}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function a(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function s(t,e,n){var o=l.hasOwnProperty(t.type)?i:r;return function(i,r,a){var s,c=this.__on,l=o(e,r,a);if(c)for(var u=0,A=c.length;u<A;++u)if((s=c[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function c(t,e,n,i){var r=u;t.sourceEvent=u,u=t;try{return e.apply(n,i)}finally{u=r}}n.d(e,"c",function(){return u}),e.a=c;var l={},u=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(l={mouseenter:"mouseover",mouseleave:"mouseout"})}e.b=function(t,e,n){var i,r,c=o(t+""),l=c.length;{if(!(arguments.length<2)){for(u=e?s:a,null==n&&(n=!1),i=0;i<l;++i)this.each(u(c[i],e,n));return this}var u=this.node().__on;if(u)for(var A,h=0,d=u.length;h<d;++h)for(i=0,A=u[h];i<l;++i)if((r=c[i]).type===A.type&&r.name===A.name)return A.value}}},function(t,e,n){"use strict";function i(){}e.a=function(t){return null==t?i:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";function i(t){return function(e,n){t(null==e?n:null)}}function r(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}var o=n(68),a=n(20);e.a=function(t,e){function n(t){var e,n=d.status;if(!n&&r(d)||n>=200&&n<300||304===n){if(l)try{e=l.call(s,d)}catch(t){return void A.call("error",s,t)}else e=d;A.call("load",s,e)}else A.call("error",s,t)}var s,c,l,u,A=Object(a.a)("beforesend","progress","load","error"),h=Object(o.a)(),d=new XMLHttpRequest,f=null,p=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(t)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=n:d.onreadystatechange=function(t){d.readyState>3&&n(t)},d.onprogress=function(t){A.call("progress",s,t)},s={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?h.get(t):(null==e?h.remove(t):h.set(t,e+""),s)},mimeType:function(t){return arguments.length?(c=null==t?null:t+"",s):c},responseType:function(t){return arguments.length?(u=t,s):u},timeout:function(t){return arguments.length?(g=+t,s):g},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",s)},password:function(t){return arguments.length<1?p:(p=null==t?null:t+"",s)},response:function(t){return l=t,s},get:function(t,e){return s.send("GET",t,e)},post:function(t,e){return s.send("POST",t,e)},send:function(e,n,r){return d.open(e,t,!0,f,p),null==c||h.has("accept")||h.set("accept",c+",*/*"),d.setRequestHeader&&h.each(function(t,e){d.setRequestHeader(e,t)}),null!=c&&d.overrideMimeType&&d.overrideMimeType(c),null!=u&&(d.responseType=u),g>0&&(d.timeout=g),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=i(r)),null!=r&&s.on("error",r).on("load",function(t){r(null,t)}),A.call("beforesend",s,d),d.send(null==n?null:n),s},abort:function(){return d.abort(),s},on:function(){var t=A.on.apply(A,arguments);return t===A?s:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return s.get(e)}return s}},function(t,e,n){"use strict";function i(){}function r(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(r=t[o],o,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}n.d(e,"b",function(){return o});var o="$";i.prototype=r.prototype={constructor:i,has:function(t){return o+t in this},get:function(t){return this[o+t]},set:function(t,e){return this[o+t]=e,this},remove:function(t){var e=o+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===o&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===o&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===o&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===o&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===o&&++t;return t},empty:function(){for(var t in this)if(t[0]===o)return!1;return!0},each:function(t){for(var e in this)e[0]===o&&t(this[e],e.slice(1),this)}},e.a=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(42);n.d(e,"dsvFormat",function(){return i.a});var r=n(191);n.d(e,"csvParse",function(){return r.c}),n.d(e,"csvParseRows",function(){return r.d}),n.d(e,"csvFormat",function(){return r.a}),n.d(e,"csvFormatRows",function(){return r.b});var o=n(192);n.d(e,"tsvParse",function(){return o.c}),n.d(e,"tsvParseRows",function(){return o.d}),n.d(e,"tsvFormat",function(){return o.a}),n.d(e,"tsvFormatRows",function(){return o.b})},function(t,e,n){"use strict";function i(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function r(t,e){var n=i(t);return function(i,r){return e(n(i),r,t)}}function o(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}var a={},s={},c=34,l=10,u=13;e.a=function(t){function e(t,e){var o,a,s=n(t,function(t,n){if(o)return o(t,n-1);a=t,o=e?r(t,e):i(t)});return s.columns=a||[],s}function n(t,e){function n(){if(d)return s;if(f)return f=!1,a;var e,n,i=A;if(t.charCodeAt(i)===c){for(;A++<o&&t.charCodeAt(A)!==c||t.charCodeAt(++A)===c;);return(e=A)>=o?d=!0:(n=t.charCodeAt(A++))===l?f=!0:n===u&&(f=!0,t.charCodeAt(A)===l&&++A),t.slice(i+1,e-1).replace(/""/g,'"')}for(;A<o;){if((n=t.charCodeAt(e=A++))===l)f=!0;else if(n===u)f=!0,t.charCodeAt(A)===l&&++A;else if(n!==g)continue;return t.slice(i,e)}return d=!0,t.slice(i,o)}var i,r=[],o=t.length,A=0,h=0,d=o<=0,f=!1;for(t.charCodeAt(o-1)===l&&--o,t.charCodeAt(o-1)===u&&--o;(i=n())!==s;){for(var p=[];i!==a&&i!==s;)p.push(i),i=n();e&&null==(p=e(p,h++))||r.push(p)}return r}function A(e,n){return null==n&&(n=o(e)),[n.map(f).join(t)].concat(e.map(function(e){return n.map(function(t){return f(e[t])}).join(t)})).join("\n")}function h(t){return t.map(d).join("\n")}function d(e){return e.map(f).join(t)}function f(t){return null==t?"":p.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var p=new RegExp('["'+t+"\n\r]"),g=t.charCodeAt(0);return{parse:e,parseRows:n,format:A,formatRows:h}}},function(t,e,n){"use strict";e.a=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}},function(t,e,n){"use strict";function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.div=t,this.map=e,this.displacement=n,this.shouldReposition=i,this.visible=!0,this.hide()}function r(){return this.visible}function o(t){this.div.style("display",null);var e=this.map.zoom_container.window_translate,n=this.map.zoom_container.window_scale,i=this.map.get_size();if(this.shouldReposition){var r=Math.max(20,Math.min(i.width-270,n*t.x+e.x-this.displacement.x)),o=Math.max(20,Math.min(i.height-40,n*t.y+e.y-this.displacement.y));this.div.style("position","absolute").style("display","block").style("left",r+"px").style("top",o+"px")}else this.div.style("position","absolute").style("display","block").style("left",n*t.x+e.x-this.displacement.x+"px").style("top",n*t.y+e.y-this.displacement.y+"px");this.visible=!0}function a(){this.visible&&(this.div.style("display","none"),this.visible=!1)}var s=n(1),c=s.make_class();c.prototype={init:i,is_visible:r,place:o,hide:a},t.exports=c},function(t,e,n){"use strict";function i(t,e){var n=function(t){return 1==t?"":String(t)+" "},i=[],r=[];for(var o in t){var a=t[o];a>0?r.push(n(a)+o):i.push(n(Math.abs(a))+o)}var s=i.join(" + ");return s+=e?" ↔ ":" → ",s+=r.join(" + ")}function r(t){if(!t.reactions||!t.metabolites)throw new Error("Bad model data.");for(var e={},n=0,i=t.genes.length;n<i;n++){var r=t.genes[n],o=r.id;e[o]=r}var a=new A;a.reactions={};for(var n=0,i=t.reactions.length;n<i;n++){var r=t.reactions[n],o=r.id,s=l.clone(r);if(delete s.id,s.bigg_id=o,s.data_string="",s.genes=[],s.reversibility=s.lower_bound<0&&s.upper_bound>0,s.upper_bound<=0&&s.lower_bound<0)for(var c in s.metabolites)s.metabolites[c]=-s.metabolites[c];if(delete s.lower_bound,delete s.upper_bound,"gene_reaction_rule"in s){u.genes_for_gene_reaction_rule(s.gene_reaction_rule).forEach(function(t){if(t in e){var n=l.clone(e[t]);n.bigg_id=n.id,delete n.id,s.genes.push(n)}else console.warn("Could not find gene for gene_id "+t)})}a.reactions[o]=s}a.metabolites={};for(var n=0,i=t.metabolites.length;n<i;n++){var r=t.metabolites[n],o=r.id,h=l.clone(r);delete h.id,h.bigg_id=o,a.metabolites[o]=h}return a}function o(){this.reactions={},this.metabolites={}}function a(t,e,n){u.apply_reaction_data_to_reactions(this.reactions,t,e,n)}function s(t,e,n){u.apply_metabolite_data_to_nodes(this.metabolites,t,e,n)}function c(t,e,n,i,r){u.apply_gene_data_to_reactions(this.reactions,t,e,n,i,r)}var l=n(1),u=n(17),A=l.make_class();A.from_cobra_json=r,A.build_reaction_string=i,A.prototype={init:o,apply_reaction_data:a,apply_metabolite_data:s,apply_gene_data:c},t.exports=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(210);n.d(e,"zoom",function(){return i.a});var r=n(89);n.d(e,"zoomTransform",function(){return r.b}),n.d(e,"zoomIdentity",function(){return r.c})},function(t,e,n){"use strict";var i=n(10),r=n(78),o=n(81),a=n(82),s=n(29),c=n(83),l=n(84),u=n(80);e.a=function(t,e){var n,A=typeof e;return null==e||"boolean"===A?Object(u.a)(e):("number"===A?s.a:"string"===A?(n=Object(i.a)(e))?(e=n,r.a):l.a:e instanceof i.a?r.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?c.a:s.a)(t,e)}},function(t,e,n){"use strict";function i(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=y.exec(t))?(e=parseInt(e[1],16),new l(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=w.exec(t))?o(parseInt(e[1],16)):(e=C.exec(t))?new l(e[1],e[2],e[3],1):(e=B.exec(t))?new l(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=x.exec(t))?a(e[1],e[2],e[3],e[4]):(e=E.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=M.exec(t))?u(e[1],e[2]/100,e[3]/100,1):(e=k.exec(t))?u(e[1],e[2]/100,e[3]/100,e[4]):I.hasOwnProperty(t)?o(I[t]):"transparent"===t?new l(NaN,NaN,NaN,0):null}function o(t){return new l(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,i){return i<=0&&(t=e=n=NaN),new l(t,e,n,i)}function s(t){return t instanceof i||(t=r(t)),t?(t=t.rgb(),new l(t.r,t.g,t.b,t.opacity)):new l}function c(t,e,n,i){return 1===arguments.length?s(t):new l(t,e,n,null==i?1:i)}function l(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function u(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new d(t,e,n,i)}function A(t){if(t instanceof d)return new d(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=r(t)),!t)return new d;if(t instanceof d)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),s=Math.max(e,n,o),c=NaN,l=s-a,u=(s+a)/2;return l?(c=e===s?(n-o)/l+6*(n<o):n===s?(o-e)/l+2:(e-n)/l+4,l/=u<.5?s+a:2-s-a,c*=60):l=u>0&&u<1?0:c,new d(c,l,u,t.opacity)}function h(t,e,n,i){return 1===arguments.length?A(t):new d(t,e,n,null==i?1:i)}function d(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function f(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e.a=i,n.d(e,"d",function(){return g}),n.d(e,"c",function(){return b}),e.e=r,e.h=s,e.g=c,e.b=l,e.f=h;var p=n(49),g=.7,b=1/g,_="\\s*([+-]?\\d+)\\s*",m="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",v="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y=/^#([0-9a-f]{3})$/,w=/^#([0-9a-f]{6})$/,C=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),B=new RegExp("^rgb\\("+[v,v,v]+"\\)$"),x=new RegExp("^rgba\\("+[_,_,_,m]+"\\)$"),E=new RegExp("^rgba\\("+[v,v,v,m]+"\\)$"),M=new RegExp("^hsl\\("+[m,v,v]+"\\)$"),k=new RegExp("^hsla\\("+[m,v,v,m]+"\\)$"),I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(p.a)(i,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(p.a)(l,c,Object(p.b)(i,{brighter:function(t){return t=null==t?b:Math.pow(b,t),new l(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new l(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(p.a)(d,h,Object(p.b)(i,{brighter:function(t){return t=null==t?b:Math.pow(b,t),new d(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new d(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new l(f(t>=240?t-240:t+120,r,i),f(t,r,i),f(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";function i(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}e.b=i,e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function i(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}e.a=i,e.b=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,c=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,c)}}},function(t,e,n){"use strict";function i(){return m||(w(r),m=y.now()+v)}function r(){m=0}function o(){this._call=this._time=this._next=null}function a(t,e,n){var i=new o;return i.restart(t,e,n),i}function s(){i(),++f;for(var t,e=h;e;)(t=m-e._time)>=0&&e._call.call(null,t),e=e._next;--f}function c(){m=(_=y.now())+v,f=p=0;try{s()}finally{f=0,u(),m=0}}function l(){var t=y.now(),e=t-_;e>b&&(v-=e,_=t)}function u(){for(var t,e,n=h,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:h=e);d=t,A(i)}function A(t){if(!f){p&&(p=clearTimeout(p));t-m>24?(t<1/0&&(p=setTimeout(c,t-y.now()-v)),g&&(g=clearInterval(g))):(g||(_=y.now(),g=setInterval(l,b)),f=1,w(c))}}e.b=i,e.a=o,e.c=a;var h,d,f=0,p=0,g=0,b=1e3,_=0,m=0,v=0,y="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?i():+n)+(null==e?0:+e),this._next||d===this||(d?d._next=this:h=this,d=this),this._call=t,this._time=n,A()},stop:function(){this._call&&(this._call=null,this._time=1/0,A())}}},function(t,e,n){"use strict";function i(t){if(Math.abs(t)>Math.PI)throw new Error("Angle must be between -PI and PI");return Math.abs(t)<Math.PI/7||Math.abs(t-Math.PI)<Math.PI/7?{x:-50,y:-40}:t>0?{x:15*(1-Math.abs(t-Math.PI/2)/(Math.PI/2)),y:10+50*(t-Math.PI/2)}:{x:15*(1-Math.abs(t+Math.PI/2)/(Math.PI/2)),y:10-50*(Math.abs(t)-Math.PI/2)}}function r(t,e,n,i,r,o){var a=18*r.length,s=e-(e>o)-n/2>=-1;return Math.abs(t)<Math.PI/7?i||s?{x:.3*-a,y:40}:{x:.3*-a,y:-20}:Math.abs(t-Math.PI)<Math.PI/7?i||!s?{x:.3*-a,y:40}:{x:.3*-a,y:-20}:i?{x:25-38*Math.abs(Math.abs(t)-Math.PI/2),y:(Math.abs(t)-Math.PI/2)*(2*(t>0)-1)*50}:t<0&&s||t>0&&!s?{x:15,y:0}:{x:.5*-a,y:30}}function o(t,e,n,o,s,c,l,u){u=b.to_radians_norm(u);var h=String(++c.reactions),d={x:s.x,y:s.y},f=[d,b.c_plus_c(d,{x:350,y:0})],p={x:(f[0].x+f[1].x)/2,y:(f[0].y+f[1].y)/2},_=i(u),m={name:e.name,bigg_id:e.bigg_id,reversibility:e.reversibility,gene_reaction_rule:e.gene_reaction_rule,genes:b.clone(e.genes),metabolites:b.clone(e.metabolites)};b.extend(m,{label_x:p.x+_.x,label_y:p.y+_.y,segments:{}});var v=[],y=[],w=0,C=0,B=!1;for(var x in m.metabolites){var E=n[x],M=m.metabolites[x],k=E.formula,I={coefficient:M,bigg_id:x,name:E.name};if(M<0){I.index=w;var D=/C([0-9]+)/.exec(k);s.bigg_id===I.bigg_id?v.push([I.index,1/0]):D&&-1===l.indexOf(b.decompartmentalize(I.bigg_id)[0])&&v.push([I.index,parseInt(D[1])]),w++}else{I.index=C;var D=/C([0-9]+)/.exec(k);s.bigg_id===I.bigg_id?(y.push([I.index,1/0]),B=!0):D&&-1===l.indexOf(b.decompartmentalize(I.bigg_id)[0])&&y.push([I.index,parseInt(D[1])]),C++}m.metabolites[x]=I}var j=function(t,e){return e[1]>t[1]?e:t},N=v.reduce(j,[0,0])[0],T=y.reduce(j,[0,0])[0];for(var x in m.metabolites){var E=m.metabolites[x];E.coefficient<0?(E.is_primary=E.index===N,E.count=w):(E.is_primary=E.index===T,E.count=C)}var O={},z=[{node_type:"anchor_reactants",dis:{x:20*(B?1:-1),y:0}},{node_type:"center",dis:{x:0,y:0}},{node_type:"anchor_products",dis:{x:20*(B?-1:1),y:0}}],S={};z.map(function(t){var e=String(++c.nodes),n="center"===t.node_type?"midmarker":"multimarker";O[e]={node_type:n,x:p.x+t.dis.x,y:p.y+t.dis.y,connected_segments:[],name:null,bigg_id:null,label_x:null,label_y:null,node_is_primary:null,data:null},S[t.node_type]=e}),[[S.anchor_reactants,S.center,"reactants"],[S.anchor_products,S.center,"products"]].map(function(t){var e=t[0],n=t[1],i=String(++c.segments),r=0===w&&"reactants"===t[2]&&m.reversibility||0===C&&"products"===t[2];m.segments[i]={b1:null,b2:null,from_node_id:e,to_node_id:n,from_node_coefficient:null,to_node_coefficient:null,reversibility:m.reversibility,data:m.data,reverse_flux:m.reverse_flux,unconnected_segment_with_arrow:r},O[e].connected_segments.push({segment_id:i,reaction_id:h}),O[n].connected_segments.push({segment_id:i,reaction_id:h})});var Q=O;for(var x in m.metabolites){var L,F,E=m.metabolites[x];E.coefficient<0?(L=N,F=S.anchor_reactants):(L=T,F=S.anchor_products);var Y=A(E,L,f,p,350,B);if(s.bigg_id===E.bigg_id){var U=String(++c.segments);m.segments[U]={b1:Y.b1,b2:Y.b2,from_node_id:F,to_node_id:o,from_node_coefficient:null,to_node_coefficient:E.coefficient,reversibility:m.reversibility},s.connected_segments.push({segment_id:U,reaction_id:h}),Q[F].connected_segments.push({segment_id:U,reaction_id:h})}else{var U=String(++c.segments),W=String(++c.nodes);m.segments[U]={b1:Y.b1,b2:Y.b2,from_node_id:F,to_node_id:W,from_node_coefficient:null,to_node_coefficient:E.coefficient,reversibility:m.reversibility};var G=r(u,E.index,E.count,E.is_primary,E.bigg_id,L);Q[W]={connected_segments:[{segment_id:U,reaction_id:h}],x:Y.circle.x,y:Y.circle.y,node_is_primary:E.is_primary,label_x:Y.circle.x+G.x,label_y:Y.circle.y+G.y,name:E.name,bigg_id:E.bigg_id,node_type:"metabolite"},Q[F].connected_segments.push({segment_id:U,reaction_id:h})}}var R=[];for(var t in m.metabolites)R.push({bigg_id:t,coefficient:m.metabolites[t].coefficient});m.metabolites=R;var P={};P[h]=m;var Z=g(P);return Q[o]=s,a(Q,P,Z,u,d),{new_reactions:P,new_beziers:Z,new_nodes:Q}}function a(t,e,n,i,r){var o=function(t){return null===t?null:b.rotate_coords(t,i,r)},a=[],s=[];for(var l in t){var u=t[l],A=o({x:u.x,y:u.y}),h=c(u,e,A);u.connected_segments.map(function(t){var i=e[t.reaction_id];if(void 0!==i){var r=t.segment_id,a=i.segments[r];if(a.to_node_id==l&&a.b2){var s=o(a.b2),c=d(r,"b2");a.b2=b.c_plus_c(a.b2,s),n[c].x=a.b2.x,n[c].y=a.b2.y}else if(a.from_node_id==l&&a.b1){var s=o(a.b1),c=d(r,"b1");a.b1=b.c_plus_c(a.b1,s),n[c].x=a.b1.x,n[c].y=a.b1.y}}}),s=b.unique_concat([s,h.reaction_ids]),a.push(l)}return{node_ids:a,reaction_ids:s}}function s(t,e,n,i,r){var o=c(t,n,r);return t.connected_segments.map(function(t){var a=n[t.reaction_id];if(!_.isUndefined(a)){var s=t.segment_id,c=a.segments[s];[["b1","from_node_id"],["b2","to_node_id"]].forEach(function(t){var n=t[0],o=t[1];if(c[o]===e&&c[n]){c[n]=b.c_plus_c(c[n],r);var a=i[d(s,n)];a.x=c[n].x,a.y=c[n].y}}),o.reaction_ids.indexOf(t.reaction_id)<0&&o.reaction_ids.push(t.reaction_id)}}),o}function c(t,e,n){t.x=t.x+n.x,t.y=t.y+n.y,t.label_x=t.label_x+n.x,t.label_y=t.label_y+n.y;var i=[];return t.connected_segments.map(function(r){var o=e[r.reaction_id];i.indexOf(r.reaction_id)<0&&(i.push(r.reaction_id),"midmarker"==t.node_type&&(o.label_x=o.label_x+n.x,o.label_y=o.label_y+n.y))}),{reaction_ids:i}}function l(t,e,n){var i=Math.floor(n/2);return t*(e-i+(e>=i))}function u(t,e,n,i){var r=Math.floor(i/2);return e+Math.abs(n-r+(n>=r))*t}function A(t,e,n,i,r,o){var a=n[0];n=[b.c_minus_c(n[0],a),b.c_minus_c(n[1],a)],i=b.c_minus_c(i,a);var s,c,A=t.count-1;t.is_primary?s=20:(s=10,c=t.index>e?t.index-1:t.index);var h,d,f,p,g=r-s,_=[{x:s,y:0},{x:g,y:0}];return t.coefficient<0!==o&&t.is_primary?(h={x:_[0].x,y:_[0].y},f={x:.6*i.x+.4*_[0].x,y:.6*i.y+.4*_[0].y},p={x:.25*i.x+.75*h.x,y:.25*i.y+.75*h.y},d={x:n[0].x,y:n[0].y}):t.coefficient<0!==o?(h={x:_[0].x+u(20,50,c,A),y:_[0].y+l(24,c,A)},f={x:.6*i.x+.4*_[0].x,y:.6*i.y+.4*_[0].y},p={x:.25*i.x+.75*h.x,y:.25*i.y+.75*h.y},d={x:n[0].x+u(20,50,c,A),y:n[0].y+l(80,c,A)}):t.coefficient>0!==o&&t.is_primary?(h={x:_[1].x,y:_[1].y},f={x:.6*i.x+.4*_[1].x,y:.6*i.y+.4*_[1].y},p={x:.25*i.x+.75*h.x,y:.25*i.y+.75*h.y},d={x:n[1].x,y:n[1].y}):t.coefficient>0!==o&&(h={x:_[1].x-u(20,50,c,A),y:_[1].y+l(24,c,A)},f={x:.6*i.x+.4*_[1].x,y:.6*i.y+.4*_[1].y},p={x:.25*i.x+.75*h.x,y:.25*i.y+.75*h.y},d={x:n[1].x-u(20,50,c,A),y:n[1].y+l(80,c,A)}),{b1:b.c_plus_c(a,f),b2:b.c_plus_c(a,p),circle:b.c_plus_c(a,d)}}function h(t,e,n){return{id:String(++t.text_labels),label:{text:e,x:n.x,y:n.y}}}function d(t,e){return t+"_"+e}function f(t){var e=[];for(var n in t){var i=t[n];for(var r in i.segments){var o=i.segments[r];["b1","b2"].forEach(function(t){null!==o[t]&&e.push(d(r,t))})}}return e}function p(t,e){var n={};for(var i in t){var r=t[i];["b1","b2"].forEach(function(t){var o=r[t];if(null!==o){var a=d(i,t);n[a]={bezier:t,x:o.x,y:o.y,reaction_id:e,segment_id:i}}})}return n}function g(t){var e={};for(var n in t){var i=t[n],r=p(i.segments,n);b.extend(e,r)}return e}var b=n(1),_=n(2);t.exports={get_met_label_loc:r,new_reaction:o,rotate_nodes:a,move_node_and_dependents:s,new_text_label:h,bezier_id_for_segment_id:d,bezier_ids_for_reaction_ids:f,new_beziers_for_segments:p,new_beziers_for_reactions:g}},function(t,e,n){"use strict";var i=n(22);e.a=function(t,e,n){if(null==n&&(n=i.a),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,a=Math.floor(o),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(o-a)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var i=(n(4),n(285));n.d(e,"c",function(){return i.a}),n.d(e,"n",function(){return i.a});var r=n(286);n.d(e,"g",function(){return r.a}),n.d(e,"r",function(){return r.a});var o=n(287);n.d(e,"d",function(){return o.a});var a=n(288);n.d(e,"b",function(){return a.a});var s=n(289);n.d(e,"a",function(){return s.a});var c=n(290);n.d(e,"j",function(){return c.b}),n.d(e,"h",function(){return c.b}),n.d(e,"e",function(){return c.a}),n.d(e,"i",function(){return c.c});var l=n(291);n.d(e,"f",function(){return l.a});var u=n(292);n.d(e,"k",function(){return u.a});var A=n(293);n.d(e,"o",function(){return A.a});var h=n(294);n.d(e,"m",function(){return h.a});var d=n(295);n.d(e,"l",function(){return d.a});var f=n(296);n.d(e,"u",function(){return f.b}),n.d(e,"s",function(){return f.b}),n.d(e,"p",function(){return f.a}),n.d(e,"t",function(){return f.c});var p=n(297);n.d(e,"q",function(){return p.a});var g=n(298);n.d(e,"v",function(){return g.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i,r,o,a,s,c=n(110);!function(t){i=Object(c.a)(t),r=i.format,o=i.parse,a=i.utcFormat,s=i.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(t,e,n){(function(t,i){var r,o;(function(){function a(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.obs=t,this.sync=e,this.lazy=n,this.queue=[]}function s(){a.apply(this,arguments)}function c(t){a.call(this,t,!0)}function l(t,e,n){this.context=t,this.method=e,this.args=n}function u(t){this.value=t}function A(){this.id=++ct}function h(t,e){if(!(this instanceof h))return new h(t,e);A.call(this),!e&&G.isFunction(t)||(null!=t?t._isNext:void 0)?(this.valueF=t,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=t)}function d(t,e){if(!(this instanceof d))return new d(t,e);h.call(this,t,e)}function f(){if(!(this instanceof f))return new f;A.call(this)}function p(t){if(!(this instanceof p))return new p(t);this.error=t,A.call(this)}function g(t){this.desc=t,this.id=++dt,this.initialDesc=this.desc}function b(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.unsubscribe=G.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var e,n=0;n<t.length;n++)e=t[n],this.add(e)}function _(t,e){this._subscribe=t,this._handleEvent=e,this.subscribe=G.bind(this.subscribe,this),this.handleEvent=G.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function m(t,e,n){if(!(this instanceof m))return new m(t,e,n);G.isFunction(t)&&(n=e,e=t,t=l.empty),g.call(this,t),z(e),this.dispatcher=new _(e,n),ft(this)}function v(t,e,n){_.call(this,e,n),this.property=t,this.subscribe=G.bind(this.subscribe,this),this.current=at,this.currentValueRootId=void 0,this.propertyEnded=!1}function y(t,e,n){g.call(this,t),z(e),this.dispatcher=new v(this,e,n),ft(this)}function w(){if(!(this instanceof w))return new w;this.unsubAll=G.bind(this.unsubAll,this),this.subscribeAll=G.bind(this.subscribeAll,this),this.guardedSink=G.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,m.call(this,new E.Desc(E,"Bus",[]),this.subscribeAll)}function C(t){return[t,At()]}function B(t){this.observable=t}var x=Array.prototype.slice,E={toString:function(){return"Bacon"}};E.version="0.7.95";var M=(void 0!==t&&null!==t?t:this).Error,k=function(){},I=function(t,e){return t},D=function(t){return t.slice(0)},j=function(t,e){if(!e)throw new M(t)},N=function(t){if((null!=t?t._isObservable:void 0)&&!(null!=t?t._isProperty:void 0))throw new M("Observable is not a Property : "+t)},T=function(t){if(!(null!=t?t._isEventStream:void 0))throw new M("not an EventStream : "+t)},O=function(t){if(!(null!=t?t._isObservable:void 0))throw new M("not an Observable : "+t)},z=function(t){return j("not a function : "+t,G.isFunction(t))},S=Array.isArray||function(t){return t instanceof Array},Q=function(t){return t&&t._isObservable},L=function(t){if(!S(t))throw new M("not an array : "+t)},F=function(t){return j("no arguments supported",0===t.length)},Y=function(t){for(var e=arguments.length,n=1;1<e?n<e:n>e;1<e?n++:n--)for(var i in arguments[n])t[i]=arguments[n][i];return t},U=function(t,e){var n={}.hasOwnProperty,i=function(){};i.prototype=e.prototype,t.prototype=new i;for(var r in e)n.call(e,r)&&(t[r]=e[r]);return t},W=function(t){return"undefined"!=typeof Symbol&&Symbol[t]?Symbol[t]:"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol[t]=Symbol.for(t):"@@"+t},G={indexOf:function(){return Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n,i=0;i<t.length;i++)if(n=t[i],e===n)return i;return-1}}(),indexWhere:function(t,e){for(var n,i=0;i<t.length;i++)if(n=t[i],e(n))return i;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,e){for(var n,i=[],r=0;r<e.length;r++)n=e[r],t(n)&&i.push(n);return i},map:function(t,e){return function(){for(var n,i=[],r=0;r<e.length;r++)n=e[r],i.push(t(n));return i}()},each:function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];e(n,i)}},toArray:function(t){return S(t)?t:[t]},contains:function(t,e){return-1!==G.indexOf(t,e)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t){for(var e,n=arguments.length<=1||void 0===arguments[1]?G.id:arguments[1],i=0;i<t.length;i++)if(e=t[i],!n(e))return!1;return!0},any:function(t){for(var e,n=arguments.length<=1||void 0===arguments[1]?G.id:arguments[1],i=0;i<t.length;i++)if(e=t[i],n(e))return!0;return!1},without:function(t,e){return G.filter(function(e){return e!==t},e)},remove:function(t,e){var n=G.indexOf(e,t);if(n>=0)return e.splice(n,1)},fold:function(t,e,n){for(var i,r=0;r<t.length;r++)i=t[r],e=n(e,i);return e},flatMap:function(t,e){return G.fold(e,[],function(e,n){return e.concat(t(n))})},cached:function(t){var e=at;return function(){return(void 0!==e&&null!==e?e._isNone:void 0)&&(e=t(),t=void 0),e}},bind:function(t,e){return function(){return t.apply(e,arguments)}},isFunction:function(t){return"function"==typeof t},toString:function(t){var e,n,i={}.hasOwnProperty;try{return R++,null==t?"undefined":G.isFunction(t)?"function":S(t)?R>5?"[..]":"["+G.map(G.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"==typeof t?R>5?"{..}":"{"+function(){var r=[];for(e in t)i.call(t,e)&&(n=function(){try{return t[e]}catch(t){return t}}(),r.push(G.toString(e)+":"+G.toString(n)));return r}()+"}":t}finally{R--}}},R=0;E._=G;var P=E.UpdateBarrier=function(){function t(t){t<=s||(a[t-1]||(a[t-1]=[[],0]),s=t)}function e(t,e){for(var n=0;n<e.length;n++)if(e[n][0].id==t.id)return!0;return!1}function n(){var e=s;if(e)for(;s>=e;){var n=a[s-1];if(!n)throw new p("Unexpected stack top: "+n);var i=n[0],r=n[1];if(!(r<i.length)){n[0]=[],n[1]=0;break}var o=i[r],c=(o[0],o[1]);n[1]++,t(s+1);var l=!1;try{for(c(),l=!0;s>e&&0==a[s-1][0].length;)s--}finally{l||(a=[],s=0)}}}var i,r=[],o={},a=[],s=0,c={},l=function(r,o){if(!i&&!a.length)return o();t(1);for(var c=0;c<s-1&&!e(r,a[c][0]);)c++;a[c][0].push([r,o]),i||n()},u=function(t,e){if(i){var n=o[t.id];return void 0===n||null===n?(n=o[t.id]=[e],r.push(t)):n.push(e)}return e()},A=function(){for(;r.length>0;)h(0,!0);c={}},h=function(t,e){var n=r[t],i=n.id,a=o[i];r.splice(t,1),delete o[i],e&&r.length>0&&d(n);for(var s=0;s<a.length;s++)(0,a[s])()},d=function(t){if(!c[t.id]){for(var e,n=t.internalDeps(),i=0;i<n.length;i++)if(e=n[i],d(e),o[e.id]){var a=G.indexOf(r,e);h(a,!1)}c[t.id]=!0}},f=function(t,e,r,o){if(i)return r.apply(e,o);i=t;try{var a=r.apply(e,o);A()}finally{i=void 0,n()}return a},g=function(){return i?i.id:void 0},b=function(t,e){var n=!1,i=!1,r=function(){return i=!0},o=function(){return n=!0,r()};return r=t.dispatcher.subscribe(function(i){return l(t,function(){if(!n){if(e(i)===E.noMore)return o()}})}),i&&r(),o};return{whenDoneWith:u,hasWaiters:function(){return r.length>0},inTransaction:f,currentEventId:g,wrappedSubscribe:b,afterTransaction:l}}();Y(a.prototype,{_isSource:!0,subscribe:function(t){return this.obs.dispatcher.subscribe(t)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.lazy?{value:G.always(this.queue[0])}:this.queue[0]},push:function(t){return this.queue=[t],[t]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),U(s,a),Y(s.prototype,{consume:function(){return this.queue.shift()},push:function(t){return this.queue.push(t)},mayHave:function(t){return!this.ended||this.queue.length>=t},hasAtLeast:function(t){return this.queue.length>=t},flatten:!1}),U(c,a),Y(c.prototype,{consume:function(){var t=this.queue;return this.queue=[],{value:function(){return t}}},push:function(t){return this.queue.push(t.value())},hasAtLeast:function(){return!0}}),a.isTrigger=function(t){return(null!=t?t._isSource:void 0)?t.sync:null!=t?t._isEventStream:void 0},a.fromObservable=function(t){return(null!=t?t._isSource:void 0)?t:(null!=t?t._isProperty:void 0)?new a(t,!1):new s(t,!0)},Y(l.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=V([this.context].concat(this.args))),this.cached},toString:function(){return G.toString(this.context)+"."+G.toString(this.method)+"("+G.map(G.toString,this.args)+")"}});var Z=function(t,e){var n=t||e;if(n&&n._isDesc)return t||e;for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return new l(t,e,r)},H=function(t,e){return e.desc=t,e},V=function(t){return S(t)?G.flatMap(V,t):Q(t)?[t]:(void 0!==t&&null!==t?t._isSource:void 0)?[t.obs]:[]};E.Desc=l,E.Desc.empty=new E.Desc("","",[]);var K=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if("object"==typeof e&&i.length){var o=e,a=i[0];e=function(){return o[a].apply(o,arguments)},i=i.slice(1)}return t.apply(void 0,[e].concat(i))}},J=function(t){return t=Array.prototype.slice.call(t),et.apply(void 0,t)},q=function(t,e){return function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(void 0,e.concat(i))}},X=function(t){return function(e){return function(n){if(void 0!==n&&null!==n){var i=n[e];return G.isFunction(i)?i.apply(n,t):i}}}},$=function(t,e){var n=t.slice(1).split("."),i=G.map(X(e),n);return function(t){for(var e,n=0;n<i.length;n++)e=i[n],t=e(t);return t}},tt=function(t){return"string"==typeof t&&t.length>1&&"."===t.charAt(0)},et=K(function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return G.isFunction(t)?n.length?q(t,n):t:tt(t)?$(t,n):G.always(t)}),nt=function(t,e){return et.apply(void 0,[t].concat(e))},it=function(t,e,n,i){if(void 0!==e&&null!==e?e._isProperty:void 0){var r=e.sampledBy(t,function(t,e){return[t,e]});return i.call(r,function(t){var e=t[0];t[1];return e}).map(function(t){t[0];return t[1]})}return e=nt(e,n),i.call(t,e)},rt=function(t){if(G.isFunction(t))return t;if(tt(t)){var e=ot(t);return function(t,n){return t[e](n)}}throw new M("not a function or a field key: "+t)},ot=function(t){return t.slice(1)};Y(u.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(t){return t(this.value)?new u(this.value):at},map:function(t){return new u(t(this.value))},forEach:function(t){return t(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var at={_isNone:!0,getOrElse:function(t){return t},filter:function(){return at},map:function(){return at},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},st=function(t){return(void 0!==t&&null!==t?t._isSome:void 0)||(void 0!==t&&null!==t?t._isNone:void 0)?t:new u(t)};E.noMore="<no-more>",E.more="<more>";var ct=0;A.prototype._isEvent=!0,A.prototype.isEvent=function(){return!0},A.prototype.isEnd=function(){return!1},A.prototype.isInitial=function(){return!1},A.prototype.isNext=function(){return!1},A.prototype.isError=function(){return!1},A.prototype.hasValue=function(){return!1},A.prototype.filter=function(){return!0},A.prototype.inspect=function(){return this.toString()},A.prototype.log=function(){return this.toString()},U(h,A),h.prototype.isNext=function(){return!0},h.prototype.hasValue=function(){return!0},h.prototype.value=function(){var t;return(null!=(t=this.valueF)?t._isNext:void 0)?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},h.prototype.fmap=function(t){var e,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return t(n)})):(e=this,this.apply(function(){return t(e.value())}))},h.prototype.apply=function(t){return new h(t)},h.prototype.filter=function(t){return t(this.value())},h.prototype.toString=function(){return G.toString(this.value())},h.prototype.log=function(){return this.value()},h.prototype._isNext=!0,U(d,h),d.prototype._isInitial=!0,d.prototype.isInitial=function(){return!0},d.prototype.isNext=function(){return!1},d.prototype.apply=function(t){return new d(t)},d.prototype.toNext=function(){return new h(this)},U(f,A),f.prototype.isEnd=function(){return!0},f.prototype.fmap=function(){return this},f.prototype.apply=function(){return this},f.prototype.toString=function(){return"<end>"},U(p,A),p.prototype.isError=function(){return!0},p.prototype.fmap=function(){return this},p.prototype.apply=function(){return this},p.prototype.toString=function(){return"<error> "+G.toString(this.error)},E.Event=A,E.Initial=d,E.Next=h,E.End=f,E.Error=p;var lt=function(t){return new d(t,!0)},ut=function(t){return new h(t,!0)},At=function(){return new f},ht=function(t){return t&&t._isEvent?t:ut(t)},dt=0,ft=function(){};Y(g.prototype,{_isObservable:!0,subscribe:function(t){return P.wrappedSubscribe(this,t)},subscribeInternal:function(t){return this.dispatcher.subscribe(t)},onValue:function(){var t=J(arguments);return this.subscribe(function(e){if(e.hasValue())return t(e.value())})},onValues:function(t){return this.onValue(function(e){return t.apply(void 0,e)})},onError:function(){var t=J(arguments);return this.subscribe(function(e){if(e.isError())return t(e.error)})},onEnd:function(){var t=J(arguments);return this.subscribe(function(e){if(e.isEnd())return t()})},name:function(t){return this._name=t,this},withDescription:function(){return this.desc=Z.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},deps:function(){return this.desc.deps()},internalDeps:function(){return this.initialDesc.deps()}}),g.prototype.assign=g.prototype.onValue,g.prototype.forEach=g.prototype.onValue,g.prototype.inspect=g.prototype.toString,E.Observable=g,Y(b.prototype,{add:function(t){var e=this;if(!this.unsubscribed){var n=!1,i=k;this.starting.push(t);var r=function(){if(!e.unsubscribed)return n=!0,e.remove(i),G.remove(t,e.starting)};return i=t(this.unsubscribe,r),this.unsubscribed||n?i():this.subscriptions.push(i),G.remove(t,this.starting),i}},remove:function(t){if(!this.unsubscribed)return void 0!==G.remove(t,this.subscriptions)?t():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var t=this.subscriptions,e=0;e<t.length;e++)t[e]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}}),E.CompositeUnsubscribe=b,_.prototype.hasSubscribers=function(){return this.subscriptions.length>0},_.prototype.removeSub=function(t){return this.subscriptions=G.without(t,this.subscriptions),this.subscriptions},_.prototype.push=function(t){return t.isEnd()&&(this.ended=!0),P.inTransaction(t,this,this.pushIt,[t])},_.prototype.pushToSubscriptions=function(t){try{for(var e=this.subscriptions,n=e.length,i=0;i<n;i++){var r=e[i];(r.sink(t)===E.noMore||t.isEnd())&&this.removeSub(r)}return!0}catch(t){throw this.pushing=!1,this.queue=[],t}},_.prototype.pushIt=function(t){if(this.pushing)return this.queue.push(t),E.more;if(t!==this.prevError){for(t.isError()&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;this.queue.length;)t=this.queue.shift(),this.push(t);return this.hasSubscribers()?E.more:(this.unsubscribeFromSource(),E.noMore)}},_.prototype.handleEvent=function(t){return this._handleEvent?this._handleEvent(t):this.push(t)},_.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},_.prototype.subscribe=function(t){var e;return this.ended?(t(At()),k):(z(t),e={sink:t},this.subscriptions.push(e),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),z(this.unsubSrc)),function(t){return function(){if(t.removeSub(e),!t.hasSubscribers())return t.unsubscribeFromSource()}}(this))},E.Dispatcher=_,U(m,g),Y(m.prototype,{_isEventStream:!0,toProperty:function(t){var e=0===arguments.length?at:st(function(){return t}),n=this.dispatcher;return new y(new E.Desc(this,"toProperty",[t]),function(t){var i=!1,r=!1,o=k,a=E.more,s=function(){if(!i)return e.forEach(function(e){if(i=!0,(a=t(new d(e)))===E.noMore)return o(),o=k,k})};return o=n.subscribe(function(n){return n.hasValue()?n.isInitial()&&!r?(e=new u(function(){return n.value()}),E.more):(n.isInitial()||s(),i=!0,e=new u(n),t(n)):(n.isEnd()&&(a=s()),a!==E.noMore?t(n):void 0)}),r=!0,s(),o})},toEventStream:function(){return this},withHandler:function(t){return new m(new E.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)}}),E.EventStream=m,E.never=function(){return new m(Z(E,"never"),function(t){return t(At()),k})},E.when=function(){if(0===arguments.length)return E.never();var t=arguments.length;j("when: expecting arguments in the form (Observable+,function)+",t%2==0);for(var e=[],n=[],i=0,r=[];i<t;){r[i]=arguments[i],r[i+1]=arguments[i+1];for(var o,s=G.toArray(arguments[i]),c=gt(arguments[i+1]),l={f:c,ixs:[]},u=!1,A=0;A<s.length;A++){o=s[A];var h=G.indexOf(e,o);u||(u=a.isTrigger(o)),h<0&&(e.push(o),h=e.length-1);for(var d,f=0;f<l.ixs.length;f++)d=l.ixs[f],d.index===h&&d.count++;l.ixs.push({index:h,count:1})}j("At least one EventStream required",u||!s.length),s.length>0&&n.push(l),i+=2}if(!e.length)return E.never();e=G.map(a.fromObservable,e);var p=G.any(e,function(t){return t.flatten})&&pt(G.map(function(t){return t.obs},e)),g=new E.Desc(E,"when",r),b=new m(g,function(t){var i=[],r=!1,o=function(t){for(var n,i=0;i<t.ixs.length;i++)if(n=t.ixs[i],!e[n.index].hasAtLeast(n.count))return!1;return!0},a=function(t){return!t.sync||t.ended},s=function(t){for(var n,i=0;i<t.ixs.length;i++)if(n=t.ixs[i],!e[n.index].mayHave(n.count))return!0},c=function(t){return!t.source.flatten},l=function(l){return function(u){var A=function(){return P.whenDoneWith(b,d)},h=function(){if(!(i.length>0))return E.more;for(var r,a=E.more,s=i.pop(),l=0;l<n.length;l++)if(r=n[l],o(r)){var u=function(){for(var t,n=[],i=0;i<r.ixs.length;i++)t=r.ixs[i],n.push(e[t.index].consume());return n}();return a=t(s.e.apply(function(){var t,e=function(){for(var t,e=[],n=0;n<u.length;n++)t=u[n],e.push(t.value());return e}();return(t=r).f.apply(t,e)})),i.length&&(i=G.filter(c,i)),a===E.noMore?a:h()}},d=function(){var i=h();return r&&(G.all(e,a)||G.all(n,s))&&(i=E.noMore,t(At())),i===E.noMore&&u(),i};return l.subscribe(function(e){if(e.isEnd())r=!0,l.markEnded(),A();else if(e.isError())var n=t(e);else l.push(e),l.sync&&(i.push({source:l,e:e}),p||P.hasWaiters()?A():d());return n===E.noMore&&u(),n||E.more})}};return new E.CompositeUnsubscribe(function(){for(var t,n=[],i=0;i<e.length;i++)t=e[i],n.push(l(t));return n}()).unsubscribe});return b};var pt=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=function(t){if(G.contains(e,t))return!0;var i=t.internalDeps();return i.length?(e.push(t),G.any(i,n)):(e.push(t),!1)};return G.any(t,n)},gt=function(t){return G.isFunction(t)?t:G.always(t)};E.groupSimultaneous=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];1===e.length&&S(e[0])&&(e=e[0]);var i=function(){for(var t,n=[],i=0;i<e.length;i++)t=e[i],n.push(new c(t));return n}();return H(new E.Desc(E,"groupSimultaneous",e),E.when(i,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}))},U(v,_),Y(v.prototype,{push:function(t){return t.isEnd()&&(this.propertyEnded=!0),t.hasValue()&&(this.current=new u(t),this.currentValueRootId=P.currentEventId()),_.prototype.push.call(this,t)},maybeSubSource:function(t,e){return e===E.noMore?k:this.propertyEnded?(t(At()),k):_.prototype.subscribe.call(this,t)},subscribe:function(t){var e=this,n=E.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var i=P.currentEventId(),r=this.currentValueRootId;return!this.propertyEnded&&r&&i&&i!==r?(P.whenDoneWith(this.property,function(){if(e.currentValueRootId===r)return t(lt(e.current.get().value()))}),this.maybeSubSource(t,n)):(P.inTransaction(void 0,this,function(){return n=t(lt(this.current.get().value()))},[]),this.maybeSubSource(t,n))}return this.maybeSubSource(t,n)}}),U(y,g),Y(y.prototype,{_isProperty:!0,changes:function(){var t=this;return new m(new E.Desc(this,"changes",[]),function(e){return t.dispatcher.subscribe(function(t){if(!t.isInitial())return e(t)})})},withHandler:function(t){return new y(new E.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)},toProperty:function(){return F(arguments),this},toEventStream:function(){var t=this;return new m(new E.Desc(this,"toEventStream",[]),function(e){return t.dispatcher.subscribe(function(t){return t.isInitial()&&(t=t.toNext()),e(t)})})}}),E.Property=y,E.constant=function(t){return new y(new E.Desc(E,"constant",[t]),function(e){return e(lt(t)),e(At()),k})},E.fromBinder=function(t){var e=arguments.length<=1||void 0===arguments[1]?G.id:arguments[1];return new m(new E.Desc(E,"fromBinder",[t,e]),function(n){var i=!1,r=!1,o=function(){if(!i)return void 0!==a&&null!==a?(a(),i=!0):r=!0},a=t(function(){for(var t,i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=e.apply(this,r);S(s)&&(null!=(t=G.last(s))?t._isEvent:void 0)||(s=[s]);for(var c,l=E.more,u=0;u<s.length;u++)if(c=s[u],(l=n(c=ht(c)))===E.noMore||c.isEnd())return o(),l;return l});return r&&o(),o})},E.Observable.prototype.map=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return it(this,t,n,function(t){return H(new E.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})};var bt=function(t){return S(t[0])?t[0]:Array.prototype.slice.call(t)},_t=function(t){return G.isFunction(t[0])?[bt(Array.prototype.slice.call(t,1)),t[0]]:[bt(Array.prototype.slice.call(t,0,t.length-1)),G.last(t)]};E.combineAsArray=function(){var t=bt(arguments);if(t.length){for(var e=[],n=0;n<t.length;n++){var i=Q(t[n])?t[n]:E.constant(t[n]);e.push(new a(i,!0))}return H(new E.Desc(E,"combineAsArray",t),E.when(e,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}).toProperty())}return E.constant([])},E.onValues=function(){return E.combineAsArray(Array.prototype.slice.call(arguments,0,arguments.length-1)).onValues(arguments[arguments.length-1])},E.combineWith=function(){var t=_t(arguments),e=t[0],n=t[1],i=new E.Desc(E,"combineWith",[n].concat(e));return H(i,E.combineAsArray(e).map(function(t){return n.apply(void 0,t)}))},E.Observable.prototype.combine=function(t,e){var n=rt(e),i=new E.Desc(this,"combine",[t,e]);return H(i,E.combineAsArray(this,t).map(function(t){return n(t[0],t[1])}))},E.Observable.prototype.withStateMachine=function(t,e){var n=t,i=new E.Desc(this,"withStateMachine",[t,e]);return H(i,this.withHandler(function(t){var i=e(n,t),r=i[0],o=i[1];n=r;for(var a,s=E.more,c=0;c<o.length;c++)if(a=o[c],(s=this.push(a))===E.noMore)return s;return s}))};var mt=function(t,e){return t===e},vt=function(t){return void 0!==t&&null!==t&&t._isNone};E.Observable.prototype.skipDuplicates=function(){var t=arguments.length<=0||void 0===arguments[0]?mt:arguments[0],e=new E.Desc(this,"skipDuplicates",[]);return H(e,this.withStateMachine(at,function(e,n){return n.hasValue()?n.isInitial()||vt(e)||!t(e.get(),n.value())?[new u(n.value()),[n]]:[e,[]]:[e,[n]]}))},E.Observable.prototype.awaiting=function(t){var e=new E.Desc(this,"awaiting",[t]);return H(e,E.groupSimultaneous(this,t).map(function(t){return 0===t[1].length}).toProperty(!1).skipDuplicates())},E.Observable.prototype.not=function(){return H(new E.Desc(this,"not",[]),this.map(function(t){return!t}))},E.Property.prototype.and=function(t){return H(new E.Desc(this,"and",[t]),this.combine(t,function(t,e){return t&&e}))},E.Property.prototype.or=function(t){return H(new E.Desc(this,"or",[t]),this.combine(t,function(t,e){return t||e}))},E.scheduler={setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},now:function(){return(new Date).getTime()}},E.EventStream.prototype.bufferWithTime=function(t){return H(new E.Desc(this,"bufferWithTime",[t]),this.bufferWithTimeOrCount(t,Number.MAX_VALUE))},E.EventStream.prototype.bufferWithCount=function(t){return H(new E.Desc(this,"bufferWithCount",[t]),this.bufferWithTimeOrCount(void 0,t))},E.EventStream.prototype.bufferWithTimeOrCount=function(t,e){var n=function(n){return n.values.length===e?n.flush():void 0!==t?n.schedule():void 0},i=new E.Desc(this,"bufferWithTimeOrCount",[t,e]);return H(i,this.buffer(t,n,n))},E.EventStream.prototype.buffer=function(t){var e=arguments.length<=1||void 0===arguments[1]?k:arguments[1],n=arguments.length<=2||void 0===arguments[2]?k:arguments[2],i={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(E.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var t=this.values;this.values=[];var e=this.push(ut(t));if(null!=this.end)return this.push(this.end);if(e!==E.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var e=this;if(!this.scheduled)return this.scheduled=t(function(){return e.flush()})}},r=E.more;if(!G.isFunction(t)){var o=t;t=function(t){return E.scheduler.setTimeout(t,o)}}return H(new E.Desc(this,"buffer",[]),this.withHandler(function(t){var n=this;return i.push=function(t){return n.push(t)},t.isError()?r=this.push(t):t.isEnd()?(i.end=t,i.scheduled||i.flush()):(i.values.push(t.value()),e(i)),r}))},E.Observable.prototype.filter=function(t){N(t);for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return it(this,t,n,function(t){return H(new E.Desc(this,"filter",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):E.more}))})},E.once=function(t){return new m(new l(E,"once",[t]),function(e){return e(ht(t)),e(At()),k})},E.EventStream.prototype.concat=function(t){var e=this;return new m(new E.Desc(e,"concat",[t]),function(n){var i=k,r=e.dispatcher.subscribe(function(e){return e.isEnd()?i=t.toEventStream().dispatcher.subscribe(n):n(e)});return function(){return r(),i()}})},E.Property.prototype.concat=function(t){return yt(this,this.changes().concat(t))},E.concatAll=function(){var t=bt(arguments);return t.length?H(new E.Desc(E,"concatAll",t),G.fold(G.tail(t),G.head(t).toEventStream(),function(t,e){return t.concat(e)})):E.never()};var yt=function(t,e){var n=new m(Z(t,"justInitValue"),function(e){var i=void 0,r=t.dispatcher.subscribe(function(t){return t.isEnd()||(i=t),E.noMore});return P.whenDoneWith(n,function(){return void 0!==i&&null!==i&&e(i),e(At())}),r});return n.concat(e).toProperty()};E.Observable.prototype.flatMap=function(){return Bt(this,wt(arguments))},E.Observable.prototype.flatMapFirst=function(){return Bt(this,wt(arguments),!0)};var wt=function(t){return 1===t.length&&Q(t[0])?G.always(t[0]):J(t)},Ct=function(t){return Q(t)?t:E.once(t)},Bt=function(t,e,n,i){var r=[t],o=[],a=new E.Desc(t,"flatMap"+(n?"First":""),[e]),s=new m(a,function(r){var a=new b,s=[],c=function(t){var n=Ct(e(t.value()));return o.push(n),a.add(function(t,e){return n.dispatcher.subscribe(function(i){if(i.isEnd())return G.remove(n,o),l(),u(e),E.noMore;(void 0!==i&&null!==i?i._isInitial:void 0)&&(i=i.toNext());var a=r(i);return a===E.noMore&&t(),a})})},l=function(){var t=s.shift();if(t)return c(t)},u=function(t){if(t(),a.empty())return r(At())};return a.add(function(e,o){return t.dispatcher.subscribe(function(t){return t.isEnd()?u(o):t.isError()?r(t):n&&a.count()>1?E.more:a.unsubscribed?E.noMore:i&&a.count()>i?s.push(t):c(t)})}),a.unsubscribe});return s.internalDeps=function(){return o.length?r.concat(o):r},s};E.Observable.prototype.flatMapWithConcurrencyLimit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=new E.Desc(this,"flatMapWithConcurrencyLimit",[t].concat(n));return H(r,Bt(this,wt(n),!1,t))},E.Observable.prototype.flatMapConcat=function(){var t=new E.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0));return H(t,this.flatMapWithConcurrencyLimit.apply(this,[1].concat(x.call(arguments))))},E.later=function(t,e){return H(new E.Desc(E,"later",[t,e]),E.fromBinder(function(n){var i=function(){return n([e,At()])},r=E.scheduler.setTimeout(i,t);return function(){return E.scheduler.clearTimeout(r)}}))},E.Observable.prototype.bufferingThrottle=function(t){var e=new E.Desc(this,"bufferingThrottle",[t]);return H(e,this.flatMapConcat(function(e){return E.once(e).concat(E.later(t).filter(!1))}))},E.Property.prototype.bufferingThrottle=function(){return E.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},U(w,m),Y(w.prototype,{unsubAll:function(){for(var t,e=this.subscriptions,n=0;n<e.length;n++)t=e[n],"function"==typeof t.unsub&&t.unsub()},subscribeAll:function(t){if(this.ended)t(At());else{this.sink=t;for(var e,n=D(this.subscriptions),i=0;i<n.length;i++)e=n[i],this.subscribeInput(e)}return this.unsubAll},guardedSink:function(t){var e=this;return function(n){return n.isEnd()?(e.unsubscribeInput(t),E.noMore):e.sink(n)}},subscribeInput:function(t){return t.unsub=t.input.dispatcher.subscribe(this.guardedSink(t.input)),t.unsub},unsubscribeInput:function(t){for(var e,n=this.subscriptions,i=0;i<n.length;i++)if(e=n[i],e.input===t)return"function"==typeof e.unsub&&e.unsub(),void this.subscriptions.splice(i,1)},plug:function(t){var e=this;if(O(t),!this.ended){var n={input:t};return this.subscriptions.push(n),void 0!==this.sink&&this.subscribeInput(n),function(){return e.unsubscribeInput(t)}}},end:function(){if(this.ended=!0,this.unsubAll(),"function"==typeof this.sink)return this.sink(At())},push:function(t){if(!this.ended&&"function"==typeof this.sink){var e=!this.pushing;if(!e)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(t);this.pushing=!0;try{return this.sink(ut(t))}finally{if(e&&this.pushQueue){for(var n=0;n<this.pushQueue.length;){var t=this.pushQueue[n];this.sink(ut(t)),n++}this.pushQueue=null}this.pushing=!1}}},error:function(t){if("function"==typeof this.sink)return this.sink(new p(t))}}),E.Bus=w;var xt=function(t,e){return K(function(n){for(var i=q(e,[function(t,e){return n.apply(void 0,t.concat([e]))}]),r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return H(new E.Desc(E,t,[n].concat(o)),E.combineAsArray(o).flatMap(i))})};E.fromCallback=xt("fromCallback",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return E.fromBinder(function(e){return nt(t,n)(e),k},function(t){return[t,At()]})}),E.fromNodeCallback=xt("fromNodeCallback",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return E.fromBinder(function(e){return nt(t,n)(e),k},function(t,e){return t?[new p(t),At()]:[e,At()]})}),E.combineTemplate=function(t){function e(t){return t[t.length-1]}function n(t,n,i){return e(t)[n]=i,i}function i(t,e){return function(i,r){n(i,t,r[e])}}function r(t,e){return function(i){n(i,t,e)}}function o(t){return S(t)?[]:{}}function a(t,e){return function(i){var r=o(e);n(i,t,r),i.push(r)}}function s(t){if(Q(t))return!0;if(t&&(t.constructor==Object||t.constructor==Array))for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e];if(s(n))return!0}}function c(t,e){if(Q(e))h.push(e),A.push(i(t,h.length-1));else if(s(e)){var n=function(t){t.pop()};A.push(a(t,e)),u(e),A.push(n)}else A.push(r(t,e))}function l(e){for(var n=o(t),i=[n],r=0;r<A.length;r++)(0,A[r])(i,e);return n}function u(t){G.each(t,c)}var A=[],h=[],d=s(t)?(u(t),E.combineAsArray(h).map(l)):E.constant(t);return H(new E.Desc(E,"combineTemplate",[t]),d)},E.Observable.prototype.mapEnd=function(){var t=J(arguments);return H(new E.Desc(this,"mapEnd",[t]),this.withHandler(function(e){return e.isEnd()?(this.push(ut(t(e))),this.push(At()),E.noMore):this.push(e)}))},E.Observable.prototype.skipErrors=function(){return H(new E.Desc(this,"skipErrors",[]),this.withHandler(function(t){return t.isError()?E.more:this.push(t)}))},E.EventStream.prototype.takeUntil=function(t){var e={};return H(new E.Desc(this,"takeUntil",[t]),E.groupSimultaneous(this.mapEnd(e),t.skipErrors()).withHandler(function(t){if(t.hasValue()){var n=t.value(),i=n[0];if(n[1].length)return this.push(At());for(var r,o=E.more,a=0;a<i.length;a++)r=i[a],o=r===e?this.push(At()):this.push(ut(r));return o}return this.push(t)}))},E.Property.prototype.takeUntil=function(t){var e=this.changes().takeUntil(t);return H(new E.Desc(this,"takeUntil",[t]),yt(this,e))},E.Observable.prototype.flatMapLatest=function(){var t=wt(arguments),e=this.toEventStream();return H(new E.Desc(this,"flatMapLatest",[t]),e.flatMap(function(n){return Ct(t(n)).takeUntil(e)}))},E.Property.prototype.delayChanges=function(t,e){return H(t,yt(this,e(this.changes())))},E.EventStream.prototype.delayChanges=function(t,e){return H(t,e(this))},E.Observable.prototype.delay=function(t){return this.delayChanges(new E.Desc(this,"delay",[t]),function(e){return e.flatMap(function(e){return E.later(t,e)})})},E.Observable.prototype.debounce=function(t){return this.delayChanges(new E.Desc(this,"debounce",[t]),function(e){return e.flatMapLatest(function(e){return E.later(t,e)})})},E.Observable.prototype.debounceImmediate=function(t){return this.delayChanges(new E.Desc(this,"debounceImmediate",[t]),function(e){return e.flatMapFirst(function(e){return E.once(e).concat(E.later(t).filter(!1))})})},E.Observable.prototype.decode=function(t){return H(new E.Desc(this,"decode",[t]),this.combine(E.combineTemplate(t),function(t,e){return e[t]}))},E.Observable.prototype.scan=function(t,e){var n,i=this;e=rt(e);var r=st(t),o=!1,a=function(t){var a=!1,s=k,c=E.more,l=function(){if(!a)return r.forEach(function(e){if(a=o=!0,(c=t(new d(function(){return e})))===E.noMore)return s(),s=k})};return s=i.dispatcher.subscribe(function(n){if(n.hasValue()){if(o&&n.isInitial())return E.more;n.isInitial()||l(),a=o=!0;var i=r.getOrElse(void 0),s=e(i,n.value());return r=new u(s),t(n.apply(function(){return s}))}if(n.isEnd()&&(c=l()),c!==E.noMore)return t(n)}),P.whenDoneWith(n,l),s};return n=new y(new E.Desc(this,"scan",[t,e]),a)},E.Observable.prototype.diff=function(t,e){return e=rt(e),H(new E.Desc(this,"diff",[t,e]),this.scan([t],function(t,n){return[n,e(t[0],n)]}).filter(function(t){return 2===t.length}).map(function(t){return t[1]}))},E.Observable.prototype.doAction=function(){var t=J(arguments);return H(new E.Desc(this,"doAction",[t]),this.withHandler(function(e){return e.hasValue()&&t(e.value()),this.push(e)}))},E.Observable.prototype.doEnd=function(){var t=J(arguments);return H(new E.Desc(this,"doEnd",[t]),this.withHandler(function(e){return e.isEnd()&&t(),this.push(e)}))},E.Observable.prototype.doError=function(){var t=J(arguments);return H(new E.Desc(this,"doError",[t]),this.withHandler(function(e){return e.isError()&&t(e.error),this.push(e)}))},E.Observable.prototype.doLog=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return H(new E.Desc(this,"doLog",e),this.withHandler(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,e.concat([t.log()])),this.push(t)}))},E.Observable.prototype.endOnError=function(t){void 0!==t&&null!==t||(t=!0);for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return it(this,t,n,function(t){return H(new E.Desc(this,"endOnError",[]),this.withHandler(function(e){return e.isError()&&t(e.error)?(this.push(e),this.push(At())):this.push(e)}))})},g.prototype.errors=function(){return H(new E.Desc(this,"errors",[]),this.filter(function(){return!1}))},E.Observable.prototype.take=function(t){return t<=0?E.never():H(new E.Desc(this,"take",[t]),this.withHandler(function(e){return e.hasValue()?(t--,t>0?this.push(e):(0===t&&this.push(e),this.push(At()),E.noMore)):this.push(e)}))},E.Observable.prototype.first=function(){return H(new E.Desc(this,"first",[]),this.take(1))},E.Observable.prototype.mapError=function(){var t=J(arguments);return H(new E.Desc(this,"mapError",[t]),this.withHandler(function(e){return e.isError()?this.push(ut(t(e.error))):this.push(e)}))},E.Observable.prototype.flatMapError=function(t){var e=new E.Desc(this,"flatMapError",[t]);return H(e,this.mapError(function(t){return new p(t)}).flatMap(function(e){return e instanceof p?t(e.error):E.once(e)}))},E.EventStream.prototype.flatScan=function(t,e){var n=t;return this.flatMapConcat(function(t){return Ct(e(n,t)).doAction(function(t){return n=t})}).toProperty(t)},E.EventStream.prototype.sampledBy=function(t,e){return H(new E.Desc(this,"sampledBy",[t,e]),this.toProperty().sampledBy(t,e))},E.Property.prototype.sampledBy=function(t,e){var n=!1;void 0!==e&&null!==e?e=rt(e):(n=!0,e=function(t){return t.value()});var i=new a(this,!1,n),r=new a(t,!0,n),o=E.when([i,r],e),s=t._isProperty?o.toProperty():o;return H(new E.Desc(this,"sampledBy",[t,e]),s)},E.Property.prototype.sample=function(t){return H(new E.Desc(this,"sample",[t]),this.sampledBy(E.interval(t,{})))},E.Observable.prototype.map=function(t){if(t&&t._isProperty)return t.sampledBy(this,I);for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return it(this,t,n,function(t){return H(new E.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})},E.Observable.prototype.fold=function(t,e){return H(new E.Desc(this,"fold",[t,e]),this.scan(t,e).sampledBy(this.filter(!1).mapEnd().toProperty()))},g.prototype.reduce=g.prototype.fold;var Et=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],Mt=function(t){for(var e,n=0;n<Et.length;n++){e=Et[n];var i=[t[e[0]],t[e[1]]];if(i[0]&&i[1])return i}for(var r=0;r<Et.length;r++){e=Et[r];var o=t[e[0]];if(o)return[o,function(){}]}throw new p("No suitable event methods in "+t)};E.fromEventTarget=function(t,e,n){var i=Mt(t),r=i[0],o=i[1],a=new E.Desc(E,"fromEvent",[t,e]);return H(a,E.fromBinder(function(n){return r.call(t,e,n),function(){return o.call(t,e,n)}},n))},E.fromEvent=E.fromEventTarget,E.fromPoll=function(t,e){var n=new E.Desc(E,"fromPoll",[t,e]);return H(n,E.fromBinder(function(e){var n=E.scheduler.setInterval(e,t);return function(){return E.scheduler.clearInterval(n)}},e))},E.fromPromise=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?C:arguments[2];return H(new E.Desc(E,"fromPromise",[t]),E.fromBinder(function(n){var i=t.then(n,function(t){return n(new p(t))});return i&&"function"==typeof i.done&&i.done(),e?function(){if("function"==typeof t.abort)return t.abort()}:function(){}},n))},E.Observable.prototype.groupBy=function(t){var e=arguments.length<=1||void 0===arguments[1]?E._.id:arguments[1],n={},i=this;return i.filter(function(e){return!n[t(e)]}).map(function(r){var o=t(r),a=i.filter(function(e){return t(e)===o}),s=E.once(r).concat(a),c=e(s,r).withHandler(function(t){if(this.push(t),t.isEnd())return delete n[o]});return n[o]=c,c})},E.fromArray=function(t){if(L(t),t.length){var e=0,n=new m(new E.Desc(E,"fromArray",[t]),function(i){function r(){if(c=!0,!s){for(s=!0;c;)if(c=!1,a!==E.noMore&&!o){var l=t[e++];a=i(ht(l)),a!==E.noMore&&(e===t.length?i(At()):P.afterTransaction(n,r))}return s=!1}}var o=!1,a=E.more,s=!1,c=!1;return r(),function(){return o=!0}});return n}return H(new E.Desc(E,"fromArray",t),E.never())},E.EventStream.prototype.holdWhen=function(t){var e=!1,n=[],i=this,r=!1;return new m(new E.Desc(this,"holdWhen",[t]),function(o){var a=new b,s=!1,c=function(t){if("function"==typeof t&&t(),a.empty()&&s)return o(At())};return a.add(function(i,a){return t.subscribeInternal(function(t){if(!t.hasValue())return t.isEnd()?c(a):o(t);if(!(e=t.value())){var i=n;return n=[],function(){for(var t,e=[],n=0;n<i.length;n++)t=i[n],e.push(o(ut(t)));return r&&(e.push(o(At())),a()),e}()}})}),a.add(function(t,a){return i.subscribeInternal(function(t){return e&&t.hasValue()?n.push(t.value()):t.isEnd()&&n.length?(r=!0,c(a)):o(t)})}),s=!0,c(),a.unsubscribe})},E.interval=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return H(new E.Desc(E,"interval",[t,e]),E.fromPoll(t,function(){return ut(e)}))},E.$={},E.$.asEventStream=function(t,e,n){var i=this;return G.isFunction(e)&&(n=e,e=void 0),H(new E.Desc(this.selector||this,"asEventStream",[t]),E.fromBinder(function(n){return i.on(t,e,n),function(){return i.off(t,e,n)}},n))},"undefined"!=typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=E.$.asEventStream),"undefined"!=typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=E.$.asEventStream),E.Observable.prototype.last=function(){var t;return H(new E.Desc(this,"last",[]),this.withHandler(function(e){if(e.isEnd())return t&&this.push(t),this.push(At()),E.noMore;t=e}))},E.Observable.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.subscribe(function(t){"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,e.concat([t.log()]))}),this},E.EventStream.prototype.merge=function(t){T(t);var e=this;return H(new E.Desc(e,"merge",[t]),E.mergeAll(this,t))},E.mergeAll=function(){var t=bt(arguments);return t.length?new m(new E.Desc(E,"mergeAll",t),function(e){var n=0,i=function(i){return function(r){return i.dispatcher.subscribe(function(i){if(i.isEnd())return n++,n===t.length?e(At()):E.more;var o=e(i);return o===E.noMore&&r(),o})}},r=G.map(i,t);return new E.CompositeUnsubscribe(r).unsubscribe}):E.never()},E.repeatedly=function(t,e){var n=0;return H(new E.Desc(E,"repeatedly",[t,e]),E.fromPoll(t,function(){return e[n++%e.length]}))},E.repeat=function(t){var e=0;return E.fromBinder(function(n){function i(t){return t.isEnd()?o?r():o=!0:a=n(t)}function r(){var r;for(o=!0;o&&a!==E.noMore;)r=t(e++),o=!1,r?s=r.subscribeInternal(i):n(At());return o=!0}var o=!1,a=E.more,s=function(){};return r(),function(){return s()}})},E.retry=function(t){if(!G.isFunction(t.source))throw new M("'source' option has to be a function");var e=t.source,n=t.retries||0,i=0,r=t.delay||function(){return 0},o=t.isRetryable||function(){return!0},a=!1,s=null;return H(new E.Desc(E,"retry",[t]),E.repeat(function(t){function c(){return e(t).endOnError().withHandler(function(t){return t.isError()?(s=t,o(s.error)&&(0===n||i<n)?void 0:(a=!0,this.push(t))):(t.hasValue()&&(s=null,a=!0),this.push(t))})}if(a)return null;if(s){var l={error:s.error,retriesDone:i},u=E.later(r(l)).filter(!1);return i++,u.concat(E.once().flatMap(c))}return c()}))},E.sequentially=function(t,e){var n=0;return H(new E.Desc(E,"sequentially",[t,e]),E.fromPoll(t,function(){var t=e[n++];return n<e.length?t:n===e.length?[t,At()]:At()}))},E.Observable.prototype.skip=function(t){return H(new E.Desc(this,"skip",[t]),this.withHandler(function(e){return e.hasValue()&&t>0?(t--,E.more):this.push(e)}))},E.EventStream.prototype.skipUntil=function(t){var e=t.take(1).map(!0).toProperty(!1);return H(new E.Desc(this,"skipUntil",[t]),this.filter(e))},E.EventStream.prototype.skipWhile=function(t){N(t);for(var e=!1,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return it(this,t,i,function(t){return H(new E.Desc(this,"skipWhile",[t]),this.withHandler(function(n){return!e&&n.hasValue()&&t(n.value())?E.more:(n.hasValue()&&(e=!0),this.push(n))}))})},E.Observable.prototype.slidingWindow=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return H(new E.Desc(this,"slidingWindow",[t,e]),this.scan([],function(e,n){return e.concat([n]).slice(-t)}).filter(function(t){return t.length>=e}))};var kt=[],ft=function(t){if(kt.length&&!ft.running)try{ft.running=!0,kt.forEach(function(e){e(t)})}finally{delete ft.running}};E.spy=function(t){return kt.push(t)},E.Property.prototype.startWith=function(t){return H(new E.Desc(this,"startWith",[t]),this.scan(t,function(t,e){return e}))},E.EventStream.prototype.startWith=function(t){return H(new E.Desc(this,"startWith",[t]),E.once(t).concat(this))},E.Observable.prototype.takeWhile=function(t){N(t);for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return it(this,t,n,function(t){return H(new E.Desc(this,"takeWhile",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):(this.push(At()),E.noMore)}))})},E.Observable.prototype.throttle=function(t){return this.delayChanges(new E.Desc(this,"throttle",[t]),function(e){return e.bufferWithTime(t).map(function(t){return t[t.length-1]})})},g.prototype.firstToPromise=function(t){var e=this;if("function"!=typeof t){if("function"!=typeof Promise)throw new M("There isn't default Promise, use shim or parameter");t=Promise}return new t(function(t,n){return e.subscribe(function(e){return e.hasValue()&&t(e.value()),e.isError()&&n(e.error),E.noMore})})},g.prototype.toPromise=function(t){return this.last().firstToPromise(t)},E.try=function(t){return function(e){try{return E.once(t(e))}catch(t){return new E.Error(t)}}},E.update=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=n.length-1;r>0;)n[r]instanceof Function||(n[r]=G.always(n[r])),n[r]=function(t){return function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(e){return t.apply(void 0,[e].concat(n))}}}(n[r]),r-=2;return H(new E.Desc(E,"update",[t].concat(n)),E.when.apply(E,n).scan(t,function(t,e){return e(t)}))},E.zipAsArray=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=bt(e);return H(new E.Desc(E,"zipAsArray",i),E.zipWith(i,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}))},E.zipWith=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=_t(e),r=i[0],o=i[1];return r=G.map(function(t){return t.toEventStream()},r),H(new E.Desc(E,"zipWith",[o].concat(r)),E.when(r,o))},E.Observable.prototype.zip=function(t,e){return H(new E.Desc(this,"zip",[t]),E.zipWith([this,t],e||Array))},B.prototype.subscribe=function(t,e,n){var i="function"==typeof t?{next:t,error:e,complete:n}:t,r={closed:!1,unsubscribe:function(){r.closed=!0,o()}},o=this.observable.subscribe(function(t){t.isError()?(i.error&&i.error(t.error),r.unsubscribe()):t.isEnd()?(r.closed=!0,i.complete&&i.complete()):i.next&&i.next(t.value())});return r},B.prototype[W("observable")]=function(){return this},E.Observable.prototype.toESObservable=function(){return new B(this)},E.Observable.prototype[W("observable")]=E.Observable.prototype.toESObservable,E.fromESObservable=function(t){var e;e=t[W("observable")]?t[W("observable")]():t;var n=new E.Desc(E,"fromESObservable",[e]);return new E.EventStream(n,function(t){var n=e.subscribe({error:function(){t(new E.Error),t(new E.End)},next:function(e){t(new E.Next(e,!0))},complete:function(){t(new E.End)}});return n.unsubscribe?function(){n.unsubscribe()}:n})},null!==n(70)&&null!=n(71)?(r=[],void 0!==(o=function(){return E}.apply(e,r))&&(i.exports=o),void 0!==this&&null!==this&&(this.Bacon=E)):void 0!==i&&null!==i&&null!=i.exports?(i.exports=E,E.Bacon=E):this.Bacon=E}).call(this)}).call(e,n(310),n(311)(t))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(3),c=n(2),l=function(t){return t&&t.__esModule?t:{default:t}}(c),u=function(t){function e(n){i(this,e);var o=r(this,t.call(this,n));return o.state={},o}return o(e,t),e.prototype.componentDidMount=function(){this.props.callbackManager.set("setState",this.setState.bind(this))},e.prototype.render=function(){return l.default.isEmpty(this.state)?null:(0,s.h)(this.props.component,a({},this.state,{ref:this.props.refProp,closeMenu:this.props.closeMenu}))},e}(s.Component);e.default=u},function(t,e,n){"use strict";var i=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var r=document.documentElement;if(!r.matches){var o=r.webkitMatchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector;i=function(t){return function(){return o.call(this,t)}}}}e.a=i},function(t,e,n){"use strict";function i(){return[]}e.a=function(t){return null==t?i:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";function i(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.a=i;var r=n(62),o=n(5);e.b=function(){return new o.a(this._enter||this._groups.map(r.a),this._parents)},i.prototype={constructor:i,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";function i(t){return function(){this.style.removeProperty(t)}}function r(t,e,n){return function(){this.style.setProperty(t,e,n)}}function o(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function a(t,e){return t.style.getPropertyValue(e)||Object(s.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.b=a;var s=n(38);e.a=function(t,e,n){return arguments.length>1?this.each((null==e?i:"function"==typeof e?o:r)(t,e,null==n?"":n)):a(this.node(),t)}},function(t,e,n){"use strict";function i(t,e){var n=t.document.documentElement,i=Object(r.select)(t).on("dragstart.drag",null);e&&(i.on("click.drag",o.a,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}e.b=i;var r=n(0),o=n(65);e.a=function(t){var e=t.document.documentElement,n=Object(r.select)(t).on("dragstart.drag",o.a,!0);"onselectstart"in e?n.on("selectstart.drag",o.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";function i(){r.event.stopImmediatePropagation()}e.b=i;var r=n(0);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){function i(t){if(Array.isArray(t))return _(t.constructor(t.length),t);if("Map"===b(t))return new Map(t);if("Set"===b(t))return new Set(t);if(t&&"object"==typeof t){var e=t.constructor&&t.constructor.prototype;return _(Object.create(e||null),t)}return t}function r(){function t(n,r){Array.isArray(n)&&Array.isArray(r)||d(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),d("object"==typeof r&&null!==r,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var o=n;return m(r).forEach(function(a){if(f.call(e,a)){var s=n===o;o=e[a](r[a],o,r,n),s&&t.isEquals(o,n)&&(o=n)}else{var c=t(n[a],r[a]);t.isEquals(c,o[a])&&(void 0!==c||f.call(n,a))||(o===n&&(o=i(n)),o[a]=c)}}),o}var e=_({},v);return t.extend=function(t,n){e[t]=n},t.isEquals=function(t,e){return t===e},t}function o(t,e,n){d(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t),a(e[n],n)}function a(t,e){d(Array.isArray(t),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",e,t)}function s(t,e){d(Array.isArray(t),"Expected $splice target to be an array; got %s",t),c(e.$splice)}function c(t){d(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function l(t){d("function"==typeof t,"update(): expected spec of $apply to be a function; got %s.",t)}function u(t){d(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}function A(t,e){d(e&&"object"==typeof e,"update(): $merge expects a spec of type 'object'; got %s",e),d(t&&"object"==typeof t,"update(): $merge expects a target of type 'object'; got %s",t)}function h(t,e){var n=b(t);d("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",e,n)}var d=n(165),f=Object.prototype.hasOwnProperty,p=Array.prototype.splice,g=Object.prototype.toString,b=function(t){return g.call(t).slice(8,-1)},_=Object.assign||function(t,e){return m(e).forEach(function(n){f.call(e,n)&&(t[n]=e[n])}),t},m="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)},v={$push:function(t,e,n){return o(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return o(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,r){return s(e,n),t.forEach(function(t){c(t),e===r&&t.length&&(e=i(r)),p.apply(e,t)}),e},$set:function(t,e,n){return u(n),t},$toggle:function(t,e){a(t,"$toggle");var n=t.length?i(e):e;return t.forEach(function(t){n[t]=!e[t]}),n},$unset:function(t,e,n,r){return a(t,"$unset"),t.forEach(function(t){Object.hasOwnProperty.call(e,t)&&(e===r&&(e=i(r)),delete e[t])}),e},$add:function(t,e,n,r){return h(e,"$add"),a(t,"$add"),"Map"===b(e)?t.forEach(function(t){var n=t[0],o=t[1];e===r&&e.get(n)!==o&&(e=i(r)),e.set(n,o)}):t.forEach(function(t){e!==r||e.has(t)||(e=i(r)),e.add(t)}),e},$remove:function(t,e,n,r){return h(e,"$remove"),a(t,"$remove"),t.forEach(function(t){e===r&&e.has(t)&&(e=i(r)),e.delete(t)}),e},$merge:function(t,e,n,r){return A(e,t),m(t).forEach(function(n){t[n]!==e[n]&&(e===r&&(e=i(r)),e[n]=t[n])}),e},$apply:function(t,e){return l(t),t(e)}};t.exports=r(),t.exports.newContext=r},function(t,e){/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(t){var e="    ";if(isNaN(parseInt(t)))e=t;else switch(t){case 1:e=" ";break;case 2:e="  ";break;case 3:e="   ";break;case 4:e="    ";break;case 5:e="     ";break;case 6:e="      ";break;case 7:e="       ";break;case 8:e="        ";break;case 9:e="         ";break;case 10:e="          ";break;case 11:e="           ";break;case 12:e="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+e);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(t,e){return e-(t.replace(/\(/g,"").length-t.replace(/\)/g,"").length)}function o(t,e){return t.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+e+e+"AND ").replace(/ BETWEEN /gi,"~::~"+e+"BETWEEN ").replace(/ CASE /gi,"~::~"+e+"CASE ").replace(/ ELSE /gi,"~::~"+e+"ELSE ").replace(/ END /gi,"~::~"+e+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+e+"ON ").replace(/ OR /gi,"~::~"+e+e+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+e+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+e).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+e+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(t,e){var i=t.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,o=!1,a=0,s="",c=0,l=e?n(e):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(s+=l[a]+i[c],o=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(o=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(s+=i[c],o=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(s+=i[c],o||a--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?s=s+=o?i[c]:l[a++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?s=s+=o?i[c]:l[a]+i[c]:i[c].search(/<\//)>-1?s=s+=o?i[c]:l[--a]+i[c]:i[c].search(/\/>/)>-1?s=s+=o?i[c]:l[a]+i[c]:i[c].search(/<\?/)>-1?s+=l[a]+i[c]:i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?s+=l[a]+i[c]:s+=i[c];return"\n"==s[0]?s.slice(1):s},i.prototype.json=function(t,e){var e=e||this.step;return"undefined"==typeof JSON?t:"string"==typeof t?JSON.stringify(JSON.parse(t),null,e):"object"==typeof t?JSON.stringify(t,null,e):t},i.prototype.css=function(t,e){var i=t.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,o=0,a="",s=0,c=e?n(e):this.shift;for(s=0;s<r;s++)/\{/.exec(i[s])?a+=c[o++]+i[s]:/\}/.exec(i[s])?a+=c[--o]+i[s]:(/\*\\/.exec(i[s]),a+=c[o]+i[s]);return a.replace(/^\n{1,}/,"")},i.prototype.sql=function(t,e){var i=t.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=i.length,s=[],c=0,l=this.step,u=0,A="",h=0,d=e?n(e):this.shift;for(h=0;h<a;h++)s=h%2?s.concat(i[h]):s.concat(o(i[h],l));for(a=s.length,h=0;h<a;h++){u=r(s[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[h])?(c++,A+=d[c]+s[h]):/\'/.exec(s[h])?(u<1&&c&&c--,A+=s[h]):(A+=d[c]+s[h],u<1&&c&&c--)}return A=A.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(t,e){return(e?t:t.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(t){return"undefined"==typeof JSON?t:JSON.stringify(JSON.parse(t),null,0)},i.prototype.cssmin=function(t,e){return(e?t:t.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(t){return t.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},t.exports=new i},function(t,e,n){"use strict";var i=(n(181),n(182),n(40));n.d(e,"a",function(){return i.a});n(183),n(184),n(185)},function(t,e,n){"use strict";function i(t,e){return function(n){return t(n.responseText,e)}}var r=n(39);e.a=function(t,e){return function(n,o,a){arguments.length<3&&(a=o,o=null);var s=Object(r.a)(n).mimeType(t);return s.row=function(t){return arguments.length?s.response(i(e,o=t)):o},s.row(o),a?s.get(a):s}}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";var i=n(28),r=n(196),o=n(197),a=n(73),s=n(74),c=n(75),l=n(200),u=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){function e(t){function e(t){var e,o,a,s=v,h=y;if("c"===m)h=w(t)+h,t="";else{t=+t;var p=t<0;if(t=w(Math.abs(t),_),p&&0==+t&&(p=!1),s=(p?"("===r?r:"-":"-"===r||"("===r?"":r)+s,h=h+("s"===m?u[8+c.b/3]:"")+(p&&"("===r?")":""),C)for(e=-1,o=t.length;++e<o;)if(48>(a=t.charCodeAt(e))||a>57){h=(46===a?d+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}b&&!l&&(t=A(t,1/0));var B=s.length+t.length+h.length,x=B<g?new Array(g-B+1).join(n):"";switch(b&&l&&(t=A(x+t,x.length?g-h.length:1/0),x=""),i){case"<":t=s+t+h+x;break;case"=":t=s+x+t+h;break;case"^":t=x.slice(0,B=x.length>>1)+s+t+h+x.slice(B);break;default:t=x+s+t+h}return f(t)}t=Object(a.a)(t);var n=t.fill,i=t.align,r=t.sign,o=t.symbol,l=t.zero,g=t.width,b=t.comma,_=t.precision,m=t.type,v="$"===o?h[0]:"#"===o&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===o?h[1]:/[%p]/.test(m)?p:"",w=s.a[m],C=!m||/[defgprs%]/.test(m);return _=null==_?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),e.toString=function(){return t+""},e}function n(t,n){var r=e((t=Object(a.a)(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(n)/3))),s=Math.pow(10,-o),c=u[8+o/3];return function(t){return r(s*t)+c}}var A=t.grouping&&t.thousands?Object(r.a)(t.grouping,t.thousands):l.a,h=t.currency,d=t.decimal,f=t.numerals?Object(o.a)(t.numerals):l.a,p=t.percent||"%";return{format:e,formatPrefix:n}}},function(t,e,n){"use strict";function i(t){return new r(t)}function r(t){if(!(e=a.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",s=e[4]||"",c=!!e[5],l=e[6]&&+e[6],u=!!e[7],A=e[8]&&+e[8].slice(1),h=e[9]||"";"n"===h?(u=!0,h="g"):o.a[h]||(h=""),(c||"0"===n&&"="===i)&&(c=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=s,this.zero=c,this.width=l,this.comma=u,this.precision=A,this.type=h}e.a=i;var o=n(74),a=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;i.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(t,e,n){"use strict";var i=n(198),r=n(75),o=n(199);e.a={"":i.a,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Object(o.a)(100*t,e)},r:o.a,s:r.a,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var i,r=n(43);e.a=function(t,e){var n=Object(r.a)(t,e);if(!n)return t+"";var o=n[0],a=n[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=o.length;return s===c?o:s>c?o+new Array(s-c+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+Object(r.a)(t,Math.max(0,e+s-1))[0]}},function(t,e,n){"use strict";function i(t,e,n,i){t.classed("escher-container",!0),navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Mozilla")&&t.on("touchstart touchmove",function(){B.event.stopPropagation()}),i&&(C("html").classed("fill-screen",!0),C("body").classed("fill-screen",!0),t.classed("fill-screen-div",!0));var r=t.append("div").attr("class","escher-zoom-container"),o=r.append("div").attr("class","escher-3d-transform-container"),a=o.append("svg").attr("class","escher-svg").attr("xmlns","http://www.w3.org/2000/svg");a.select(".zoom-g").remove();var s=a.append("g").attr("class","zoom-g");this.selection=t,this.zoom_container=r,this.css3_transform_container=o,this.svg=a,this.zoomed_sel=s,this.window_translate={x:0,y:0},this.window_scale=1,this._scroll_behavior=e,this._use_3d_transform=n,this._pan_drag_on=!0,this._zoom_behavior=null,this._zoom_timeout=null,this._svg_scale=this.window_scale,this._svg_translate=this.window_translate,this.callback_manager=new m,this._update_scroll()}function r(t){this._scroll_behavior=t,this._update_scroll()}function o(t){this._use_3d_transform=t}function a(t){v.isUndefined(t)?this._pan_drag_on=!this._pan_drag_on:this._pan_drag_on=t,this._pan_drag_on?this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1):this.zoomed_sel.style("cursor",null).classed("cursor-grab",!1).classed("cursor-grabbing",!1),this._update_scroll()}function s(){if(!v.contains(["zoom","pan","none"],this._scroll_behavior))throw Error("Bad value for scroll_behavior: "+this._scroll_behavior);if(this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null).on("dblclick.zoom",null).on("mousewheel.escher",null).on("DOMMouseScroll.escher",null).on("wheel.escher",null).on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),this._zoom_behavior=y().on("start",function(){B.event.sourceEvent&&"mousedown"===B.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!1).classed("cursor-grabbing",!0),null!==B.event.sourceEvent&&(B.event.sourceEvent.stopPropagation(),B.event.sourceEvent.preventDefault())}.bind(this)).on("zoom",function(){this._go_to_callback(B.event.transform.k,{x:B.event.transform.x,y:B.event.transform.y})}.bind(this)).on("end",function(){B.event.sourceEvent&&"mouseup"===B.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1)}.bind(this)),this.zoom_container.call(this._zoom_behavior),this.zoom_container.on("dblclick.zoom",null),this._pan_drag_on||this.zoom_container.on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),"zoom"!==this._scroll_behavior&&this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null),"pan"===this._scroll_behavior){var t=function(){var t=B.event;t.stopPropagation(),t.preventDefault(),t.returnValue=!1;var e=function(t,e){return.5*(v.isUndefined(t)?e:-t/1.5)},n={x:this.window_translate.x-e(t.wheelDeltaX,t.deltaX),y:this.window_translate.y-e(t.wheelDeltaY,t.deltaY)};this.go_to(this.window_scale,n)}.bind(this);this.zoom_container.on("mousewheel.escher",t),this.zoom_container.on("DOMMouseScroll.escher",t),this.zoom_container.on("wheel.escher",t)}this.go_to(this.window_scale,this.window_translate)}function c(t,e){if(_.check_undefined(arguments,["scale","translate"]),!t)throw new Error("Bad scale value");if(!e||!("x"in e)||!("y"in e)||v.isNaN(e.x)||v.isNaN(e.y))throw new Error("Bad translate value");var n=w.translate(e.x,e.y).scale(t);this.zoom_container.call(this._zoom_behavior.transform,n)}function l(t,e){this.window_scale!==t&&(this.window_scale=t,this.callback_manager.run("zoomChange")),this.window_translate=e,this._use_3d_transform?(v.isNull(this._zoom_timeout)||clearTimeout(this._zoom_timeout),this._go_to_3d(t,e,this._svg_scale,this._svg_translate),this._zoom_timeout=v.delay(function(){this._go_to_svg(t,e)}.bind(this),100)):this._go_to_svg(t,e),this.callback_manager.run("go_to")}function u(t,e,n,i){var r=t/n,o=_.c_minus_c(e,_.c_times_scalar(i,r)),a="translate("+o.x+"px,"+o.y+"px) scale("+r+")";this.css3_transform_container.style("transform",a),this.css3_transform_container.style("-webkit-transform",a),this.css3_transform_container.style("transform-origin","0 0"),this.css3_transform_container.style("-webkit-transform-origin","0 0")}function A(){this.css3_transform_container.style("transform",null),this.css3_transform_container.style("-webkit-transform",null),this.css3_transform_container.style("transform-origin",null),this.css3_transform_container.style("-webkit-transform-origin",null)}function h(t,e,n){this.callback_manager.run("svg_start"),v.defer(function(){this._clear_3d(),this.zoomed_sel.attr("transform","translate("+e.x+","+e.y+") scale("+t+")"),this._svg_scale=t,this._svg_translate=e,v.defer(function(){this.callback_manager.run("svg_finish"),v.isUndefined(n)||n()}.bind(this))}.bind(this))}function d(t){var e=this.get_size(),n={x:e.width/2-((e.width/2-this.window_translate.x)*t+this.window_translate.x),y:e.height/2-((e.height/2-this.window_translate.y)*t+this.window_translate.y)};this.go_to(this.window_scale*t,_.c_plus_c(this.window_translate,n))}function f(){this.zoom_by(1.5)}function p(){this.zoom_by(.667)}function g(){var t=this.selection.node().getBoundingClientRect();return{width:t.width,height:t.height}}function b(t){var e=this.get_size(),n={x:{min:-this.window_translate.x/this.window_scale+120/this.window_scale,max:-this.window_translate.x/this.window_scale+(e.width-120)/this.window_scale},y:{min:-this.window_translate.y/this.window_scale+120/this.window_scale,max:-this.window_translate.y/this.window_scale+(e.height-120)/this.window_scale}};t.x<n.x.min?(this.window_translate.x=this.window_translate.x-(t.x-n.x.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):t.x>n.x.max&&(this.window_translate.x=this.window_translate.x-(t.x-n.x.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate)),t.y<n.y.min?(this.window_translate.y=this.window_translate.y-(t.y-n.y.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):t.y>n.y.max&&(this.window_translate.y=this.window_translate.y-(t.y-n.y.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate))}var _=n(1),m=n(18),v=n(2),y=n(46).zoom,w=(n(46).zoomTransform,n(46).zoomIdentity),C=n(0).select,B=n(0),x=_.make_class();x.prototype={init:i,set_scroll_behavior:r,set_use_3d_transform:o,_update_scroll:s,toggle_pan_drag:a,go_to:c,_go_to_callback:l,_go_to_3d:u,_clear_3d:A,_go_to_svg:h,zoom_by:d,zoom_in:f,zoom_out:p,get_size:g,translate_off_screen:b},t.exports=x},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i=Math.PI/180,r=180/Math.PI},function(t,e,n){"use strict";function i(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),c=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,c[n]=i.b||0;return a=t(a),s=t(s),c=t(c),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=c(t),i+""}}}var r=n(10),o=n(50),a=n(79),s=n(21);e.a=function t(e){function n(t,e){var n=i((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=i(t.g,e.g),a=i(t.b,e.b),c=Object(s.a)(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=a(e),t.opacity=c(e),t+""}}var i=Object(s.b)(e);return n.gamma=t,n}(1);i(o.b),i(a.a)},function(t,e,n){"use strict";var i=n(50);e.a=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],c=t[(r+2)%e];return Object(i.a)((n-r/e)*e,o,a,s,c)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var i=n(47);e.a=function(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,a=new Array(o),s=new Array(r);for(n=0;n<o;++n)a[n]=Object(i.a)(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}}},function(t,e,n){"use strict";var i=n(47);e.a=function(t,e){var n,r={},o={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=Object(i.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}},function(t,e,n){"use strict";function i(t){return function(){return t}}function r(t){return function(e){return t(e)+""}}var o=n(29),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(a.source,"g");e.a=function(t,e){var n,c,l,u=a.lastIndex=s.lastIndex=0,A=-1,h=[],d=[];for(t+="",e+="";(n=a.exec(t))&&(c=s.exec(e));)(l=c.index)>u&&(l=e.slice(u,l),h[A]?h[A]+=l:h[++A]=l),(n=n[0])===(c=c[0])?h[A]?h[A]+=c:h[++A]=c:(h[++A]=null,d.push({i:A,x:Object(o.a)(n,c)})),u=s.lastIndex;return u<e.length&&(l=e.slice(u),h[A]?h[A]+=l:h[++A]=l),h.length<2?d[0]?r(d[0].x):i(e):(e=d.length,function(t){for(var n,i=0;i<e;++i)h[(n=d[i]).i]=n.x(t);return h.join("")})}},function(t,e,n){"use strict";var i=(n(223),n(13),n(255),n(86));n.d(e,"a",function(){return i.a})},function(t,e,n){"use strict";var i=n(6);e.a=function(t,e){var n,r,o,a=t.__transition,s=!0;if(a){e=null==e?null:e+"";for(o in a)(n=a[o]).name===e?(r=n.state>i.d&&n.state<i.b,n.state=i.a,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete t.__transition}}},function(t,e,n){"use strict";var i=n(51);n.d(e,"a",function(){return i.b}),n.d(e,"c",function(){return i.c});var r=n(225);n.d(e,"b",function(){return r.a});n(226)},function(t,e,n){"use strict";var i=n(10),r=n(7);e.a=function(t,e){var n;return("number"==typeof e?r.c:e instanceof i.a?r.d:(n=Object(i.a)(e))?(e=n,r.d):r.f)(t,e)}},function(t,e,n){"use strict";function i(t,e,n){this.k=t,this.x=e,this.y=n}function r(t){return t.__zoom||o}e.a=i,n.d(e,"c",function(){return o}),e.b=r,i.prototype={constructor:i,scale:function(t){return 1===t?this:new i(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new i(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new i(1,0,0);r.prototype=i.prototype},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s,c,l,u){if(null===a){var A=i.get_size();a={x:-A.width,y:-A.height,width:3*A.width,height:3*A.height}}c=Ut.isUndefined(c)||null===c||""===c?"new_map":String(c),l=Ut.isUndefined(l)||null===l||""===l?Dt.generate_map_id():String(l),u=Ut.isUndefined(u)||null===u?"":String(u),this.callback_manager=new St,this.svg=t,this.defs=Dt.setup_defs(t,e),this.canvas=new Lt(n,a),this.setup_containers(n),this.sel=n,this.zoom_container=i,this.settings=r,this.cobra_model=o,this.largest_ids={reactions:-1,nodes:-1,segments:-1,text_labels:-1},this.undo_stack=new zt,this.behavior=new Nt(this,this.undo_stack),this.draw=new jt(this.behavior,this.settings,this),this.key_manager=new Qt,this.key_manager.ctrl_equals_cmd=!0,this.enable_search=s,this.search_index=new Yt,this.map_name=c,this.map_id=l,this.map_description=u;this.beziers_enabled=!1,this.has_data_on_reactions=!1,this.has_data_on_nodes=!1,this.imported_reaction_data=null,this.imported_metabolite_data=null,this.imported_gene_data=null,this.nodes={},this.reactions={},this.beziers={},this.text_labels={},this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.scale=new Tt,this.scale.connectToSettings(this.settings,this,I.bind(this)),this.rotation_on=!1,this.listen_for_full_screen(function(){setTimeout(function(){this.zoom_extent_canvas()}.bind(this),50)}.bind(this))}function r(t,e,n,i,r,o,a,s){function c(t,e){return Ut.isUndefined(e)&&(e=0),Ut.isUndefined(t)?e:Math.max.apply(null,Object.keys(t).map(function(t){return parseInt(t)}).concat([e]))}var l=t[1].canvas,u=t[0].map_name,A=t[0].map_id,h=t[0].map_description.replace(/(\nLast Modified.*)+$/g,"")+"\nLast Modified "+Date(Date.now()).toString(),d=new Gt(e,n,i,r,o,a,l,s,u,A,h);d.reactions=t[1].reactions,d.nodes=t[1].nodes,d.text_labels=t[1].text_labels;for(var f in d.nodes){var p=d.nodes[f];if(p.connected_segments=[],s){if("metabolite"!==p.node_type)continue;d.search_index.insert("n"+f,{name:p.bigg_id,data:{type:"metabolite",node_id:f}}),d.search_index.insert("n_name"+f,{name:p.name,data:{type:"metabolite",node_id:f}})}}for(var g in d.reactions){var b=d.reactions[g];if(s){d.search_index.insert("r"+g,{name:b.bigg_id,data:{type:"reaction",reaction_id:g}}),d.search_index.insert("r_name"+g,{name:b.name,data:{type:"reaction",reaction_id:g}});for(var _ in b.genes){var m=b.genes[_];d.search_index.insert("r"+g+"_g"+_,{name:m.bigg_id,data:{type:"reaction",reaction_id:g}}),d.search_index.insert("r"+g+"_g_name"+_,{name:m.name,data:{type:"reaction",reaction_id:g}})}}var v=[];for(var y in b.segments){var w=b.segments[y];if(w.reversibility=b.reversibility,w.from_node_id in d.nodes&&w.to_node_id in d.nodes){var C=d.nodes[w.from_node_id],B=d.nodes[w.to_node_id];b.metabolites.forEach(function(t){t.bigg_id==C.bigg_id?w.from_node_coefficient=t.coefficient:t.bigg_id==B.bigg_id&&(w.to_node_coefficient=t.coefficient)}),[C,B].forEach(function(t){t.connected_segments.push({segment_id:y,reaction_id:g})});var x=d.nodes[w.from_node_id],E=d.nodes[w.to_node_id];if("metabolite"==x.node_type||"metabolite"==E.node_type){var M=Dt.c_plus_c(x,Dt.c_times_scalar(Dt.c_minus_c(E,x),.5));null===w.b1&&(w.b1=M),null===w.b2&&(w.b2=M)}}else console.warn("Bad node references in segment "+y+". Deleting segment."),v.push(y)}v.forEach(function(t){delete b.segments[t]})}if(s)for(var k in d.text_labels){var I=d.text_labels[k];d.search_index.insert("l"+k,{name:I.text,data:{type:"text_label",text_label_id:k}})}d.beziers=Ot.new_beziers_for_reactions(d.reactions),d.largest_ids.reactions=c(d.reactions),d.largest_ids.nodes=c(d.nodes),d.largest_ids.text_labels=c(d.text_labels);var D=0;for(var j in d.reactions)D=c(d.reactions[j].segments,D);return d.largest_ids.segments=D,d.apply_reaction_data_to_map(null),d.apply_metabolite_data_to_map(null),d.apply_gene_data_to_map(null),d}function o(t){t.append("g").attr("id","reactions"),t.append("g").attr("id","nodes"),t.append("g").attr("id","beziers"),t.append("g").attr("id","text-labels")}function a(){this.sel.select("#reactions").selectAll(".reaction").remove(),this.sel.select("#nodes").selectAll(".node").remove(),this.sel.select("#beziers").selectAll(".bezier").remove(),this.sel.select("#text-labels").selectAll(".text-label").remove()}function s(t,e){this.callback_manager.run("set_status",null,t),clearTimeout(this._status_timer),this._status_timer=null,void 0!==e&&(this._status_timer=setTimeout(function(){this.callback_manager.run("set_status",null,"")}.bind(this),e))}function c(){this.reactions={},this.beziers={},this.nodes={},this.text_labels={},this.map_name="new_map",this.map_id=Dt.generate_map_id(),this.map_description="",this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.draw_everything()}function l(){return null!==this.cobra_model}function u(){this.draw_all_reactions(!0,!0),this.draw_all_nodes(!0),this.draw_all_text_labels()}function A(t,e){Ut.isUndefined(t)&&(t=!0),Ut.isUndefined(e)&&(e=!0);var n=[];for(var i in this.reactions)n.push(i);this.draw_these_reactions(n,!1),t&&this.beziers_enabled&&this.draw_all_beziers(),e&&this.clear_deleted_reactions(t)}function h(t,e){Ut.isUndefined(e)&&(e=!0);var n=Dt.object_slice_for_ids_ref(this.reactions,t),i=function(t){return this.draw.update_reaction(t,this.scale,this.cobra_model,this.nodes,this.defs,this.has_data_on_reactions)}.bind(this);if(Dt.draw_an_object(this.sel,"#reactions",".reaction",n,"reaction_id",this.draw.create_reaction.bind(this.draw),i),e){var r=Ot.bezier_ids_for_reaction_ids(n);this.draw_these_beziers(r)}}function d(t){Ut.isUndefined(t)&&(t=!0),Dt.draw_an_object(this.sel,"#reactions",".reaction",this.reactions,"reaction_id",null,function(t){Dt.draw_a_nested_object(t,".segment-group","segments","segment_id",null,null,function(t){t.remove()})},function(t){t.remove()}),!0===t&&this.clear_deleted_beziers()}function f(t){void 0===t&&(t=!0);var e=[];for(var n in this.nodes)e.push(n);this.draw_these_nodes(e),t&&this.clear_deleted_nodes()}function p(t){var e=Dt.object_slice_for_ids_ref(this.nodes,t),n=function(t){return this.draw.create_node(t,this.nodes,this.reactions)}.bind(this),i=function(t){return this.draw.update_node(t,this.scale,this.has_data_on_nodes,this.behavior.selectable_mousedown,this.behavior.selectable_click,this.behavior.node_mouseover,this.behavior.node_mouseout,this.behavior.selectable_drag,this.behavior.node_label_drag)}.bind(this);Dt.draw_an_object(this.sel,"#nodes",".node",e,"node_id",n,i)}function g(){Dt.draw_an_object(this.sel,"#nodes",".node",this.nodes,"node_id",null,null,function(t){t.remove()})}function b(){this.draw_these_text_labels(Object.keys(this.text_labels)),this.clear_deleted_text_labels()}function _(t){var e=Dt.object_slice_for_ids_ref(this.text_labels,t);Dt.draw_an_object(this.sel,"#text-labels",".text-label",e,"text_label_id",this.draw.create_text_label.bind(this.draw),this.draw.update_text_label.bind(this.draw))}function m(){Dt.draw_an_object(this.sel,"#text-labels",".text-label",this.text_labels,"text_label_id",null,null,function(t){t.remove()})}function v(){var t=[];for(var e in this.beziers)t.push(e);this.draw_these_beziers(t),this.clear_deleted_beziers()}function y(t){var e=Dt.object_slice_for_ids_ref(this.beziers,t),n=function(t){return this.draw.update_bezier(t,this.beziers_enabled,this.behavior.bezier_drag,this.behavior.bezier_mouseover,this.behavior.bezier_mouseout,this.nodes,this.reactions)}.bind(this);Dt.draw_an_object(this.sel,"#beziers",".bezier",e,"bezier_id",this.draw.create_bezier.bind(this.draw),n)}function w(){Dt.draw_an_object(this.sel,"#beziers",".bezier",this.beziers,"bezier_id",null,null,function(t){t.remove()})}function C(){this.toggle_beziers(!0)}function B(){this.toggle_beziers(!1)}function x(t){Ut.isUndefined(t)?this.beziers_enabled=!this.beziers_enabled:this.beziers_enabled=t,this.draw_all_beziers(),this.callback_manager.run("toggle_beziers",null,this.beziers_enabled)}function E(t,e){var n=this.settings.get_option("reaction_styles"),i=this.settings.get_option("reaction_compare_style"),r=Ft.apply_reaction_data_to_reactions(this.reactions,t,n,i,e);return this.has_data_on_reactions=r,this.imported_reaction_data=r?t:null,this.calc_data_stats("reaction")}function M(t,e){var n=this.settings.get_option("metabolite_styles"),i=this.settings.get_option("metabolite_compare_style"),r=Ft.apply_metabolite_data_to_nodes(this.nodes,t,n,i,e);return this.has_data_on_nodes=r,this.imported_metabolite_data=r?t:null,this.calc_data_stats("metabolite")}function k(t,e){var n=this.settings.get_option("reaction_styles"),i=this.settings.get_option("reaction_compare_style"),r=this.settings.get_option("identifiers_on_map"),o=this.settings.get_option("and_method_in_gene_reaction_rule"),a=Ft.apply_gene_data_to_reactions(this.reactions,t,n,r,i,o,e);return this.has_data_on_reactions=a,this.imported_gene_data=a?t:null,this.calc_data_stats("reaction")}function I(){return this.data_statistics}function D(t){return function(e){return t.apply(null,e)}}function j(t){if(-1===["reaction","metabolite"].indexOf(t))throw new Error("Bad type "+t);"data_statistics"in this?t in this.data_statistics||(this.data_statistics[t]=null):(this.data_statistics={},this.data_statistics[t]=null);var e=[];if("metabolite"===t)for(var n in this.nodes){var i=this.nodes[n];Ut.isUndefined(i.data)?console.error("metabolite missing "):null!==i.data&&e.push(i.data)}else if("reaction"==t)for(var r in this.reactions){var o=this.reactions[r];Ut.isUndefined(o.data)?console.error("reaction data missing "):null!==o.data&&e.push(o.data)}if(0===e.length){var a=null===this.data_statistics[t];return this.data_statistics[t]=null,"reaction"===t?this.callback_manager.run("calc_data_stats__reaction",null,!a):this.callback_manager.run("calc_data_stats__metabolite",null,!a),!a}null===this.data_statistics[t]&&(this.data_statistics[t]={});var s=!0,c=Dt.quartiles(e);if([["min",D(Math.min)],["max",D(Math.max)],["mean",Dt.mean],["Q1",function(){return c[0]}],["median",function(){return c[1]}],["Q3",function(){return c[2]}]].forEach(function(n){var i,r=n[0];i=0===e.length?null:(0,n[1])(e),i!=this.data_statistics[t][r]&&(s=!1),this.data_statistics[t][r]=i}.bind(this)),this.data_statistics[t].min===this.data_statistics[t].max&&null!==this.data_statistics[t].min){var l=this.data_statistics[t].min,u=this.data_statistics[t].max;this.data_statistics[t].min=l-1-.1*Math.abs(l),this.data_statistics[t].max=u+1+.1*Math.abs(u)}return"reaction"===t?this.callback_manager.run("calc_data_stats__reaction",null,!s):this.callback_manager.run("calc_data_stats__metabolite",null,!s),!s}function N(){var t=[];return this.sel.select("#nodes").selectAll(".selected").each(function(e){t.push(e.node_id)}),t}function T(){var t={};return this.sel.select("#nodes").selectAll(".selected").each(function(e){t[e.node_id]=this.nodes[e.node_id]}.bind(this)),t}function O(){var t=[];return this.sel.select("#text-labels").selectAll(".selected").each(function(e){t.push(e.text_label_id)}),t}function z(){var t={};return this.sel.select("#text-labels").selectAll(".selected").each(function(e){t[e.text_label_id]=this.text_labels[e.text_label_id]}.bind(this)),t}function S(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",!0)}function Q(){this.sel.selectAll(".selected").classed("selected",!1)}function L(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",function(){return!Wt(this).classed("selected")})}function F(t){this.deselect_text_labels();var e,n,i=this.sel.select("#nodes").selectAll(".node");i.classed("selected",function(i){var r=String(i.node_id)==String(t);return r&&(n=i,e={x:i.x,y:i.y}),r}),this.sel.selectAll(".start-reaction-target").style("visibility","hidden"),this.callback_manager.run("select_metabolite_with_id",null,n,e)}function Y(t,e,n){n=!Ut.isUndefined(n)&&n;var i,r=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label");i=-1==Wt(t).attr("class").indexOf("text-label")?t.parentNode:t,n?Wt(i).classed("selected",!Wt(i).classed("selected")):(r.classed("selected",!1),Wt(i).classed("selected",!0));var o,a,s=this.sel.select("#nodes").selectAll(".selected"),c=0;s.each(function(t){a=t,o={x:t.x,y:t.y},c++}),this.callback_manager.run("select_selectable",null,c,a,o)}function U(){var t=null;return this.sel.select("#nodes").selectAll(".selected").classed("selected",function(e,n){return 0===n&&(t=e,!0)}),t}function W(){this.sel.select("#nodes").selectAll(".node").classed("selected",!1),this.callback_manager.run("deselect_nodes")}function G(t,e){this.deselect_nodes(),this.sel.select("#text-labels").selectAll(".text-label").classed("selected",function(t){return e===t});var n,i=this.sel.select("#text-labels").selectAll(".selected");i.each(function(t){n={x:t.x,y:t.y}}),this.callback_manager.run("select_text_label")}function R(){this.sel.select("#text-labels").selectAll(".text-label").classed("selected",!1)}function P(){var t=this.get_selected_nodes(),e=this.get_selected_text_labels();(Object.keys(t).length>=1||Object.keys(e).length>=1)&&this.delete_selectable(t,e,!0)}function Z(t,e,n){var i=this.segments_and_reactions_for_nodes(t),r=i.segment_objs_w_segments,o=i.reactions,a=Dt.clone(t),s=Dt.clone(r),c=Dt.clone(o),l=Dt.clone(e),u=function(e,i,r,o){this.delete_node_data(Object.keys(t)),this.delete_segment_data(r),this.delete_reaction_data(Object.keys(i)),this.delete_text_label_data(Object.keys(o));var a=!1,s=!1;this.has_data_on_reactions&&(a=this.calc_data_stats("reaction")),this.has_data_on_nodes&&(s=this.calc_data_stats("metabolite")),n&&(a?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(),s?this.draw_all_nodes(!0):this.clear_deleted_nodes(),this.clear_deleted_text_labels())}.bind(this);u(t,o,r,e),this.undo_stack.push(function(){this.extend_nodes(a),this.extend_reactions(c);var i=Object.keys(c);for(var u in s){var A=s[u],h=A.segment;this.reactions[A.reaction_id].segments[A.segment_id]=h;[h.from_node_id,h.to_node_id].forEach(function(t){if(!(t in a)){this.nodes[t].connected_segments.push({reaction_id:A.reaction_id,segment_id:A.segment_id})}}.bind(this));var d=A.segment_id,f=A.reaction_id,p={};p[d]=A.segment,Dt.extend(this.beziers,Ot.new_beziers_for_segments(p,f)),-1===i.indexOf(A.reaction_id)&&i.push(A.reaction_id)}if(this.has_data_on_reactions){var g=this.calc_data_stats("reaction");g?this.draw_all_reactions(!0,!1):this.draw_these_reactions(i)}else n&&this.draw_these_reactions(i);if(this.has_data_on_nodes){var g=this.calc_data_stats("metabolite");n&&(g?this.draw_all_nodes(!1):this.draw_these_nodes(Object.keys(a)))}else n&&this.draw_these_nodes(Object.keys(a));Dt.extend(this.text_labels,l),n&&this.draw_these_text_labels(Object.keys(l)),e=Dt.clone(l),t=Dt.clone(a),r=Dt.clone(s),o=Dt.clone(c)}.bind(this),function(){u(t,o,r,e)}.bind(this))}function H(t){t.forEach(function(t){if(this.enable_search&&"metabolite"==this.nodes[t].node_type){this.search_index.remove("n"+t)&&this.search_index.remove("n_name"+t)||console.warn("Could not find deleted metabolite in search index")}delete this.nodes[t]}.bind(this))}function V(t){for(var e in t){var n=t[e],i=this.reactions[n.reaction_id];if(!(n.segment_id in i.segments))return;var r=i.segments[n.segment_id];[r.from_node_id,r.to_node_id].forEach(function(t){if(t in this.nodes){var e=this.nodes[t];e.connected_segments=e.connected_segments.filter(function(t){return t.segment_id!=n.segment_id})}}.bind(this)),["b1","b2"].forEach(function(t){var e=Ot.bezier_id_for_segment_id(n.segment_id,t);delete this.beziers[e]}.bind(this)),delete i.segments[n.segment_id]}}function K(t){t.forEach(function(t){var e=this.reactions[t];for(var n in e.segments)["b1","b2"].forEach(function(t){var e=Ot.bezier_id_for_segment_id(n,t);delete this.beziers[e]}.bind(this));delete this.reactions[t];var i=this.search_index.remove("r"+t)&&this.search_index.remove("r_name"+t);i||console.warn("Could not find deleted reaction "+t+" in search index");for(var r in e.genes){var i=this.search_index.remove("r"+t+"_g"+r)&&this.search_index.remove("r"+t+"_g_name"+r);i||console.warn("Could not find deleted gene "+r+" in search index")}}.bind(this))}function J(t){t.forEach(function(t){delete this.text_labels[t],this.search_index.remove("l"+t)||console.warn("Could not find deleted text label in search index")}.bind(this))}function q(t,e){this.extend_nodes(t);var n=[e];if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");this.apply_metabolite_data_to_map(this.imported_metabolite_data,n)?this.draw_all_nodes(!1):this.draw_these_nodes(n)}else this.draw_these_nodes(n)}function X(t,e,n){if(!this.cobra_model)return void console.error("No CobraModel. Cannot build new reaction");var i=Dt.clone(this.cobra_model.reactions[t]);if(0===Ut.size(i.metabolites))throw Error("No metabolites in reaction "+i.bigg_id);var r=Ut.map(i.metabolites,function(t,e){return[t,e]}).filter(function(t){return t[0]<0}).map(function(t){return t[1]}),o=r.length>0?r[0]:Object.keys(i.metabolites)[0],a=this.cobra_model.metabolites[o],s=String(++this.largest_ids.nodes),c=Ot.get_met_label_loc(Math.PI/180*n,0,1,!0,o),l={connected_segments:[],x:e.x,y:e.y,node_is_primary:!0,label_x:e.x+c.x,label_y:e.y+c.y,name:a.name,bigg_id:o,node_type:"metabolite"},u={};u[s]=l,q.apply(this,[u,s]);var A=Dt.clone(u),h=this.new_reaction_for_metabolite(t,s,n,!1),d=h.redo,f=h.undo;this.undo_stack.push(function(){f(),this.delete_node_data(Object.keys(u)),u=Dt.clone(A),this.clear_deleted_nodes(),this.deselect_nodes()}.bind(this),function(){q.apply(this,[u,s]),d()}.bind(this))}function $(t){if(this.enable_search)for(var e in t){var n=t[e];"metabolite"==n.node_type&&(this.search_index.insert("n"+e,{name:n.bigg_id,data:{type:"metabolite",node_id:e}}),this.search_index.insert("n_name"+e,{name:n.name,data:{type:"metabolite",node_id:e}}))}Dt.extend(this.nodes,t)}function tt(t){if(this.enable_search)for(var e in t){var n=t[e];this.search_index.insert("r"+e,{name:n.bigg_id,data:{type:"reaction",reaction_id:e}}),this.search_index.insert("r_name"+e,{name:n.name,data:{type:"reaction",reaction_id:e}});for(var i in n.genes){var r=n.genes[i];this.search_index.insert("r"+e+"_g"+i,{name:r.bigg_id,data:{type:"reaction",reaction_id:e}}),this.search_index.insert("r"+e+"_g_name"+i,{name:r.name,data:{type:"reaction",reaction_id:e}})}}Dt.extend(this.reactions,t)}function et(t,e,n,i){this.extend_reactions(e),Dt.extend(this.beziers,n),this.delete_node_data([i]),this.extend_nodes(t);var r=Object.keys(e);if(this.has_data_on_reactions){var o=!1;if(this.imported_reaction_data)o=this.apply_reaction_data_to_map(this.imported_reaction_data,r);else{if(!this.imported_gene_data)throw new Error("imported_gene_data or imported_reaction_data should not be null");o=this.apply_gene_data_to_map(this.imported_gene_data,r)}o?this.draw_all_reactions(!0,!1):this.draw_these_reactions(r)}else this.draw_these_reactions(r);var a=Object.keys(t);if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");var o=this.apply_metabolite_data_to_map(this.imported_metabolite_data,a);o?this.draw_all_nodes(!1):this.draw_these_nodes(a)}else this.draw_these_nodes(a);for(var s in t){var c=t[s];if(c.node_is_primary&&s!=i){this.select_metabolite_with_id(s);var l={x:c.x,y:c.y};this.zoom_container&&this.zoom_container.translate_off_screen(l)}}}function nt(t,e,n,i){void 0===i&&(i=!0);var r=this.nodes[e],o=this.cobra_model.reactions[t],a=Ot.new_reaction(t,o,this.cobra_model.metabolites,e,Dt.clone(r),this.largest_ids,this.settings.get_option("cofactors"),n),s=a.new_nodes,c=a.new_reactions,l=a.new_beziers;et.apply(this,[s,c,l,e]);var u=Dt.clone(s),A=Dt.clone(c),h=Dt.clone(l),d=function(){if(delete s[e],this.delete_node_data(Object.keys(s)),this.delete_reaction_data(Object.keys(c)),F.apply(this,[e]),s=Dt.clone(u),c=Dt.clone(A),l=Dt.clone(h),this.has_data_on_reactions){var t=this.calc_data_stats("reaction");t?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(!0)}else this.clear_deleted_reactions(!0);if(this.has_data_on_nodes){var t=this.calc_data_stats("metabolite");t?this.draw_all_nodes(!0):this.clear_deleted_nodes()}else this.clear_deleted_nodes()}.bind(this),f=function(){et.apply(this,[s,c,l,e])}.bind(this);return i&&this.undo_stack.push(d,f),{undo:d,redo:f}}function it(){var t=this.get_selected_nodes();if(!Ut.isEmpty(t)){var e,n=Object.keys(t)[0],i=(t[n],this.reactions),r=this.nodes,o=[];if(r[n].connected_segments.forEach(function(t){e=[t.reaction_id];var r;try{if(void 0===(r=i[t.reaction_id].segments[t.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segment "+t.segment_id)}o.push(r.from_node_id==n?r.to_node_id:r.from_node_id)}),1!=o.length)return void console.error("Only connected nodes with a single reaction can be selected");var a=o[0],s=[n];r[a].connected_segments.forEach(function(t){var e;try{if(void 0===(e=i[t.reaction_id].segments[t.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segment "+t.segment_id)}var o=e.from_node_id==a?e.to_node_id:e.from_node_id;"metabolite"==r[o].node_type&&o!=n&&s.push(String(o))});for(var c=0;c<s.length;c++)if(r[s[c]].connected_segments.length>1)return void console.error("Only connected nodes with a single reaction can be selected");for(var l in t)if(l!=n&&-1==s.indexOf(l))return void console.warn("Selected nodes are not on the same reaction");var u=[],A=s.length-1,h=r[s[A]],d=h.node_is_primary,f={x:h.x,y:h.y,label_x:h.label_x,label_y:h.label_y};h.connected_segments.length>1&&console.warn("Too many connected segments for node "+h.node_id);var p,g=h.connected_segments[0];try{if(void 0===(p=i[g.reaction_id].segments[g.segment_id]))throw new Error("undefined segment")}catch(t){return void console.error("Could not find connected segment "+g.segment_id)}var b,_={b1:p.b1,b2:p.b2};s.forEach(function(t){var e=r[t],n=e.node_is_primary,o={x:e.x,y:e.y,label_x:e.label_x,label_y:e.label_y},a=e.connected_segments[0],s=i[a.reaction_id].segments[a.segment_id],c={b1:s.b1,b2:s.b2};e.node_is_primary=d,e.x=f.x,e.y=f.y,e.label_x=f.label_x,e.label_y=f.label_y,s.b1=_.b1,s.b2=_.b2,d=n,f=o,_=c,e.node_is_primary&&(b=t),u.push(t)});var m=r[a].connected_segments,A=m.length-1,v=[m[A]];m.forEach(function(t,e){A!=e&&v.push(t)}),r[a].connected_segments=v,this.draw_these_nodes(u),this.draw_these_reactions(e),this.select_metabolite_with_id(b)}}function rt(){var t=this.get_selected_node_ids(),e=function(t){var e={},n=this.settings.get_option("hide_secondary_metabolites");if(t.forEach(function(t){if(!(t in this.nodes))return void console.warn("Could not find node: "+t);var n=this.nodes[t];"metabolite"==n.node_type&&(n.node_is_primary=!n.node_is_primary,e[t]=n)}.bind(this)),this.draw_these_nodes(Object.keys(e)),n){var i=this.segments_and_reactions_for_nodes(e),r={};for(var o in i.segment_objs_w_segments){r[i.segment_objs_w_segments[o].reaction_id]=!0}this.draw_these_reactions(Object.keys(r))}}.bind(this);e(t),this.undo_stack.push(function(){e(t)},function(){e(t)})}function ot(t){var e={},n={},i={},r=this.reactions;for(var o in t){t[o].connected_segments.forEach(function(t){var n;try{if(void 0===(n=r[t.reaction_id].segments[t.segment_id]))throw new Error("undefined segment")}catch(t){return void console.warn("Could not find connected segments for node")}var o=Dt.clone(t);o.segment=Dt.clone(n),e[t.segment_id]=o,t.reaction_id in i||(i[t.reaction_id]=[]),i[t.reaction_id].push(t.segment_id)})}for(var a in i){var s=r[a],c=i[a],l=!0;for(var u in s.segments)-1==c.indexOf(u)&&(l=!1);l&&(n[a]=s)}return{segment_objs_w_segments:e,reactions:n}}function at(t,e){this.search_index.insert("l"+t,{name:e,data:{type:"text_label",text_label_id:t}})}function st(t,e){var n=Ot.new_text_label(this.largest_ids,e,t);return this.text_labels[n.id]=n.label,this.draw_these_text_labels([n.id]),""!==e&&this.add_label_to_search_index(n.id,e),n.id}function ct(t,e,n,i){if(Ut.isUndefined(i)&&(i=!1),""===e)throw new Error("Should not be called for empty string");var r=function(e,n){this.text_labels[t].text=e,n&&this.draw_these_text_labels([t]);var r="l"+t,o=this.search_index.remove(r);i||o||console.warn("Could not find modified text label in search index"),this.search_index.insert(r,{name:e,data:{type:"text_label",text_label_id:t}})}.bind(this),o=Dt.clone(this.text_labels[t]);r(e,n),this.undo_stack.push(function(){i?(this.delete_text_label_data([t]),this.clear_deleted_text_labels()):r(o.text,!0)}.bind(this),function(){i?(this.text_labels[t]=Dt.clone(o),this.text_labels[t].text=e,this.draw_these_text_labels([t]),this.add_label_to_search_index(t,e)):r(e,!0)}.bind(this))}function lt(t){this._zoom_extent(t,"nodes")}function ut(t){this._zoom_extent(t,"canvas")}function At(t,e){Ut.isUndefined(t)&&(t="nodes"===e?.2:0),Ut.isUndefined(e)&&(e="canvas");var n,i,r=this.get_size();if(t*=r.height,"nodes"===e){var o={x:null,y:null},a={x:null,y:null};for(var s in this.nodes){var c=this.nodes[s];null===o.x&&(o.x=c.x),null===o.y&&(o.y=c.y),null===a.x&&(a.x=c.x),null===a.y&&(a.y=c.y),o.x=Math.min(o.x,c.x),o.y=Math.min(o.y,c.y),a.x=Math.max(a.x,c.x),a.y=Math.max(a.y,c.y)}n=Math.min((r.width-2*t)/(a.x-o.x),(r.height-2*t)/(a.y-o.y)),i={x:-o.x*n+t+(r.width-2*t-(a.x-o.x)*n)/2,y:-o.y*n+t+(r.height-2*t-(a.y-o.y)*n)/2}}else{if("canvas"!=e)return console.error("Did not recognize mode");n=Math.min((r.width-2*t)/this.canvas.width,(r.height-2*t)/this.canvas.height),i={x:-this.canvas.x*n+t+(r.width-2*t-this.canvas.width*n)/2,y:-this.canvas.y*n+t+(r.height-2*t-this.canvas.height*n)/2}}return this.zoom_container.go_to(n,i),null}function ht(){return this.zoom_container.get_size()}function dt(t){var e=this.reactions[t],n=this.get_size(),i={x:.5*-e.label_x+n.width/2,y:.5*-e.label_y+n.height/2};this.zoom_container.go_to(.5,i)}function ft(t){var e=this.nodes[t],n=this.get_size(),i={x:.5*-e.label_x+n.width/2,y:.5*-e.label_y+n.height/2};this.zoom_container.go_to(.5,i)}function pt(t){var e=this.text_labels[t],n=this.get_size(),i={x:.5*-e.x+n.width/2,y:.5*-e.y+n.height/2};this.zoom_container.go_to(.5,i)}function gt(t){this.highlight(this.sel.selectAll("#r"+t).selectAll("text"))}function bt(t){this.highlight(this.sel.selectAll("#n"+t).selectAll("text"))}function _t(t){this.highlight(this.sel.selectAll("#l"+t).selectAll("text"))}function mt(t){this.sel.selectAll(".highlight").classed("highlight",!1),null!==t&&t.classed("highlight",!0)}function vt(){return document.fullscreenEnabled?"fullscreenchange":document.mozFullScreenEnabled?"mozfullscreenchange":document.webkitFullscreenEnabled?"webkitfullscreenchange":document.msFullscreenEnabled?"MSFullscreenChange":null}function yt(t){document.addEventListener(vt(),t),this.full_screen_listener=t}function wt(){document.removeEventListener(vt(),this.full_screen_listener)}function Ct(){var t=this.zoom_container.selection,e=t.node(),n=document;if(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)if(t.classed("full-screen-on",!1),n.exitFullscreen)n.exitFullscreen();else if(n.mozCancelFullScreen)n.mozCancelFullScreen();else if(n.webkitExitFullscreen)n.webkitExitFullscreen();else{if(!n.msExitFullscreen)throw Error("Cannot exit full screen");n.msExitFullscreen()}else if(t.classed("full-screen-on",!0),e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!e.msRequestFullscreen)throw Error("Full screen does not seem to be supported on this system.");e.msRequestFullscreen()}}function Bt(){Dt.download_json(this.map_for_export(),this.map_name)}function xt(){var t=[{map_name:this.map_name,map_id:this.map_id,map_description:this.map_description,homepage:"https://escher.github.io",schema:"https://escher.github.io/escher/jsonschema/1-0-0#"},{reactions:Dt.clone(this.reactions),nodes:Dt.clone(this.nodes),text_labels:Dt.clone(this.text_labels),canvas:this.canvas.size_and_location()}];for(var e in t[1].reactions){var n=t[1].reactions[e],i={},r=["name","bigg_id","reversibility","label_x","label_y","gene_reaction_rule","genes","metabolites"];r.forEach(function(t){i[t]=n[t]}),i.segments={};for(var o in n.segments){var a=n.segments[o],s={},r=["from_node_id","to_node_id","b1","b2"];r.forEach(function(t){s[t]=a[t]}),i.segments[o]=s}t[1].reactions[e]=i}for(var c in t[1].nodes){var r,l=t[1].nodes[c],u={};r="metabolite"===l.node_type?["node_type","x","y","bigg_id","name","label_x","label_y","node_is_primary"]:["node_type","x","y"],r.forEach(function(t){u[t]=l[t]}),t[1].nodes[c]=u}for(var A in t[1].text_labels){var h=t[1].text_labels[A],d={},r=["x","y","text"];r.forEach(function(t){d[t]=h[t]}),t[1].text_labels[A]=d}var f=t[1].canvas,p={},r=["x","y","width","height"];return r.forEach(function(t){p[t]=f[t]}),t[1].canvas=p,t}function Et(t,e,n,i){t.callback_manager.run(e);var r=t.zoom_container.window_scale,o=t.zoom_container.window_translate,a=t.canvas.size_and_location(),s={w:t.canvas.mouse_node.attr("width"),h:t.canvas.mouse_node.attr("height"),transform:t.canvas.mouse_node.attr("transform")};t.zoom_container._go_to_svg(1,{x:-a.x,y:-a.y},function(){t.svg.attr("width",a.width),t.svg.attr("height",a.height),t.canvas.mouse_node.attr("width","0px"),t.canvas.mouse_node.attr("height","0px"),t.canvas.mouse_node.attr("transform",null);var e=t.sel.selectAll(".multimarker-circle,.midmarker-circle,#canvas").style("visibility","hidden");"svg"==i?Dt.download_svg("saved_map",t.svg,!0):"png"==i&&Dt.download_png("saved_map",t.svg),t.zoom_container._go_to_svg(r,o,function(){t.svg.attr("width",null),t.svg.attr("height",null),t.canvas.mouse_node.attr("width",s.w),t.canvas.mouse_node.attr("height",s.h),t.canvas.mouse_node.attr("transform",s.transform),e.style("visibility",null),t.callback_manager.run(n)}.bind(t))}.bind(t))}function Mt(){Et(this,"before_svg_export","after_svg_export","svg")}function kt(){Et(this,"before_png_export","after_png_export","png")}function It(){if(this.callback_manager.run("before_convert_map"),!this.has_cobra_model())throw Error("No COBRA model loaded.");var t,e=this.cobra_model,n={},i=["name","gene_reaction_rule","genes"],r={},o=["name"];for(var a in this.reactions){var s=this.reactions[a];t=!1;for(var c in e.reactions){var l=e.reactions[c];l.bigg_id==s.bigg_id&&(i.forEach(function(t){s[t]=l[t]}),t=!0)}t||(n[a]=!0)}for(var u in this.nodes){var A=this.nodes[u];if("metabolite"==A.node_type){t=!1;for(var h in e.metabolites){var d=e.metabolites[h];d.bigg_id==A.bigg_id&&(o.forEach(function(t){A[t]=d[t]}),t=!0)}t||(r[u]=!0)}}var f=Object.keys(n).length,p=Object.keys(r).length;0===f&&0===p?this.set_status("Successfully converted attributes.",3e3):0===p?(this.set_status("Converted attributes, but count not find "+f+" reactions in the model.",3e3),this.settings.set_conditional("highlight_missing",!0)):0===f?(this.set_status("Converted attributes, but count not find "+p+" metabolites in the model.",3e3),this.settings.set_conditional("highlight_missing",!0)):(this.set_status("Converted attributes, but count not find "+f+" reactions and "+p+" metabolites in the model.",3e3),this.settings.set_conditional("highlight_missing",!0)),this.draw_everything(),this.callback_manager.run("after_convert_map")}var Dt=n(1),jt=n(259),Nt=n(91),Tt=n(260).default,Ot=n(52),zt=n(112),St=n(18),Qt=n(113),Lt=n(309),Ft=n(17),Yt=n(115),Ut=(n(57),n(2)),Wt=n(0).select,Gt=Dt.make_class();Gt.from_data=r,Gt.prototype={init:i,setup_containers:o,reset_containers:a,set_status:s,clear_map:c,select_all:S,select_none:Q,invert_selection:L,select_selectable:Y,select_metabolite_with_id:F,select_single_node:U,deselect_nodes:W,select_text_label:G,deselect_text_labels:R,new_reaction_from_scratch:X,extend_nodes:$,extend_reactions:tt,new_reaction_for_metabolite:nt,cycle_primary_node:it,toggle_selected_node_primary:rt,add_label_to_search_index:at,new_text_label:st,edit_text_label:ct,delete_selected:P,delete_selectable:Z,delete_node_data:H,delete_segment_data:V,delete_reaction_data:K,delete_text_label_data:J,get_selected_node_ids:N,get_selected_nodes:T,get_selected_text_label_ids:O,get_selected_text_labels:z,segments_and_reactions_for_nodes:ot,draw_everything:u,draw_all_reactions:A,draw_these_reactions:h,clear_deleted_reactions:d,draw_all_nodes:f,draw_these_nodes:p,clear_deleted_nodes:g,draw_all_text_labels:b,draw_these_text_labels:_,clear_deleted_text_labels:m,draw_all_beziers:v,draw_these_beziers:y,clear_deleted_beziers:w,toggle_beziers:x,hide_beziers:B,show_beziers:C,has_cobra_model:l,apply_reaction_data_to_map:E,apply_metabolite_data_to_map:M,apply_gene_data_to_map:k,get_data_statistics:I,calc_data_stats:j,zoom_extent_nodes:lt,zoom_extent_canvas:ut,_zoom_extent:At,get_size:ht,zoom_to_reaction:dt,zoom_to_node:ft,zoom_to_text_label:pt,highlight_reaction:gt,highlight_node:bt,highlight_text_label:_t,highlight:mt,listen_for_full_screen:yt,unlisten_for_full_screen:wt,full_screen:Ct,save:Bt,map_for_export:xt,save_svg:Mt,save_png:kt,convert_map:It},t.exports=Gt},function(t,e,n){"use strict";function i(t,e){this.map=t,this.undo_stack=e,this.empty_behavior=function(){},this.rotation_mode_enabled=!1,this.rotation_drag=x(),this.selectable_mousedown=null,this.text_label_mousedown=null,this.text_label_click=null,this.selectable_drag=this.empty_behavior,this.node_mouseover=null,this.node_mouseout=null,this.label_mousedown=null,this.label_mouseover=null,this.label_mouseout=null,this.label_touch=null,this.object_mouseover=null,this.object_touch=null,this.object_mouseout=null,this.bezier_drag=this.empty_behavior,this.bezier_mouseover=null,this.bezier_mouseout=null,this.reaction_label_drag=this.empty_behavior,this.node_label_drag=this.empty_behavior,this.dragging=!1,this.turn_everything_on()}function r(){this.toggle_selectable_click(!0),this.toggle_selectable_drag(!0),this.toggle_label_drag(!0),this.toggle_label_mouseover(!0),this.toggle_label_touch(!0),this.toggle_object_mouseover(!0),this.toggle_object_touch(!0)}function o(){this.toggle_selectable_click(!1),this.toggle_selectable_drag(!1),this.toggle_label_drag(!1),this.toggle_label_mouseover(!1),this.toggle_label_touch(!1),this.toggle_object_mouseover(!1),this.toggle_object_touch(!1)}function a(t){function e(){var t=this.map.sel.selectAll("#rotation-center").data([0]),e=t.enter().append("g").attr("id","rotation-center");e.append("path").attr("d","M-32 0 L32 0").attr("class","rotation-center-line"),e.append("path").attr("d","M0 -32 L0 32").attr("class","rotation-center-line");var n=e.merge(t);n.attr("transform","translate("+this.center.x+","+this.center.y+")").attr("visibility","visible").on("mouseover",function(){var t=parseFloat(n.selectAll("path").style("stroke-width"));n.selectAll("path").style("stroke-width",2*t+"px")}).on("mouseout",function(){n.selectAll("path").style("stroke-width",null)}).call(x().on("drag",function(){var t=C.d3_transform_catch(n.attr("transform")),e=[k.event.dx+t.translate[0],k.event.dy+t.translate[1]];n.attr("transform","translate("+e+")"),this.center={x:e[0],y:e[1]}}.bind(this)))}function n(t){this.map.sel.select("#rotation-center").attr("visibility","hidden")}this.rotation_mode_enabled=void 0===t?!this.rotation_mode_enabled:t;var i=this.map.sel.selectAll(".node-circle"),r=this.map.sel.selectAll("#canvas");if(this.rotation_mode_enabled){this.map.callback_manager.run("start_rotation");var o=this.map.get_selected_nodes();if(0===Object.keys(o).length)return void console.warn("No selected nodes");this.center=function(t){var e=[],n=[];for(var i in t){var r=t[i];void 0!==r.x&&e.push(r.x),void 0!==r.y&&n.push(r.y)}return{x:C.mean(e),y:C.mean(n)}}(o),e.call(this);var a=this.map,s=Object.keys(o),c=this.map.reactions,l=this.map.nodes,u=this.map.beziers,A=function(t){k.event.sourceEvent.stopPropagation()},h=function(t,e,n,i){var r=B.rotate_nodes(o,c,u,e,i);a.draw_these_nodes(r.node_ids),a.draw_these_reactions(r.reaction_ids)},d=function(t){},f=function(t,e,n){var i={};s.forEach(function(t){i[t]=l[t]});var r=B.rotate_nodes(i,c,u,-e,n);a.draw_these_nodes(r.node_ids),a.draw_these_reactions(r.reaction_ids)},p=function(t,e,n){var i={};s.forEach(function(t){i[t]=l[t]});var r=B.rotate_nodes(i,c,u,e,n);a.draw_these_nodes(r.node_ids),a.draw_these_reactions(r.reaction_ids)},g=function(){return this.center}.bind(this);this.rotation_drag=this._get_generic_angular_drag(A,h,d,f,p,g,this.map.sel),r.call(this.rotation_drag),this.selectable_drag=this.rotation_drag}else n.call(this),i.on("mousedown.center",null),r.on("mousedown.center",null),r.on("mousedown.drag",null),r.on("touchstart.drag",null),this.rotation_drag=null,this.selectable_drag=null}function s(t){if(void 0===t&&(t=null===this.selectable_mousedown),t){var e=this.map;this.selectable_mousedown=function(t){k.event.stopPropagation()},this.selectable_click=function(t){k.event.stopPropagation(),k.event.defaultPrevented||e.select_selectable(this,t,k.event.shiftKey)},this.node_mouseover=function(t){E(this).style("stroke-width",null);var e=parseFloat(E(this).style("stroke-width"));E(this.parentNode).classed("selected")||E(this).style("stroke-width",3*e+"px")},this.node_mouseout=function(t){E(this).style("stroke-width",null)}}else this.selectable_mousedown=null,this.selectable_click=null,this.node_mouseover=null,this.node_mouseout=null,this.map.sel.select("#nodes").selectAll(".node-circle").style("stroke-width",null)}function c(t){if(void 0===t&&(t=null==this.text_edit_mousedown),t){var e=this.map;this.selection;this.text_label_mousedown=function(){if(!k.event.defaultPrevented){var t=C.d3_transform_catch(E(this).attr("transform")).translate,n={x:t[0],y:t[1]};e.callback_manager.run("edit_text_label",null,E(this),n),k.event.stopPropagation()}},this.text_label_click=null,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!0),this.map.sel.on("mousedown.new_text_label",function(t){k.event.preventDefault();var e={x:M(t)[0],y:M(t)[1]};this.map.callback_manager.run("new_text_label",null,e)}.bind(this,this.map.sel.node()))}else this.text_label_mousedown=this.selectable_mousedown,this.text_label_click=this.selectable_click,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!1),this.map.sel.on("mousedown.new_text_label",null),this.map.callback_manager.run("hide_text_label_editor")}function l(t){void 0===t&&(t=this.selectable_drag===this.empty_behavior),t?(this.selectable_drag=this._get_selectable_drag(this.map,this.undo_stack),this.bezier_drag=this._get_bezier_drag(this.map,this.undo_stack)):(this.selectable_drag=this.empty_behavior,this.bezier_drag=this.empty_behavior)}function u(t){void 0===t&&(t=this.label_drag===this.empty_behavior),t?(this.reaction_label_drag=this._get_reaction_label_drag(this.map),this.node_label_drag=this._get_node_label_drag(this.map)):(this.reaction_label_drag=this.empty_behavior,this.node_label_drag=this.empty_behavior)}function A(t){void 0===t&&(t=null===this.label_mouseover),t?(this.label_mouseover=function(t,e){this.dragging||this.map.callback_manager.run("show_tooltip",null,t,e)}.bind(this),this.label_mouseout=function(){this.map.callback_manager.run("delay_hide_tooltip")}.bind(this)):this.label_mouseover=null}function h(t){var e=this;void 0===t&&(t=null===this.label_touch),this.label_touch=t?function(t,n){e.dragging||e.map.callback_manager.run("show_tooltip",null,t,n)}:null}function d(t){void 0===t&&(t=null===this.label_mouseover),t?(this.object_mouseover=function(t,e){this.dragging||this.map.callback_manager.run("show_tooltip",null,t,e)}.bind(this),this.object_mouseout=function(){this.map.callback_manager.run("delay_hide_tooltip")}.bind(this)):this.object_mouseover=null}function f(t){var e=this;void 0===t&&(t=null===this.label_touch),this.object_touch=t?function(t,n){e.dragging||e.map.callback_manager.run("show_tooltip",null,t,n)}:null}function p(t){void 0===t&&(t=this.bezier_drag===this.empty_behavior),t?(this.bezier_drag=this._get_bezier_drag(this.map),this.bezier_mouseover=function(t){E(this).style("stroke-width",String(3)+"px")},this.bezier_mouseout=function(t){E(this).style("stroke-width",String(1)+"px")}):(this.bezier_drag=this.empty_behavior,this.bezier_mouseover=null,this.bezier_mouseout=null)}function g(t){t.on("mousedown.drag",null),t.on("touchstart.drag",null)}function b(t,e){function n(e,n){var i=t.nodes[n],r=t.nodes[e],o=[];return i.connected_segments.forEach(function(i){var a;try{if(void 0===(a=t.reactions[i.reaction_id].segments[i.segment_id]))throw new Error("undefined segment")}catch(t){return void console.warn("Could not find connected segment "+i.segment_id)}if(a.from_node_id==n)a.from_node_id=e;else{if(a.to_node_id!=n)return void console.error("Segment does not connect to dragged node");a.to_node_id=e}r.connected_segments.push(i),o.push(C.clone(i))}),t.delete_node_data([n]),t.sel.selectAll(".node-to-combine").classed("node-to-combine",!1),t.draw_everything(),o}var i=x(),r=null,o=null,a=null,s=null,c=null,l=function(e,n){var i=t.text_labels[e];i.x=i.x+n.x,i.y=i.y+n.y},u=function(t){this.dragging=t}.bind(this);return i.on("start",function(e){if(u(!0),k.event.sourceEvent.stopPropagation(),o={x:0,y:0},-1===E(this).attr("class").indexOf("label")){var n=this.parentNode.__data__,i=n.bigg_id,a=this.parentNode;r=setTimeout(function(){a.parentNode.insertBefore(a,a.parentNode.firstChild)},200),t.sel.selectAll(".metabolite-circle").on("mouseover.combine",function(t){t.bigg_id===i&&t.node_id!==n.node_id&&E(this).style("stroke-width",String(12)+"px").classed("node-to-combine",!0)}).on("mouseout.combine",function(e){e.bigg_id===i&&t.sel.selectAll(".node-to-combine").style("stroke-width",String(2)+"px").classed("node-to-combine",!1)})}}),i.on("drag",function(e){E(this.parentNode).classed("selected")||t.select_selectable(this,e);var n={};-1===E(this).attr("class").indexOf("label")?(n.type="node",n.id=this.parentNode.__data__.node_id):(n.type="label",n.id=this.__data__.text_label_id);var i=t.get_selected_node_ids(),r=t.get_selected_text_label_ids();a=[],c=[],"node"==n.type&&-1===i.indexOf(n.id)?a.push(n.id):"label"===n.type&&-1===r.indexOf(n.id)?c.push(n.id):(a=i,c=r),s=[];var u={x:k.event.dx,y:k.event.dy};o=C.c_plus_c(o,u),a.forEach(function(e){var n=t.nodes[e],i=B.move_node_and_dependents(n,e,t.reactions,t.beziers,u);s=C.unique_concat([s,i.reaction_ids])}),c.forEach(function(t){l(t,u)}),t.draw_these_nodes(a),t.draw_these_reactions(s),t.draw_these_text_labels(c)}),i.on("end",function(){if(u(!1),null===a)return o=null,a=null,c=null,s=null,void(r=null);var i=[];if(t.sel.selectAll(".node-to-combine").each(function(t){i.push(t.node_id)}),1===i.length){var A=i[0],h=this.parentNode.__data__.node_id,d=C.clone(t.nodes[h]),f=n(A,h);e.push(function(){t.nodes[h]=d;var e=t.nodes[A],n=[];f.forEach(function(i){var r=t.reactions[i.reaction_id].segments[i.segment_id];r.from_node_id==A?r.from_node_id=h:r.to_node_id==A?r.to_node_id=h:console.error("Segment does not connect to fixed node"),e.connected_segments=e.connected_segments.filter(function(t){return!(t.reaction_id==i.reaction_id&&t.segment_id==i.segment_id)}),-1==n.indexOf(i.reaction_id)&&n.push(i.reaction_id)}),t.draw_these_nodes([h]),t.draw_these_reactions(n)},function(){n(A,h)})}else{var p=C.clone(o),g=C.clone(a),b=C.clone(c),_=C.clone(s);e.push(function(){g.forEach(function(e){var n=t.nodes[e];B.move_node_and_dependents(n,e,t.reactions,t.beziers,C.c_times_scalar(p,-1))}),b.forEach(function(t){l(t,C.c_times_scalar(p,-1))}),t.draw_these_nodes(g),t.draw_these_reactions(_),t.draw_these_text_labels(b)},function(){g.forEach(function(e){var n=t.nodes[e];B.move_node_and_dependents(n,e,t.reactions,t.beziers,p)}),b.forEach(function(t){l(t,p)}),t.draw_these_nodes(g),t.draw_these_reactions(_),t.draw_these_text_labels(b)})}t.sel.selectAll(".metabolite-circle").on("mouseover.combine",null).on("mouseout.combine",null),clearTimeout(r),o=null,a=null,c=null,s=null,r=null}),i}function _(t){var e=function(e,n,i,r,o){var a=t.reactions[e].segments[n];a[i]=C.c_plus_c(a[i],o),t.beziers[r].x=a[i].x,t.beziers[r].y=a[i].y},n=function(t){t.dragging=!0},i=function(n,i,r){e(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,i),t.draw_these_reactions([n.reaction_id],!1),t.draw_these_beziers([n.bezier_id])},r=function(t){t.dragging=!1},o=function(n,i){e(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,C.c_times_scalar(i,-1)),t.draw_these_reactions([n.reaction_id],!1),t.draw_these_beziers([n.bezier_id])},a=function(n,i){e(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,i),t.draw_these_reactions([n.reaction_id],!1),t.draw_these_beziers([n.bezier_id])};return this._get_generic_drag(n,i,r,o,a,this.map.sel)}function m(t){var e=function(e,n){var i=t.reactions[e];i.label_x=i.label_x+n.x,i.label_y=i.label_y+n.y},n=function(e){t.callback_manager.run("hide_tooltip")},i=function(n,i,r){e(n.reaction_id,i),t.draw_these_reactions([n.reaction_id])},r=function(t){},o=function(n,i){e(n.reaction_id,C.c_times_scalar(i,-1)),t.draw_these_reactions([n.reaction_id])},a=function(n,i){e(n.reaction_id,i),t.draw_these_reactions([n.reaction_id])};return this._get_generic_drag(n,i,r,o,a,this.map.sel)}function v(t){var e=function(e,n){var i=t.nodes[e];i.label_x=i.label_x+n.x,i.label_y=i.label_y+n.y},n=function(e){t.callback_manager.run("hide_tooltip")},i=function(n,i,r){e(n.node_id,i),t.draw_these_nodes([n.node_id])},r=function(t){},o=function(n,i){e(n.node_id,C.c_times_scalar(i,-1)),t.draw_these_nodes([n.node_id])},a=function(n,i){e(n.node_id,i),t.draw_these_nodes([n.node_id])};return this._get_generic_drag(n,i,r,o,a,this.map.sel)}function y(t,e,n,i,r,o){var a,s=x(),c=this.undo_stack,l=o.node();return s.on("start",function(e){this.dragging=!0,k.event.sourceEvent.stopPropagation(),a={x:0,y:0},t(e)}.bind(this)),s.on("drag",function(t){var n={x:k.event.dx,y:k.event.dy},i={x:M(l)[0],y:M(l)[1]};a=C.c_plus_c(a,n),e(t,n,a,i)}.bind(this)),s.on("end",function(t){this.dragging=!1;var e=C.clone(t),o=C.clone(a),s={x:M(l)[0],y:M(l)[1]};c.push(function(){i(e,o,s)},function(){r(e,o,s)}),n(t)}.bind(this)),s}function w(t,e,n,i,r,o,a){var s,c=x(),l=this.undo_stack,u=a.node();return c.on("start",function(e){this.dragging=!0,k.event.sourceEvent.stopPropagation(),s=0,t(e)}.bind(this)),c.on("drag",function(t){var n={x:k.event.dx,y:k.event.dy},i={x:M(u)[0],y:M(u)[1]},r=o(),a=C.angle_for_event(n,i,r);s+=a,e(t,a,s,r)}.bind(this)),c.on("end",function(t){this.dragging=!1;var e=C.clone(t),a=s,c=C.clone(o());l.push(function(){i(e,a,c)},function(){r(e,a,c)}),n(t)}.bind(this)),c}var C=n(1),B=n(52),x=n(15).drag,E=n(0).select,M=n(0).mouse,k=n(0),I=C.make_class();I.prototype={init:i,toggle_rotation_mode:a,turn_everything_on:r,turn_everything_off:o,toggle_selectable_click:s,toggle_text_label_edit:c,toggle_selectable_drag:l,toggle_label_drag:u,toggle_label_mouseover:A,toggle_label_touch:h,toggle_object_mouseover:d,toggle_object_touch:f,toggle_bezier_drag:p,turn_off_drag:g,_get_selectable_drag:b,_get_bezier_drag:_,_get_reaction_label_drag:m,_get_node_label_drag:v,_get_generic_drag:y,_get_generic_angular_drag:w},t.exports=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(261);n.d(e,"scaleBand",function(){return i.a}),n.d(e,"scalePoint",function(){return i.b});var r=n(278);n.d(e,"scaleIdentity",function(){return r.a});var o=n(23);n.d(e,"scaleLinear",function(){return o.a});var a=n(280);n.d(e,"scaleLog",function(){return a.a});var s=n(105);n.d(e,"scaleOrdinal",function(){return s.a}),n.d(e,"scaleImplicit",function(){return s.b});var c=n(281);n.d(e,"scalePow",function(){return c.a}),n.d(e,"scaleSqrt",function(){return c.b});var l=n(282);n.d(e,"scaleQuantile",function(){return l.a});var u=n(283);n.d(e,"scaleQuantize",function(){return u.a});var A=n(284);n.d(e,"scaleThreshold",function(){return A.a});var h=n(108);n.d(e,"scaleTime",function(){return h.b});var d=n(300);n.d(e,"scaleUtc",function(){return d.a});var f=n(301);n.d(e,"schemeCategory10",function(){return f.a});var p=n(302);n.d(e,"schemeCategory20b",function(){return p.a});var g=n(303);n.d(e,"schemeCategory20c",function(){return g.a});var b=n(304);n.d(e,"schemeCategory20",function(){return b.a});var _=n(305);n.d(e,"interpolateCubehelixDefault",function(){return _.a});var m=n(306);n.d(e,"interpolateRainbow",function(){return m.b}),n.d(e,"interpolateWarm",function(){return m.c}),n.d(e,"interpolateCool",function(){return m.a});var v=n(307);n.d(e,"interpolateViridis",function(){return v.a}),n.d(e,"interpolateMagma",function(){return v.c}),n.d(e,"interpolateInferno",function(){return v.b}),n.d(e,"interpolatePlasma",function(){return v.d});var y=n(308);n.d(e,"scaleSequential",function(){return y.a})},function(t,e,n){"use strict";var i=n(19),r=n(94),o=Object(r.a)(i.a),a=o.right;o.left;e.a=a},function(t,e,n){"use strict";function i(t){return function(e,n){return Object(r.a)(t(e),n)}}var r=n(19);e.a=function(t){return 1===t.length&&(t=i(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}},function(t,e,n){"use strict";function i(t,e){return[t,e]}e.a=i},function(t,e,n){"use strict";var i=n(97);e.a=function(t,e){var n=Object(i.a)(t,e);return n?Math.sqrt(n):n}},function(t,e,n){"use strict";var i=n(22);e.a=function(t,e){var n,r,o=t.length,a=0,s=-1,c=0,l=0;if(null==e)for(;++s<o;)isNaN(n=Object(i.a)(t[s]))||(r=n-c,c+=r/++a,l+=r*(n-c));else for(;++s<o;)isNaN(n=Object(i.a)(e(t[s],s,t)))||(r=n-c,c+=r/++a,l+=r*(n-c));if(a>1)return l/(a-1)}},function(t,e,n){"use strict";e.a=function(t,e){var n,i,r,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=r=n;++a<o;)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=Array.prototype,r=i.slice,o=i.map},function(t,e,n){"use strict";e.a=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}},function(t,e,n){"use strict";function i(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),c=i/Math.pow(10,r);return r>=0?(c>=o?10:c>=a?5:c>=s?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(c>=o?10:c>=a?5:c>=s?2:1)}function r(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),c=i/r;return c>=o?r*=10:c>=a?r*=5:c>=s&&(r*=2),e<t?-r:r}e.b=i,e.c=r;var o=Math.sqrt(50),a=Math.sqrt(10),s=Math.sqrt(2);e.a=function(t,e,n){var r,o,a,s,c=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(s=i(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(o=Math.ceil(e-t+1));++c<o;)a[c]=(t+c)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(o=Math.ceil(t-e+1));++c<o;)a[c]=(t-c)/s;return r&&a.reverse(),a}},function(t,e,n){"use strict";e.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,e,n){"use strict";e.a=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i}},function(t,e,n){"use strict";function i(t){return t.length}var r=n(103);e.a=function(t){if(!(a=t.length))return[];for(var e=-1,n=Object(r.a)(t,i),o=new Array(n);++e<n;)for(var a,s=-1,c=o[e]=new Array(a);++s<a;)c[s]=t[s][e];return o}},function(t,e,n){"use strict";function i(t){function e(e){var i=e+"",r=n.get(i);if(!r){if(c!==a)return c;n.set(i,r=s.push(e))}return t[(r-1)%t.length]}var n=Object(r.a)(),s=[],c=a;return t=null==t?[]:o.b.call(t),e.domain=function(t){if(!arguments.length)return s.slice();s=[],n=Object(r.a)();for(var i,o,a=-1,c=t.length;++a<c;)n.has(o=(i=t[a])+"")||n.set(o,s.push(i));return e},e.range=function(n){return arguments.length?(t=o.b.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(c=t,e):c},e.copy=function(){return i().domain(s).range(t).unknown(c)},e}n.d(e,"b",function(){return a}),e.a=i;var r=n(68),o=n(14),a={name:"implicit"}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}},function(t,e,n){"use strict";function i(t){return new Date(t)}function r(t){return t instanceof Date?+t:+new Date(+t)}function o(t,e,n,c,l,v,y,w,C){function B(i){return(y(i)<i?I:v(i)<i?D:l(i)<i?j:c(i)<i?N:e(i)<i?n(i)<i?T:O:t(i)<i?z:S)(i)}function x(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-n)/e,s=Object(a.c)(function(t){return t[2]}).right(Q,o);s===Q.length?(r=Object(a.g)(n/m,i/m,e),e=t):s?(s=Q[o/Q[s-1][2]<Q[s][2]/o?s-1:s],r=s[1],e=s[0]):(r=Math.max(Object(a.g)(n,i,e),1),e=w)}return null==r?e:e.every(r)}var E=Object(A.b)(A.c,s.c),M=E.invert,k=E.domain,I=C(".%L"),D=C(":%S"),j=C("%I:%M"),N=C("%I %p"),T=C("%a %d"),O=C("%b %d"),z=C("%B"),S=C("%Y"),Q=[[y,1,d],[y,5,5*d],[y,15,15*d],[y,30,30*d],[v,1,f],[v,5,5*f],[v,15,15*f],[v,30,30*f],[l,1,p],[l,3,3*p],[l,6,6*p],[l,12,12*p],[c,1,g],[c,2,2*g],[n,1,b],[e,1,_],[e,3,3*_],[t,1,m]];return E.invert=function(t){return new Date(M(t))},E.domain=function(t){return arguments.length?k(u.a.call(t,r)):k().map(i)},E.ticks=function(t,e){var n,i=k(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=x(t,r,o,e),n=n?n.range(r,o+1):[],a?n.reverse():n},E.tickFormat=function(t,e){return null==e?B:C(e)},E.nice=function(t,e){var n=k();return(t=x(t,n[0],n[n.length-1],e))?k(Object(h.a)(n,t)):E},E.copy=function(){return Object(A.a)(E,o(t,e,n,c,l,v,y,w,C))},E}e.a=o;var a=n(11),s=n(7),c=n(55),l=n(109),u=n(14),A=n(31),h=n(107),d=1e3,f=60*d,p=60*f,g=24*p,b=7*g,_=30*g,m=365*g;e.b=function(){return o(c.k,c.f,c.j,c.a,c.b,c.d,c.g,c.c,l.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(t,e,n){"use strict";var i=n(56);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b});n(110),n(111),n(299)},function(t,e,n){"use strict";function i(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function a(t){function e(t,e){return function(n){var i,r,o,a=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null!=(r=ft[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function n(t,e){return function(n){var i,s,c=o(1900),l=a(c,t,n+="",0);if(l!=n.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(i=r(o(c.y)),s=i.getUTCDay(),i=s>4||0===s?dt.p.ceil(i):Object(dt.p)(i),i=dt.l.offset(i,7*(c.V-1)),c.y=i.getUTCFullYear(),c.m=i.getUTCMonth(),c.d=i.getUTCDate()+(c.w+6)%7):(i=e(o(c.y)),s=i.getDay(),i=s>4||0===s?dt.e.ceil(i):Object(dt.e)(i),i=dt.a.offset(i,7*(c.V-1)),c.y=i.getFullYear(),c.m=i.getMonth(),c.d=i.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),s="Z"in c?r(o(c.y)).getUTCDay():e(o(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(s+5)%7:c.w+7*c.U-(s+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):e(c)}}function a(t,e,n,i){for(var r,o,a=0,s=e.length,c=n.length;a<s;){if(i>=c)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=qt[r in ft?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function s(t,e,n){var i=Ft.exec(e.slice(n));return i?(t.p=Yt[i[0].toLowerCase()],n+i[0].length):-1}function c(t,e,n){var i=Gt.exec(e.slice(n));return i?(t.w=Rt[i[0].toLowerCase()],n+i[0].length):-1}function pt(t,e,n){var i=Ut.exec(e.slice(n));return i?(t.w=Wt[i[0].toLowerCase()],n+i[0].length):-1}function gt(t,e,n){var i=Ht.exec(e.slice(n));return i?(t.m=Vt[i[0].toLowerCase()],n+i[0].length):-1}function bt(t,e,n){var i=Pt.exec(e.slice(n));return i?(t.m=Zt[i[0].toLowerCase()],n+i[0].length):-1}function _t(t,e,n){return a(t,jt,e,n)}function mt(t,e,n){return a(t,Nt,e,n)}function vt(t,e,n){return a(t,Tt,e,n)}function yt(t){return St[t.getDay()]}function wt(t){return zt[t.getDay()]}function Ct(t){return Lt[t.getMonth()]}function Bt(t){return Qt[t.getMonth()]}function xt(t){return Ot[+(t.getHours()>=12)]}function Et(t){return St[t.getUTCDay()]}function Mt(t){return zt[t.getUTCDay()]}function kt(t){return Lt[t.getUTCMonth()]}function It(t){return Qt[t.getUTCMonth()]}function Dt(t){return Ot[+(t.getUTCHours()>=12)]}var jt=t.dateTime,Nt=t.date,Tt=t.time,Ot=t.periods,zt=t.days,St=t.shortDays,Qt=t.months,Lt=t.shortMonths,Ft=l(Ot),Yt=u(Ot),Ut=l(zt),Wt=u(zt),Gt=l(St),Rt=u(St),Pt=l(Qt),Zt=u(Qt),Ht=l(Lt),Vt=u(Lt),Kt={a:yt,A:wt,b:Ct,B:Bt,c:null,d:D,e:D,f:z,H:j,I:N,j:T,L:O,m:S,M:Q,p:xt,Q:At,s:ht,S:L,u:F,U:Y,V:U,w:W,W:G,x:null,X:null,y:R,Y:P,Z:Z,"%":ut},Jt={a:Et,A:Mt,b:kt,B:It,c:null,d:H,e:H,f:X,H:V,I:K,j:J,L:q,m:$,M:tt,p:Dt,Q:At,s:ht,S:et,u:nt,U:it,V:rt,w:ot,W:at,x:null,X:null,y:st,Y:ct,Z:lt,"%":ut},qt={a:c,A:pt,b:gt,B:bt,c:_t,d:v,e:v,f:E,H:w,I:w,j:y,L:x,m:m,M:C,p:s,Q:k,s:I,S:B,u:h,U:d,V:f,w:A,W:p,x:mt,X:vt,y:b,Y:g,Z:_,"%":M};return Kt.x=e(Nt,Kt),Kt.X=e(Tt,Kt),Kt.c=e(jt,Kt),Jt.x=e(Nt,Jt),Jt.X=e(Tt,Jt),Jt.c=e(jt,Jt),{format:function(t){var n=e(t+="",Kt);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",i);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Jt);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,r);return e.toString=function(){return t},e}}}function s(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function c(t){return t.replace(bt,"\\$&")}function l(t){return new RegExp("^(?:"+t.map(c).join("|")+")","i")}function u(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function A(t,e,n){var i=pt.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function h(t,e,n){var i=pt.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function d(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function f(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function p(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function g(t,e,n){var i=pt.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function b(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function _(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function m(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function v(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function y(t,e,n){var i=pt.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function w(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function C(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function B(t,e,n){var i=pt.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function x(t,e,n){var i=pt.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function E(t,e,n){var i=pt.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function M(t,e,n){var i=gt.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function k(t,e,n){var i=pt.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function I(t,e,n){var i=pt.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function D(t,e){return s(t.getDate(),e,2)}function j(t,e){return s(t.getHours(),e,2)}function N(t,e){return s(t.getHours()%12||12,e,2)}function T(t,e){return s(1+dt.a.count(Object(dt.k)(t),t),e,3)}function O(t,e){return s(t.getMilliseconds(),e,3)}function z(t,e){return O(t,e)+"000"}function S(t,e){return s(t.getMonth()+1,e,2)}function Q(t,e){return s(t.getMinutes(),e,2)}function L(t,e){return s(t.getSeconds(),e,2)}function F(t){var e=t.getDay();return 0===e?7:e}function Y(t,e){return s(dt.h.count(Object(dt.k)(t),t),e,2)}function U(t,e){var n=t.getDay();return t=n>=4||0===n?Object(dt.i)(t):dt.i.ceil(t),s(dt.i.count(Object(dt.k)(t),t)+(4===Object(dt.k)(t).getDay()),e,2)}function W(t){return t.getDay()}function G(t,e){return s(dt.e.count(Object(dt.k)(t),t),e,2)}function R(t,e){return s(t.getFullYear()%100,e,2)}function P(t,e){return s(t.getFullYear()%1e4,e,4)}function Z(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+s(e/60|0,"0",2)+s(e%60,"0",2)}function H(t,e){return s(t.getUTCDate(),e,2)}function V(t,e){return s(t.getUTCHours(),e,2)}function K(t,e){return s(t.getUTCHours()%12||12,e,2)}function J(t,e){return s(1+dt.l.count(Object(dt.v)(t),t),e,3)}function q(t,e){return s(t.getUTCMilliseconds(),e,3)}function X(t,e){return q(t,e)+"000"}function $(t,e){return s(t.getUTCMonth()+1,e,2)}function tt(t,e){return s(t.getUTCMinutes(),e,2)}function et(t,e){return s(t.getUTCSeconds(),e,2)}function nt(t){var e=t.getUTCDay();return 0===e?7:e}function it(t,e){return s(dt.s.count(Object(dt.v)(t),t),e,2)}function rt(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Object(dt.t)(t):dt.t.ceil(t),s(dt.t.count(Object(dt.v)(t),t)+(4===Object(dt.v)(t).getUTCDay()),e,2)}function ot(t){return t.getUTCDay()}function at(t,e){return s(dt.p.count(Object(dt.v)(t),t),e,2)}function st(t,e){return s(t.getUTCFullYear()%100,e,2)}function ct(t,e){return s(t.getUTCFullYear()%1e4,e,4)}function lt(){return"+0000"}function ut(){return"%"}function At(t){return+t}function ht(t){return Math.floor(+t/1e3)}e.a=a;var dt=n(55),ft={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,gt=/^%/,bt=/[\\^$*+?|[\]().{}]/g},function(t,e,n){"use strict";function i(t){return t.toISOString()}n.d(e,"a",function(){return o});var r=n(56),o="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Object(r.b)(o)},function(t,e,n){"use strict";function i(){this.stack=Array(40),this.current=-1,this.oldest=-1,this.newest=-1,this.end_of_stack=!0,this.top_of_stack=!0}function r(t,e){return t+1>e-1?0:t+1}function o(t,e){return t-1<0?e-1:t-1}function a(t,e){this.current=r(this.current,this.stack.length),this.end_of_stack?this.oldest=this.current:this.oldest==this.current&&(this.oldest=r(this.oldest,this.stack.length)),this.stack[this.current]={undo:t,redo:e},this.newest=this.current,this.top_of_stack=!0,this.end_of_stack=!1}function s(){if(this.end_of_stack)return console.warn("End of stack.");this.stack[this.current].undo(),this.current==this.oldest?this.end_of_stack=!0:this.current=o(this.current,this.stack.length),this.top_of_stack=!1}function c(){if(this.top_of_stack)return console.warn("Top of stack.");this.end_of_stack||(this.current=r(this.current,this.stack.length)),this.stack[this.current].redo(),this.current==this.newest&&(this.top_of_stack=!0),this.end_of_stack=!1}var l=n(1),u=l.make_class();u.prototype={init:i,push:a,undo:s,redo:c},t.exports=u},function(t,e,n){"use strict";function i(t,e,n,i){this.assigned_keys=t||{},this.input_list=e||[],this.mousetrap=n?new A(n):new A,this.ctrl_equals_cmd=!!h.isBoolean(i)&&i,this.mousetrap.stopCallback=function(){return!1},this.enabled=!0,this.update()}function r(t,e){if(!e)return t;var n=h.isArray(t)?t:[t],i=n.reduce(function(t,e){var n=e.replace("ctrl+","meta+");return n!==e&&t.push(n),t},n.slice());return i.length===n.length?t:i}function o(){if(this.mousetrap.reset(),this.enabled)for(var t in this.assigned_keys){var e=this.assigned_keys[t];if(e.key){var n=r(e.key,this.ctrl_equals_cmd);e.input_list=this.input_list,this.mousetrap.bind(n,function(t){var e=!1;if(this.ignore_with_input)for(var n=0,i=this.input_list.length;n<i;n++){var r=this.input_list[n],o=h.isFunction(r)?r():r;if(null!==o&&o.is_visible()){e=!0;break}}e||(this.fn?this.fn.call(this.target):console.warn("No function for key: "+this.key),t.preventDefault())}.bind(e),"keydown")}}}function a(t){h.isUndefined(t)&&(t=!this.enabled),this.enabled=t,this.update()}function s(t,e){return this.add_key_listener("enter",t,e)}function c(t,e){return this.add_key_listener("escape",t,e)}function l(t,e,n){h.isUndefined(n)&&(n=!1);var i=this.mousetrap.unbind.bind(this.mousetrap,t);return this.mousetrap.bind(r(t,this.ctrl_equals_cmd),function(t){t.preventDefault(),e(),n&&i()}),i}var u=n(1),A=n(114),h=n(2),d=u.make_class();d.prototype={init:i,update:o,toggle:a,add_escape_listener:c,add_enter_listener:s,add_key_listener:l},t.exports=d},function(t,e,n){var i;!function(r,o,a){function s(t,e,n){if(t.addEventListener)return void t.addEventListener(e,n,!1);t.attachEvent("on"+e,n)}function c(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return y[t.which]?y[t.which]:w[t.which]?w[t.which]:String.fromCharCode(t.which).toLowerCase()}function l(t,e){return t.sort().join(",")===e.sort().join(",")}function u(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function A(t){if(t.preventDefault)return void t.preventDefault();t.returnValue=!1}function h(t){if(t.stopPropagation)return void t.stopPropagation();t.cancelBubble=!0}function d(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function f(){if(!v){v={};for(var t in y)t>95&&t<112||y.hasOwnProperty(t)&&(v[y[t]]=t)}return v}function p(t,e,n){return n||(n=f()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function b(t,e){var n,i,r,o=[];for(n=g(t),r=0;r<n.length;++r)i=n[r],B[i]&&(i=B[i]),e&&"keypress"!=e&&C[i]&&(i=C[i],o.push("shift")),d(i)&&o.push(i);return e=p(i,o,e),{key:i,modifiers:o,action:e}}function _(t,e){return null!==t&&t!==o&&(t===e||_(t.parentNode,e))}function m(t){function e(t){t=t||{};var e,n=!1;for(e in v)t[e]?n=!0:v[e]=0;n||(C=!1)}function n(t,e,n,i,r,o){var a,s,c=[],u=n.type;if(!g._callbacks[t])return[];for("keyup"==u&&d(t)&&(e=[t]),a=0;a<g._callbacks[t].length;++a)if(s=g._callbacks[t][a],(i||!s.seq||v[s.seq]==s.level)&&u==s.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||l(e,s.modifiers))){var A=!i&&s.combo==r,h=i&&s.seq==i&&s.level==o;(A||h)&&g._callbacks[t].splice(a,1),c.push(s)}return c}function i(t,e,n,i){g.stopCallback(e,e.target||e.srcElement,n,i)||!1===t(e,n)&&(A(e),h(e))}function r(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=c(t);if(e)return"keyup"==t.type&&y===e?void(y=!1):void g.handleKey(e,u(t),t)}function a(){clearTimeout(_),_=setTimeout(e,1e3)}function f(t,n,r,o){function s(n){i(r,n,t),"keyup"!==o&&(y=c(n)),setTimeout(e,10)}v[t]=0;for(var l=0;l<n.length;++l){var u=l+1===n.length,A=u?s:function(e){return function(){C=e,++v[t],a()}}(o||b(n[l+1]).action);p(n[l],A,o,t,l)}}function p(t,e,i,r,o){g._directMap[t+":"+i]=e,t=t.replace(/\s+/g," ");var a,s=t.split(" ");if(s.length>1)return void f(t,s,e,i);a=b(t,i),g._callbacks[a.key]=g._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},r,t,o),g._callbacks[a.key][r?"unshift":"push"]({callback:e,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:t})}var g=this;if(t=t||o,!(g instanceof m))return new m(t);g.target=t,g._callbacks={},g._directMap={};var _,v={},y=!1,w=!1,C=!1;g._handleKey=function(t,r,o){var a,s=n(t,r,o),c={},l=0,u=!1;for(a=0;a<s.length;++a)s[a].seq&&(l=Math.max(l,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=l)continue;u=!0,c[s[a].seq]=1,i(s[a].callback,o,s[a].combo,s[a].seq)}else u||i(s[a].callback,o,s[a].combo);var A="keypress"==o.type&&w;o.type!=C||d(t)||A||e(c),w=u&&"keydown"==o.type},g._bindMultiple=function(t,e,n){for(var i=0;i<t.length;++i)p(t[i],e,n)},s(t,"keypress",r),s(t,"keydown",r),s(t,"keyup",r)}if(r){for(var v,y={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},C={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},B={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},x=1;x<20;++x)y[111+x]="f"+x;for(x=0;x<=9;++x)y[x+96]=x.toString();m.prototype.bind=function(t,e,n){var i=this;return t=t instanceof Array?t:[t],i._bindMultiple.call(i,t,e,n),i},m.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){var n=this;return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!_(e,n.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);v=null},m.init=function(){var t=m(o);for(var e in t)"_"!==e.charAt(0)&&(m[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},m.init(),r.Mousetrap=m,void 0!==t&&t.exports&&(t.exports=m),void 0!==(i=function(){return m}.call(e,n,e,t))&&(t.exports=i)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){"use strict";function i(){this.index={}}function r(t,e,n,i){if(!n&&t in this.index)throw new Error("id is already in the index");if(i&&!("name"in e&&"data"in e))throw new Error("malformed record");this.index[t]=e}function o(t){return t in this.index&&(delete this.index[t],!0)}function a(t){var e=RegExp(t,"i"),n=[];for(var i in this.index){var r=this.index[i];e.exec(r.name)&&n.push(r.data)}return n}var s=n(1),c=s.make_class();c.prototype={init:i,insert:r,remove:o,find:a},t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(313);n.d(e,"brush",function(){return i.d}),n.d(e,"brushX",function(){return i.b}),n.d(e,"brushY",function(){return i.c}),n.d(e,"brushSelection",function(){return i.a})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){this.set_option=t,this.get_option=e,this.status_bus=new f.default.Bus,this.busses={},this.streams={};for(var i=0,r=n.length;i<r;i++){var o=n[i],s=a(o,e(o),t,this.status_bus);this.busses[o]=s.bus,this.streams[o]=s.stream}}function o(t,e){var n={savedValue:null,currentValue:null,lastStatus:null};return f.default.combineAsArray(t,e.toProperty(null)).scan(n,function(t,e){var n=t.savedValue,i=t.currentValue,r=t.lastStatus,o=e[0],a=e[1],s=r!==a;return s&&"hold"===a?{savedValue:i,currentValue:i,lastStatus:a}:s||"hold"!==a?s&&"abandon"===a?{savedValue:null,currentValue:n,lastStatus:a}:s&&"accept"===a?{savedValue:null,currentValue:i,lastStatus:a}:{savedValue:null,currentValue:o,lastStatus:a}:{savedValue:n,currentValue:o,lastStatus:a}}).skip(1).map(function(t){return t.currentValue}).skipDuplicates().toEventStream()}function a(t,e,n,i){var r=new f.default.Bus,a=o(r,i);return a.onValue(function(e){return n(t,e)}),r.push(e),{bus:r,stream:a}}function s(t,e){t in this.busses?this.busses[t].push(e):console.error("Invalid setting name "+t)}function c(){this.status_bus.push("hold")}function l(){this.status_bus.push("abandon")}function u(){this.status_bus.push("accept")}var A=n(1),h=i(A),d=n(57),f=i(d),p=h.default.make_class();p.prototype={init:r,set_conditional:s,hold_changes:c,abandon_changes:l,accept_changes:u,createConditionalSetting:a,convertToConditionalStream:o},t.exports=p},function(t,e){t.exports="data:application/vnd.ms-fontobject;base64,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"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.libs=e.ZoomContainer=e.escherStatic=e.data_styles=e.Settings=e.SearchIndex=e.utils=e.CobraModel=e.UndoStack=e.DataMenu=e.KeyManager=e.Behavior=e.Map=e.default=e.Builder=e.version=void 0;var r=n(120);Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return i(r).default}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i(r).default}});var o=n(90);Object.defineProperty(e,"Map",{enumerable:!0,get:function(){return i(o).default}});var a=n(91);Object.defineProperty(e,"Behavior",{enumerable:!0,get:function(){return i(a).default}});var s=n(113);Object.defineProperty(e,"KeyManager",{enumerable:!0,get:function(){return i(s).default}});var c=n(332);Object.defineProperty(e,"DataMenu",{enumerable:!0,get:function(){return i(c).default}});var l=n(112);Object.defineProperty(e,"UndoStack",{enumerable:!0,get:function(){return i(l).default}});var u=n(45);Object.defineProperty(e,"CobraModel",{enumerable:!0,get:function(){return i(u).default}});var A=n(1);Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return i(A).default}});var h=n(115);Object.defineProperty(e,"SearchIndex",{enumerable:!0,get:function(){return i(h).default}});var d=n(117);Object.defineProperty(e,"Settings",{enumerable:!0,get:function(){return i(d).default}});var f=n(17);Object.defineProperty(e,"data_styles",{enumerable:!0,get:function(){return i(f).default}});var p=n(333);Object.defineProperty(e,"escherStatic",{enumerable:!0,get:function(){return i(p).default}});var g=n(76);Object.defineProperty(e,"ZoomContainer",{enumerable:!0,get:function(){return i(g).default}});var b=n(2),_=i(b),m=n(3),v=i(m),y=n(57),w=i(y),C=n(114),B=i(C),x=n(67),E=i(x),M=n(0),k=n(16);e.version="1.7.0-beta.4",e.libs={_:_.default,underscore:_.default,preact:v.default,baconjs:w.default,mousetrap:B.default,vkbeautify:E.default,d3_selection:M.selection,d3_select:M.select,d3_json:k.json}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(3),s=i(a),c=n(58),l=i(c),u=n(121),A=i(u),h=n(173),d=i(h),f=n(176),p=i(f),g=n(204),b=i(g),_=n(1),m=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(_),v=n(207),y=i(v),w=n(76),C=i(w),B=n(90),x=i(B),E=n(45),M=i(E),k=n(312),I=i(k),D=n(18),j=i(D),N=n(117),T=i(N),O=n(317),z=i(O),S=n(318),Q=i(S),L=n(17),F=i(L),Y=n(319),U=i(Y),W=n(320),G=i(W),R=n(2),P=i(R),Z=n(0),H=n(16);n(323),n(329);var V=n(331),K=i(V),J=function(){function t(e,n,i,a,s){var c=this;if(r(this,t),a?a instanceof Z.selection||(a="node"in a?(0,Z.select)(a.node()):(0,Z.select)(a)):a=(0,Z.select)("body").append("div"),s||(s={}),i||(i=K.default),this.map_data=e,this.model_data=n,this.embedded_css=i,this.selection=a,this.menu_div=null,this.button_div=null,this.settings_div=null,this.settingsMenuRef=null,this.search_bar_div=null,this.searchBarRef=null,this.semanticOptions=null,this.selection.datum(this),this.selection.__builder__=this,this.has_custom_reaction_styles=Boolean(s.reaction_styles),this.options=m.set_options(s,{menu:"all",scroll_behavior:"pan",use_3d_transform:!m.check_browser("safari"),enable_editing:!0,enable_keys:!0,enable_search:!0,fill_screen:!1,zoom_to_element:null,full_screen_button:!1,ignore_bootstrap:!1,disabled_buttons:null,semantic_zoom:null,starting_reaction:null,never_ask_before_quit:!1,unique_map_id:null,primary_metabolite_radius:20,secondary_metabolite_radius:10,marker_radius:5,gene_font_size:18,hide_secondary_metabolites:!1,show_gene_reaction_rules:!1,hide_all_labels:!1,canvas_size_and_loc:null,reaction_data:null,reaction_styles:["color","size","text"],reaction_compare_style:"log2_fold",reaction_scale:[{type:"min",color:"#c8c8c8",size:12},{type:"median",color:"#9696ff",size:20},{type:"max",color:"#ff0000",size:25}],reaction_no_data_color:"#dcdcdc",reaction_no_data_size:8,gene_data:null,and_method_in_gene_reaction_rule:"mean",metabolite_data:null,metabolite_styles:["color","size","text"],metabolite_compare_style:"log2_fold",metabolite_scale:[{type:"min",color:"#fffaf0",size:20},{type:"median",color:"#f1c470",size:30},{type:"max",color:"#800000",size:40}],metabolite_no_data_color:"#ffffff",metabolite_no_data_size:10,identifiers_on_map:"bigg_id",highlight_missing:!1,allow_building_duplicate_reactions:!1,cofactors:["atp","adp","nad","nadh","nadp","nadph","gtp","gdp","h","coa","ump","h2o","ppi"],tooltip_component:G.default,enable_tooltips:["label","object"],reaction_scale_preset:null,metabolite_scale_preset:null,first_load_callback:null},{primary_metabolite_radius:!0,secondary_metabolite_radius:!0,marker_radius:!0,gene_font_size:!0,reaction_no_data_size:!0,metabolite_no_data_size:!0}),m.check_for_parent_tag(this.selection,"svg"))throw new Error("Builder cannot be placed within an svg node because UI elements are html-based.");["reaction_scale","metabolite_scale"].map(function(t){c.options[t]&&c.options[t].length<2&&console.warn('Bad value for option "'+t+'". Scales must have at least 2 points.')});var l=function(t,e){this.options[t]=e}.bind(this),u=function(t){return this.options[t]}.bind(this),A=["identifiers_on_map","scroll_behavior","hide_secondary_metabolites","show_gene_reaction_rules","hide_all_labels","allow_building_duplicate_reactions","highlight_missing","enable_tooltips","reaction_scale_preset","reaction_no_data_color","reaction_no_data_size","reaction_scale","reaction_styles","reaction_compare_style","and_method_in_gene_reaction_rule","metabolite_scale_preset","metabolite_scale","metabolite_styles","metabolite_compare_style","metabolite_no_data_color","metabolite_no_data_size"];this.settings=new T.default(l,u,A),this.callback_manager=(0,j.default)(),null!==this.options.first_load_callback&&this.callback_manager.set("first_load",this.options.first_load_callback),this.zoom_container=new C.default(this.selection,this.options.scroll_behavior,this.options.use_3d_transform,this.options.fill_screen),this.zoom_container.callback_manager.set("svg_start",function(){this.map&&this.map.set_status("Drawing ...")}.bind(this)),this.zoom_container.callback_manager.set("svg_finish",function(){this.map&&this.map.set_status("")}.bind(this)),this.zoom_container.callback_manager.set("zoomChange",function(){var t=this;if(this.options.semantic_zoom){var e=this.zoom_container.window_scale,n=this.options.semantic_zoom.sort(function(t,e){return t.zoomLevel-e.zoomLevel}).find(function(t){return t.zoomLevel>e});n&&Object.entries(n.options).map(function(e){var n=e[0],i=e[1];t.options[n]!==i&&(t.settings.set_conditional(n,i),t._update_data(!1,!0))})}}.bind(this)),this.tooltip_container=new U.default(this.selection,this.options.tooltip_component,this.zoom_container),this._create_status(this.selection),this.load_model(this.model_data,!1);var h=this.selection.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline");this.menu_div=h.append("div"),this.search_bar_div=h.append("div"),this.button_div=this.selection.append("div"),this.settings_div=this.selection.append("div"),P.default.defer(function(){c.load_map(c.map_data,!1);var t=c._reaction_check_add_abs();null!==t&&c._update_data(!0,!0),P.default.mapObject(c.settings.streams,function(t,e){t.onValue(function(t){c.pass_settings_menu_props(o({},c.options,{map:c.map,settings:c.settings})),"reaction_styles"!==e&&"metabolite_styles"!==e||c._update_data(!1,!0)})}),c.settings.status_bus.onValue(function(t){if("accept"===t){if(c._update_data(!0,!0,["reaction","metabolite"],!1),null!==c.zoom_container){var e=c.settings.get_option("scroll_behavior");c.zoom_container.set_scroll_behavior(e)}null!==c.map&&(c.map.draw_all_nodes(!1),c.map.draw_all_reactions(!0,!1),c.map.select_none())}}),c._setup_quick_jump(c.selection),null!==t&&setTimeout(t,500),P.default.defer(function(){return c.callback_manager.run("first_load",c)})})}return t.prototype.load_model=function(t,e){P.default.isUndefined(e)&&(e=!0),P.default.isNull(t)?this.cobra_model=null:this.cobra_model=M.default.from_cobra_json(t),this.map&&(this.map.cobra_model=this.cobra_model,e&&this._update_data(!0,!1),this.settings.get_option("highlight_missing")&&this.map.draw_all_reactions(!1,!1)),this.callback_manager.run("load_model",null,t,e)},t.prototype.load_map=function(t,e){var n=this;P.default.isUndefined(e)&&(e=!0);var i={};if(this.options.semantic_zoom){for(var r=this.options.semantic_zoom,o=Array.isArray(r),c=0,r=o?r:r[Symbol.iterator]();;){var u;if(o){if(c>=r.length)break;u=r[c++]}else{if(c=r.next(),c.done)break;u=c.value}var h=u;Object.keys(h.options).map(function(t){void 0===i[t]&&(i[t]=n.options[t])})}this.semanticOptions=Object.assign({},i)}m.remove_child_nodes(this.zoom_container.zoomed_sel);var d=this.zoom_container.zoomed_sel,f=this.zoom_container.svg;this.map&&this.map.key_manager.toggle(!1),this.map=null!==t?x.default.from_data(t,f,this.embedded_css,d,this.zoom_container,this.settings,this.cobra_model,this.options.enable_search):new x.default(f,this.embedded_css,d,this.zoom_container,this.settings,this.cobra_model,this.options.canvas_size_and_loc,this.options.enable_search),this._setup_status(this.map),this._setup_status(this.map),e&&this._update_data(!1,!0),this.build_input=new y.default(this.selection,this.map,this.zoom_container,this.settings),this.text_edit_input=new z.default(this.selection,this.map,this.zoom_container),this.tooltip_container.setup_map_callbacks(this.map),this.brush=new I.default(d,!1,this.map,".canvas-group"),this.map.canvas.callback_manager.set("resize",function(){this.brush.toggle(!0)}.bind(this)),this._setup_modes(this.map,this.brush,this.zoom_container),s.default.render((0,a.h)(l.default,{display:!1,callbackManager:this.callback_manager,component:A.default,refProp:function(t){n.settingsMenuRef=t},closeMenu:function(){return n.pass_settings_menu_props({display:!1})}}),this.settings_div.node(),this.settings_div.node().children.length>0?this.settings_div.node().firstChild:void 0),this.options.enable_search&&this.renderSearchBar(!0);var p=this._get_keys(this.map,this.zoom_container,this.search_bar,this.settings_bar,this.options.enable_editing,this.options.full_screen_button);if(this.map.key_manager.assigned_keys=p,this.map.key_manager.input_list=[this.build_input,this.searchBarRef,function(){return n.settingsMenuRef},this.text_edit_input,this.tooltip_container],this.map.key_manager.update(),this.map.key_manager.toggle(this.options.enable_keys),null===this.options.disabled_buttons&&(this.options.disabled_buttons=[]),!this.options.reaction_data&&this.options.disabled_buttons&&this.options.disabled_buttons.push("Clear reaction data"),!this.options.gene_data&&this.options.disabled_buttons&&this.options.disabled_buttons.push("Clear gene data"),!this.options.metabolite_data&&this.options.disabled_buttons&&this.options.disabled_buttons.push("Clear metabolite data"),this.options.zoom_to_element){var g=this.options.zoom_to_element.type,b=this.options.zoom_to_element.id;if(P.default.isUndefined(g)||-1===["reaction","node"].indexOf(g))throw new Error('zoom_to_element type must be "reaction" or "node"');if(P.default.isUndefined(b))throw new Error("zoom_to_element must include id");"reaction"===g?this.map.zoom_to_reaction(b):"node"===g&&this.map.zoom_to_node(b)}else if(null!==t)this.map.zoom_extent_canvas();else if(null!==this.options.starting_reaction&&null!==this.cobra_model){var _=this.zoom_container.get_size(),v={x:_.width/2,y:_.height/4};this.map.new_reaction_from_scratch(this.options.starting_reaction,v,90),this.map.zoom_extent_nodes()}else this.map.zoom_extent_canvas();this.options.enable_editing?this.zoom_mode():this.view_mode(),this.options.enable_editing&&this._setup_confirm_before_exit(),this.map.draw_everything()},t.prototype.renderMenu=function(t){var e=this,n=this.menu_div.node();"all"===this.options.menu&&s.default.render((0,a.h)(p.default,o({},this.options,this.map,{mode:t,settings:this.settings,saveMap:function(){e.semanticOptions&&(Object.entries(e.semanticOptions).map(function(t){var n=t[0],i=t[1];e.settings.set_conditional(n,i)}),e._update_data()),e.map.save()},loadMap:function(t){return e.load_map(t)},saveSvg:function(){return e.map.save_svg()},savePng:function(){return e.map.save_png()},clearMap:function(){return e.map.clear_map()},loadModel:function(t){return e.load_model(t,!0)},updateRules:function(){return e.map.convert_map()},loadReactionData:function(n){e.set_reaction_data(n),e._set_mode(t)},loadGeneData:function(n){e.set_gene_data(n),e._set_mode(t)},loadMetaboliteData:function(n){e.set_metabolite_data(n),e._set_mode(t)},setMode:function(t){return e._set_mode(t)},deleteSelected:function(){return e.map.delete_selected()},undo:function(){return e.map.undo_stack.undo()},redo:function(){return e.map.undo_stack.redo()},togglePrimary:function(){return e.map.toggle_selected_node_primary()},cyclePrimary:function(){return e.map.cycle_primary_node()},selectAll:function(){return e.map.select_all()},selectNone:function(){return e.map.select_none()},invertSelection:function(){return e.map.invert_selection()},zoomIn:function(){return e.zoom_container.zoom_in()},zoomOut:function(){return e.zoom_container.zoom_out()},zoomExtentNodes:function(){return e.map.zoom_extent_nodes()},zoomExtentCanvas:function(){return e.map.zoom_extent_canvas()},search:function(){return e.renderSearchBar()},toggleBeziers:function(){return e.map.toggle_beziers()},renderSettingsMenu:function(){return e.pass_settings_menu_props(o({},e.options,{map:e.map,settings:e.settings,display:!0}))}})),n,n.children.length>0?n.firstChild:void 0)},t.prototype.renderSearchBar=function(t,e){var n=this;if(this.options.enable_search){var i=this.search_bar_div.node();s.default.render((0,a.h)(b.default,{visible:!t,searchItem:e,searchIndex:this.map.search_index,map:this.map,ref:function(t){n.searchBarRef=t}}),i,i.children.length>0?i.firstChild:void 0)}},t.prototype.renderButtonPanel=function(t){var e=this,n=this.button_div.node();s.default.render((0,a.h)(d.default,{all:"all"===this.options.menu,fullscreen:this.options.full_screen_button,enableEditing:this.options.enable_editing,setMode:function(t){return e._set_mode(t)},zoomContainer:this.zoom_container,map:this.map,mode:t,buildInput:this.build_input}),n,n.children.length>0?n.firstChild:void 0)},t.prototype._set_mode=function(t){this.renderMenu(t),this.renderButtonPanel(t),this.build_input.toggle("build"===t),this.build_input.direction_arrow.toggle("build"===t),this.brush.toggle("brush"===t),this.zoom_container.toggle_pan_drag("zoom"===t||"view"===t),this.map.canvas.toggle_resize("zoom"===t||"brush"===t),"rotate"===t?(this.map.behavior.toggle_selectable_drag(!1),this.map.behavior.toggle_rotation_mode(!0)):(this.map.behavior.toggle_rotation_mode("rotate"===t),this.map.behavior.toggle_selectable_drag("brush"===t)),this.map.behavior.toggle_selectable_click("build"===t||"brush"===t),this.map.behavior.toggle_label_drag("brush"===t),this.map.behavior.toggle_label_mouseover(!0),this.map.behavior.toggle_label_touch(!0),this.map.behavior.toggle_text_label_edit("text"===t),this.map.behavior.toggle_bezier_drag("brush"===t),"view"!==t&&"text"!==t||this.map.select_none(),"rotate"===t&&this.map.deselect_text_labels(),this.map.draw_everything()},t.prototype.view_mode=function(){this.callback_manager.run("view_mode"),this._set_mode("view")},t.prototype.build_mode=function(){this.callback_manager.run("build_mode"),this._set_mode("build")},t.prototype.brush_mode=function(){this.callback_manager.run("brush_mode"),this._set_mode("brush")},t.prototype.zoom_mode=function(){this.callback_manager.run("zoom_mode"),this._set_mode("zoom")},t.prototype.rotate_mode=function(){this.callback_manager.run("rotate_mode"),this._set_mode("rotate")},t.prototype.text_mode=function(){this.callback_manager.run("text_mode"),this._set_mode("text")},t.prototype._reaction_check_add_abs=function(){var t=this.options.reaction_styles;return null===this.options.reaction_data||this.has_custom_reaction_styles||P.default.contains(t,"abs")?null:(this.settings.set_conditional("reaction_styles",t.concat("abs")),function(){this.map.set_status("Visualizing absolute value of reaction data. Change this option in Settings.",5e3)}.bind(this))},t.prototype.pass_tooltip_component_props=function(t){this.tooltip_container.callback_manager.run("setState",null,t)},t.prototype.pass_settings_menu_props=function(t){this.callback_manager.run("setState",null,t)},t.prototype.set_reaction_data=function(t){this.options.reaction_data=t;var e=this._reaction_check_add_abs();null!==e?(this._update_data(!0,!0,"reaction"),e()):this.map.set_status("");var n=this.options.disabled_buttons.indexOf("Clear reaction data");n>-1?this.options.disabled_buttons.splice(n,1):-1===n&&null===t&&this.options.disabled_buttons.push("Clear reaction data")},t.prototype.set_gene_data=function(t,e){e&&this.settings.set_conditional("show_gene_reaction_rules",!1),this.options.gene_data=t,this._update_data(!0,!0,"reaction"),this.map.set_status("");var n=this.options.disabled_buttons.indexOf("Clear gene data");n>-1?this.options.disabled_buttons.splice(n,1):-1===n&&null===t&&this.options.disabled_buttons.push("Clear gene data")},t.prototype.set_metabolite_data=function(t){this.options.metabolite_data=t,this._update_data(!0,!0,"metabolite"),this.map.set_status("");var e=this.options.disabled_buttons.indexOf("Clear metabolite data");e>-1?this.options.disabled_buttons.splice(e,1):-1===e&&null===t&&this.options.disabled_buttons.push("Clear metabolite data")},t.prototype._update_data=function(t,e,n,i){function r(t,e,n){var i={};return null!==e&&m.extend(i,e.reactions),null!==n&&m.extend(i,n.reactions,!0),F.default.import_and_check(t,"gene_data",i)}void 0===n&&(n=["reaction","metabolite"]),void 0===i&&(i=!0);var o,a,s,c=-1!==n.indexOf("metabolite"),l=-1!==n.indexOf("reaction");c&&e&&null!==this.map&&(o=F.default.import_and_check(this.options.metabolite_data,"metabolite_data"),this.map.apply_metabolite_data_to_map(o),i&&this.map.draw_all_nodes(!1)),l&&(null!==this.options.reaction_data&&e&&null!==this.map?(a=F.default.import_and_check(this.options.reaction_data,"reaction_data"),this.map.apply_reaction_data_to_map(a),i&&this.map.draw_all_reactions(!1,!1)):null!==this.options.gene_data&&e&&null!==this.map?(s=r(this.options.gene_data,this.cobra_model,this.map),this.map.apply_gene_data_to_map(s),i&&this.map.draw_all_reactions(!1,!1)):e&&null!==this.map&&(this.map.apply_reaction_data_to_map(null),i&&this.map.draw_all_reactions(!1,!1))),this.update_model_timer&&clearTimeout(this.update_model_timer);this.update_model_timer=setTimeout(function(){c&&t&&null!==this.cobra_model&&(o||(o=F.default.import_and_check(this.options.metabolite_data,"metabolite_data")),this.cobra_model.apply_metabolite_data(o,this.options.metabolite_styles,this.options.metabolite_compare_style)),l&&(null!==this.options.reaction_data&&t&&null!==this.cobra_model?(a||(a=F.default.import_and_check(this.options.reaction_data,"reaction_data")),this.cobra_model.apply_reaction_data(a,this.options.reaction_styles,this.options.reaction_compare_style)):null!==this.options.gene_data&&t&&null!==this.cobra_model?(s||(s=r(this.options.gene_data,this.cobra_model,this.map)),this.cobra_model.apply_gene_data(s,this.options.reaction_styles,this.options.identifiers_on_map,this.options.reaction_compare_style,this.options.and_method_in_gene_reaction_rule)):t&&null!==this.cobra_model&&this.cobra_model.apply_reaction_data(null,this.options.reaction_styles,this.options.reaction_compare_style)),this.callback_manager.run("update_data",null,t,e,n,i)}.bind(this),5)},t.prototype._create_status=function(t){this.status_bar=t.append("div").attr("id","status")},t.prototype._setup_status=function(t){var e=this;t.callback_manager.set("set_status",function(t){return e.status_bar.html(t)})},t.prototype._setup_quick_jump=function(t){var e=function(t,e,n){if(this.options.enable_editing&&!this.options.never_ask_before_quit&&!confirm("You will lose any unsaved changes.\n\nAre you sure you want to switch maps?"))return void(n&&n(!1));this.map.set_status("Loading map "+t+" ...");var i=m.name_to_url(t,e);(0,H.json)(i,function(t,e){if(t)return console.warn("Could not load data: "+t),this.map.set_status("Could not load map",2e3),void(n&&n(!1));n&&n(!0),this.load_map(e),this.map.set_status("")}.bind(this))}.bind(this);this.quick_jump=(0,Q.default)(t,e)},t.prototype._setup_modes=function(t,e,n){var i={};t.callback_manager.set("start_rotation",function(){i.brush=e.enabled,e.toggle(!1),i.zoom=n.zoom_on,n.toggle_pan_drag(!1),i.selectable_mousedown=null!==t.behavior.selectable_mousedown,t.behavior.toggle_selectable_click(!1),i.label_mouseover=null!==t.behavior.label_mouseover,i.label_touch=null!==t.behavior.label_touch,t.behavior.toggle_label_mouseover(!1),t.behavior.toggle_label_touch(!1)}),t.callback_manager.set("end_rotation",function(){e.toggle(i.brush),n.toggle_pan_drag(i.zoom),t.behavior.toggle_selectable_click(i.selectable_mousedown),t.behavior.toggle_label_mouseover(i.label_mouseover),t.behavior.toggle_label_touch(i.label_touch),i={}})},t.prototype._get_keys=function(t,e,n,i,r,a){var s=this,c={save:{key:"ctrl+s",target:t,fn:t.save},save_svg:{key:"ctrl+shift+s",target:t,fn:t.save_svg},save_png:{key:"ctrl+shift+p",target:t,fn:t.save_png},load:{key:"ctrl+o",fn:null},convert_map:{target:t,fn:t.convert_map},clear_map:{target:t,fn:t.clear_map},load_model:{key:"ctrl+m",fn:null},clear_model:{fn:this.load_model.bind(this,null,!0)},load_reaction_data:{fn:null},clear_reaction_data:{target:this,fn:function(){this.set_reaction_data(null)}},load_metabolite_data:{fn:null},clear_metabolite_data:{target:this,fn:function(){this.set_metabolite_data(null)}},load_gene_data:{fn:null},clear_gene_data:{target:this,fn:function(){this.set_gene_data(null,!0)}},zoom_in_ctrl:{key:"ctrl+=",target:e,fn:e.zoom_in},zoom_in:{key:"=",target:e,fn:e.zoom_in,ignore_with_input:!0},zoom_out_ctrl:{key:"ctrl+-",target:e,fn:e.zoom_out},zoom_out:{key:"-",target:e,fn:e.zoom_out,ignore_with_input:!0},extent_nodes_ctrl:{key:"ctrl+0",target:t,fn:t.zoom_extent_nodes},extent_nodes:{key:"0",target:t,fn:t.zoom_extent_nodes,ignore_with_input:!0},extent_canvas_ctrl:{key:"ctrl+1",target:t,fn:t.zoom_extent_canvas},extent_canvas:{key:"1",target:t,fn:t.zoom_extent_canvas,ignore_with_input:!0},search_ctrl:{key:"ctrl+f",fn:function(){return s.renderSearchBar()}},search:{key:"f",fn:function(){return s.renderSearchBar()},ignore_with_input:!0},view_mode:{target:this,fn:this.view_mode,ignore_with_input:!0},show_settings_ctrl:{key:"ctrl+,",target:i,fn:function(){return s.pass_settings_menu_props(o({},s.options,{map:s.map,settings:s.settings,display:!0}))}},show_settings:{key:",",target:this,fn:function(){return s.pass_settings_menu_props(o({},s.options,{map:s.map,settings:s.settings,display:!0}))},ignore_with_input:!0}};return a&&m.extend(c,{full_screen_ctrl:{key:"ctrl+2",target:t,fn:t.full_screen},full_screen:{key:"2",target:t,fn:t.full_screen,ignore_with_input:!0}}),r&&m.extend(c,{build_mode:{key:"n",target:this,fn:this.build_mode,ignore_with_input:!0},zoom_mode:{key:"z",target:this,fn:this.zoom_mode,ignore_with_input:!0},brush_mode:{key:"v",target:this,fn:this.brush_mode,ignore_with_input:!0},rotate_mode:{key:"r",target:this,fn:this.rotate_mode,ignore_with_input:!0},text_mode:{key:"t",target:this,fn:this.text_mode,ignore_with_input:!0},toggle_beziers:{key:"b",target:t,fn:t.toggle_beziers,ignore_with_input:!0},delete_ctrl:{key:"ctrl+backspace",target:t,fn:t.delete_selected,ignore_with_input:!0},delete:{key:"backspace",target:t,fn:t.delete_selected,ignore_with_input:!0},delete_del:{key:"del",target:t,fn:t.delete_selected,ignore_with_input:!0},toggle_primary:{key:"p",target:t,fn:t.toggle_selected_node_primary,ignore_with_input:!0},cycle_primary:{key:"c",target:t,fn:t.cycle_primary_node,ignore_with_input:!0},direction_arrow_right:{key:"right",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.right,ignore_with_input:!0},direction_arrow_down:{key:"down",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.down,ignore_with_input:!0},direction_arrow_left:{key:"left",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.left,ignore_with_input:!0},direction_arrow_up:{key:"up",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.up,ignore_with_input:!0},undo:{key:"ctrl+z",target:t.undo_stack,fn:t.undo_stack.undo},redo:{key:"ctrl+shift+z",target:t.undo_stack,fn:t.undo_stack.redo},select_all:{key:"ctrl+a",target:t,fn:t.select_all},select_none:{key:"ctrl+shift+a",target:t,fn:t.select_none},invert_selection:{target:t,fn:t.invert_selection}}),c},t.prototype._setup_confirm_before_exit=function(){window.onbeforeunload=function(t){return t=t||window.event,this.options.never_ask_before_quit?null:"You will lose any unsaved changes."}.bind(this)},t}();e.default=m.class_with_optional_new(J)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(3),c=n(122),l=i(c),u=n(123),A=i(u),h=n(169),d=i(h),f=n(66),p=i(f),g=n(2),b=i(g);n(170);var _=n(172),m=i(_),v=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.state={display:n.display},n.display&&i.componentWillAppear(),i}return a(e,t),e.prototype.componentWillReceiveProps=function(t){this.setState({display:t.display}),t.display&&!this.props.display&&this.componentWillAppear(),!t.display&&this.props.display&&this.componentWillDisappear()},e.prototype.componentWillAppear=function(){var t=this;this.props.settings.hold_changes(),this.setState({clearEscape:this.props.map.key_manager.add_escape_listener(function(){return t.abandonChanges()},!0),clearEnter:this.props.map.key_manager.add_key_listener(["enter"],function(){return t.saveChanges()},!0)})},e.prototype.componentWillDisappear=function(){this.props.closeMenu(),this.state.clearEscape(),this.state.clearEnter()},e.prototype.abandonChanges=function(){this.props.settings.abandon_changes(),this.componentWillDisappear()},e.prototype.saveChanges=function(){this.props.settings.accept_changes(),this.componentWillDisappear()},e.prototype.handleStyle=function(t,e){-1===this.props[e].indexOf(t)?this.props.settings.set_conditional(e,(0,p.default)(this.props[e],{$push:[t]})):this.props[e].indexOf(t)>-1&&this.props.settings.set_conditional(e,(0,p.default)(this.props[e],{$splice:[[this.props[e].indexOf(t),1]]}))},e.prototype.is_visible=function(){return this.state.display},e.prototype.render=function(){var t=this;return(0,s.h)("div",{className:"settingsBackground",style:this.props.display?{display:"block"}:{display:"none"}},(0,s.h)("div",{className:"settingsBoxContainer"},(0,s.h)("button",{className:"discardChanges btn",onClick:function(){return t.abandonChanges()}},(0,s.h)("i",{className:"icon-cancel","aria-hidden":"true"})),(0,s.h)("button",{className:"saveChanges btn",onClick:function(){return t.saveChanges()}},(0,s.h)("i",{className:"icon-ok","aria-hidden":"true"})),(0,s.h)("div",{className:"settingsBox"},(0,s.h)("div",{className:"settingsTip"},(0,s.h)("i",null,"Tip: Hover over an option to see more details about it.")),(0,s.h)("hr",null),(0,s.h)("div",{className:"title"},"View and build options"),(0,s.h)("div",{className:"settingsContainer"},(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",{title:"The identifiers that are show in the reaction, gene, and metabolite labels on the map."},(0,s.h)("td",{className:"optionLabel"},"Identifiers:"),(0,s.h)("td",{className:"singleLine"},(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"identifiers",onClick:function(){t.props.settings.set_conditional("identifiers_on_map","bigg_id")},checked:"bigg_id"===this.props.identifiers_on_map}),"ID's"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"identifiers",onClick:function(){t.props.settings.set_conditional("identifiers_on_map","name")},checked:"name"===this.props.identifiers_on_map}),"Descriptive names")))),(0,s.h)("label",{title:"If checked, then the scroll wheel and trackpad will control zoom rather than pan."},(0,s.h)("input",{type:"checkbox",onClick:function(){"zoom"===t.props.scroll_behavior?t.props.settings.set_conditional("scroll_behavior","pan"):t.props.settings.set_conditional("scroll_behavior","zoom")},checked:"zoom"===this.props.scroll_behavior}),"Scroll to zoom (instead of scroll to pan)"),(0,s.h)("label",{title:"If checked, then only the primary metabolites will be displayed."},(0,s.h)("input",{type:"checkbox",onClick:function(){return t.props.settings.set_conditional("hide_secondary_metabolites",!t.props.hide_secondary_metabolites)},checked:this.props.hide_secondary_metabolites}),"Hide secondary metabolites"),(0,s.h)("label",{title:"If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)"},(0,s.h)("input",{type:"checkbox",onClick:function(){return t.props.settings.set_conditional("show_gene_reaction_rules",!t.props.show_gene_reaction_rules)},checked:this.props.show_gene_reaction_rules}),"Show gene reaction rules"),(0,s.h)("label",{title:"If checked, hide all reaction, gene, and metabolite labels"},(0,s.h)("input",{type:"checkbox",onClick:function(){return t.props.settings.set_conditional("hide_all_labels",!t.props.hide_all_labels)},checked:this.props.hide_all_labels}),"Hide reaction, gene, and metabolite labels"),(0,s.h)("label",{title:"If checked, then allow duplicate reactions during model building."},(0,s.h)("input",{type:"checkbox",onClick:function(){return t.props.settings.set_conditional("allow_building_duplicate_reactions",!t.props.allow_building_duplicate_reactions)},checked:this.props.allow_building_duplicate_reactions}),"Allow duplicate reactions"),(0,s.h)("label",{title:"If checked, then highlight in red all the reactions on the map that are not present in the loaded model."},(0,s.h)("input",{type:"checkbox",onClick:function(){t.props.settings.set_conditional("highlight_missing",!t.props.highlight_missing)},checked:this.props.highlight_missing}),"Highlight reactions not in model"),(0,s.h)("table",null,(0,s.h)("tr",{title:"Determines over which elements tooltips will display for reactions, metabolites, and genes"},(0,s.h)("td",null,"Show tooltips over:"),(0,s.h)("td",{className:"singleLine"},(0,s.h)("label",{className:"tooltipOption",title:"If checked, tooltips will display over the gene, reaction, and metabolite labels"},(0,s.h)("input",{type:"checkbox",onClick:function(){return t.props.settings.set_conditional("enable_tooltips",t.props.enable_tooltips.indexOf("label")>-1?(0,p.default)(t.props.enable_tooltips,{$splice:[[t.props.enable_tooltips.indexOf("label"),1]]}):(0,p.default)(t.props.enable_tooltips,{$push:["label"]}))},checked:this.props.enable_tooltips.indexOf("label")>-1}),"Labels"),(0,s.h)("label",{className:"tooltipOption",title:"If checked, tooltips will display over the reaction line segments and metabolite circles"},(0,s.h)("input",{type:"checkbox",onClick:function(){return t.props.settings.set_conditional("enable_tooltips",t.props.enable_tooltips.indexOf("object")>-1?(0,p.default)(t.props.enable_tooltips,{$splice:[[t.props.enable_tooltips.indexOf("object"),1]]}):(0,p.default)(t.props.enable_tooltips,{$push:["object"]}))},checked:this.props.enable_tooltips.indexOf("object")>-1}),"Objects"))))),(0,s.h)("div",{className:"settingsTip",style:{marginTop:"16px"}},(0,s.h)("i",null,"Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).")),(0,s.h)("hr",null),(0,s.h)("div",{className:"scaleTitle"},(0,s.h)("div",{className:"title"},"Reactions"),(0,s.h)(l.default,{disabled:null===this.props.map.get_data_statistics().reaction},Object.values(b.default.mapObject(m.default,function(e,n){return(0,s.h)(d.default,{name:n,scale:e,onClick:function(){return t.props.settings.set_conditional("reaction_scale",e)}})})))),(0,s.h)(A.default,{scale:this.props.reaction_scale,settings:this.props.settings,type:"Reaction",stats:this.props.map.get_data_statistics().reaction,noDataColor:this.props.reaction_no_data_color,noDataSize:this.props.reaction_no_data_size,onChange:function(e){t.props.settings.set_conditional("reaction_scale",e)},onNoDataColorChange:function(e){t.props.settings.set_conditional("reaction_no_data_color",e)},onNoDataSizeChange:function(e){t.props.settings.set_conditional("reaction_no_data_size",e)},abs:this.props.reaction_styles.indexOf("abs")>-1}),(0,s.h)("div",{className:"subheading"},"Reaction or Gene data"),(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",null,(0,s.h)("td",{className:"optionLabel",title:"Options for reactions data"},"Options:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of reactions on the map"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("abs","reaction_styles")},checked:this.props.reaction_styles.indexOf("abs")>-1}),"Absolute value"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the reaction data"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("size","reaction_styles")},checked:this.props.reaction_styles.indexOf("size")>-1}),"Size"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the reaction data"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("color","reaction_styles")},checked:this.props.reaction_styles.indexOf("color")>-1}),"Color"),(0,s.h)("br",null),(0,s.h)("label",{className:"optionGroup",title:"If checked, then show data values in the reaction labels"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("text","reaction_styles")},checked:this.props.reaction_styles.indexOf("text")>-1}),"Text (Show data in label)"))),(0,s.h)("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},(0,s.h)("td",{className:"optionLabel"},"Comparison"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){t.props.settings.set_conditional("reaction_compare_style","fold")},checked:"fold"===this.props.reaction_compare_style}),"Fold Change"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){t.props.settings.set_conditional("reaction_compare_style","log2_fold")},checked:"log2_fold"===this.props.reaction_compare_style}),"Log2 (Fold Change)"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){t.props.settings.set_conditional("reaction_compare_style","diff")},checked:"diff"===this.props.reaction_compare_style}),"Difference")))),(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",{title:"The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)"},(0,s.h)("td",{className:"optionLabelWide"},"Method for evaluating AND:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"andMethod",onClick:function(){t.props.settings.set_conditional("and_method_in_gene_reaction_rule","mean")},checked:"mean"===this.props.and_method_in_gene_reaction_rule}),"Mean"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"andMethod",onClick:function(){t.props.settings.set_conditional("and_method_in_gene_reaction_rule","min")},checked:"min"===this.props.and_method_in_gene_reaction_rule}),"Min")))),(0,s.h)("hr",null),(0,s.h)("div",{className:"scaleTitle"},(0,s.h)("div",{className:"title"},"Metabolites"),(0,s.h)(l.default,{disabled:null===this.props.map.get_data_statistics().metabolite},Object.values(b.default.mapObject(m.default,function(e,n){return(0,s.h)(d.default,{name:n,scale:e,onClick:function(){return t.props.settings.set_conditional("metabolite_scale",e)}})})))),(0,s.h)(A.default,{scale:this.props.metabolite_scale,settings:this.props.settings,type:"Metabolite",stats:this.props.map.get_data_statistics().metabolite,noDataColor:this.props.metabolite_no_data_color,noDataSize:this.props.metabolite_no_data_size,onChange:function(e){t.props.settings.set_conditional("metabolite_scale",e)},onNoDataColorChange:function(e){t.props.settings.set_conditional("metabolite_no_data_color",e)},onNoDataSizeChange:function(e){t.props.settings.set_conditional("metabolite_no_data_size",e)},abs:this.props.metabolite_styles.indexOf("abs")>-1}),(0,s.h)("div",{className:"subheading"},"Metabolite data"),(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",null,(0,s.h)("td",{className:"optionLabel",title:"Options for metabolite data"},"Options:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of metabolites on the map"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("abs","metabolite_styles")},checked:this.props.metabolite_styles.indexOf("abs")>-1}),"Absolute value"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the metabolite data"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("size","metabolite_styles")},checked:this.props.metabolite_styles.indexOf("size")>-1}),"Size"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the metabolite data"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("color","metabolite_styles")},checked:this.props.metabolite_styles.indexOf("color")>-1}),"Color"),(0,s.h)("br",null),(0,s.h)("label",{className:"optionGroup",title:"If checked, then show data values in the metabolite labels"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("text","metabolite_styles")},checked:this.props.metabolite_styles.indexOf("text")>-1}),"Text (Show data in label)"))),(0,s.h)("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},(0,s.h)("td",{className:"optionLabel"},"Comparison"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){t.props.settings.set_conditional("metabolite_compare_style","fold")},checked:"fold"===this.props.metabolite_compare_style}),"Fold Change"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){t.props.settings.set_conditional("metabolite_compare_style","log2_fold")},checked:"log2_fold"===this.props.metabolite_compare_style}),"Log2 (Fold Change)"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){t.props.settings.set_conditional("metabolite_compare_style","diff")},checked:"diff"===this.props.metabolite_compare_style}),"Difference")))))))},e}(s.Component);e.default=v},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(3),s=function(t){function e(n){i(this,e);var o=r(this,t.call(this,n));return o.setWrapperRef=o.setWrapperRef.bind(o),o.handleClickOutside=o.handleClickOutside.bind(o),o.state={visible:!1},o}return o(e,t),e.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handleClickOutside)},e.prototype.setWrapperRef=function(t){this.wrapperRef=t},e.prototype.handleClickOutside=function(t){this.wrapperRef&&!this.wrapperRef.contains(t.target)&&this.setState({visible:!1})},e.prototype.render=function(){var t=this;return(0,a.h)("div",{className:"selector"},(0,a.h)("div",{className:["selectorTitle",this.props.disabled?"disabled":""].join(" "),ref:this.setWrapperRef,onClick:function(){t.props.disabled||t.setState({visible:!t.state.visible})}},"Preset Scale Selections",(0,a.h)("i",{className:"icon-sort-down"})),(0,a.h)("div",{className:"selectorMenu",style:this.state.visible?{display:"block"}:{display:"none"}},this.props.children.map(function(t){return t})))},e}(a.Component);e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(3),c=n(124),l=i(c),u=n(66),A=i(u),h=n(2),d=i(h);n(167);var f=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.sortScale=function(){var t=this;return d.default.sortBy(this.props.scale,function(e){return"value"===e.type?e.value:t.props.stats[e.type]})},e.prototype.placePickers=function(){var t=this.props.stats,e=this.props.scale.reduce(function(t,e){var n=t[0],i=t[1];return"value"===e.type?[Math.min(e.value,n),Math.max(e.value,i)]:[n,i]},[t.min,t.max]),n=e[0],i=e[1];return{pickerLocations:this.props.scale.map(function(e){return(("value"===e.type?e.value:t[e.type])-n)/(i-n)}),absoluteMax:i,absoluteMin:n}},e.prototype.scaleChange=function(t,e,n){var i=null;if("type"===e&&"value"!==n){var r,o;i=(0,A.default)(this.props.scale,(o={},o[t]=(r={},r[e]={$set:n},r.$unset=["value"],r),o)),this.props.onChange(i)}else if("value"===e&&"value"!==this.props.scale[t].type){var a,s;i=(0,A.default)(this.props.scale,(s={},s[t]=(a={},a[e]={$set:n},a.type={$set:"value"},a),s)),this.props.onChange(i)}else if("value"===n){var c,l;i=(0,A.default)(this.props.scale,(l={},l[t]=(c={},c[e]={$set:n},c.$merge={value:this.props.stats[this.props.scale[t].type]},c),l)),this.props.onChange(i)}else if(!isNaN(parseFloat(n))||"#"===n[0]&&"color"===e){var u,h;i=(0,A.default)(this.props.scale,(h={},h[t]=(u={},u[e]={$set:n},u),h)),this.props.onChange(i)}},e.prototype.addColorStop=function(t){var e=(0,A.default)(this.props.scale,{$push:[{type:"value",value:t.layerX/t.target.clientWidth*this.props.stats.max+(1-t.layerX/t.target.clientWidth)*this.props.stats.min,color:"#9696ff",size:20}]});this.props.onChange(e)},e.prototype.makeGradient=function(t,e){var n=this,i=this.sortScale();return(i.length<2?[{type:"min",color:"#f1ecfa"},{type:"max",color:"#f1ecfa"}]:i).map(function(i){var r="value"===i.type?i.value:n.props.stats[i.type];return" "+i.color+" "+(r-t)/(e-t)*100+"%"}).toString()},e.prototype.removeColorStop=function(t){var e=(0,A.default)(this.props.scale,{$splice:[[[t],1]]});this.props.onChange(e)},e.prototype.render=function(){var t=this;if(!this.props.stats)return(0,s.h)("div",{className:"scaleEditor"},(0,s.h)("div",null,(0,s.h)("div",{className:"scaleTrack disabled",style:{width:400}},this.props.type," data not loaded",(0,s.h)(l.default,{location:0,trackWidth:400,disabled:!0}),(0,s.h)(l.default,{location:1,trackWidth:400,disabled:!0}))),(0,s.h)("div",{className:"scaleLabels"},(0,s.h)("label",null,"Value:"),(0,s.h)("label",null,"Color:"),(0,s.h)("label",null,"Size:")),(0,s.h)("div",{className:"noDataStyle"},(0,s.h)("label",{className:"styleHeader"},"Styles for reactions with no data"),(0,s.h)("br",null),(0,s.h)("label",null,"Color:"),(0,s.h)("input",{type:"text",className:"colorInput",disabled:!0}),(0,s.h)("input",{type:"color",className:"colorWheel",disabled:!0}),(0,s.h)("label",null,"Size:"),(0,s.h)("input",{type:"text",className:"sizeInput",disabled:!0})));var e=this.placePickers(),n=e.pickerLocations,i=e.absoluteMax,r=e.absoluteMin,o=this.props.scale.map(function(e,o){return"value"!==e.type?(0,s.h)(l.default,{trackWidth:400,type:e.type,location:n[o],onChange:function(e,n){return t.scaleChange(o,e,n)},focus:function(){return t.setState({focusedPicker:o})},remove:function(){return t.removeColorStop(o)},min:r,max:i,value:t.props.stats[e.type],color:e.color,size:e.size,zIndex:t.state.focusedPicker===o?"2":"0",showTrash:t.props.scale.length>=3}):null!=e.value?(0,s.h)(l.default,{trackWidth:400,type:e.type,location:n[o],onChange:function(e,n){return t.scaleChange(o,e,n)},focus:function(){return t.setState({focusedPicker:o})},remove:function(){return t.removeColorStop(o)},min:r,max:i,value:e.value,color:e.color,size:e.size,zIndex:t.state.focusedPicker===o?"2":"0",showTrash:t.props.scale.length>=3}):void 0});return(0,s.h)("div",{className:"scaleEditor"},(0,s.h)("div",null,(0,s.h)("i",{className:"settingsTip"},"To add a color stop to the scale, click the gradient"),(0,s.h)("div",{className:"scaleTrack",style:{width:400}},(0,s.h)("div",{className:"gradient",onClick:function(e){return t.addColorStop(e)},style:{background:"linear-gradient(to right,"+this.makeGradient(r,i)+")"}}),o)),(0,s.h)("div",{className:"scaleLabels"},(0,s.h)("label",null,"Value:"),(0,s.h)("label",null,"Color:"),(0,s.h)("label",null,"Size:")),(0,s.h)("div",{className:"noDataStyle"},(0,s.h)("label",{className:"styleHeader"},"Styles for reactions with no data"),(0,s.h)("br",null),(0,s.h)("label",null,"Color:"),(0,s.h)("input",{type:"text",className:"colorInput",value:this.props.noDataColor,onInput:function(e){return t.props.onNoDataColorChange(e.target.value)}}),(0,s.h)("input",{type:"color",className:"colorWheel",value:this.props.noDataColor,onInput:function(e){return t.props.onNoDataColorChange(e.target.value)}}),(0,s.h)("label",null,"Size:"),(0,s.h)("input",{type:"text",className:"sizeInput",value:this.props.noDataSize,onInput:function(e){return t.props.onNoDataSizeChange(parseFloat(e.target.value))}})))},e}(s.Component);e.default=f},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(3),s=n(0),c=n(15);n(162);var l=function(t){function e(){return i(this,e),r(this,t.apply(this,arguments))}return o(e,t),e.prototype.setUpDrag=function(){var t=this;if((0,s.select)(this.base).select(".pickerBox").on("mousedown.drag",null),!this.props.disabled){var e=(0,c.drag)().on("start",function(){t.props.focus&&t.props.focus()}).on("drag",function(){"value"!==t.props.type&&t.props.onChange&&t.props.onChange("type","value");var e=t.props.value+s.event.dx/t.props.trackWidth*(t.props.max-t.props.min),n=Math.max(t.props.min,Math.min(t.props.max,e));t.props.onChange("value",n)}).container(function(){return t.base.parentNode.parentNode});(0,s.select)(this.base).select(".pickerBox").call(e)}},e.prototype.componentDidUpdate=function(){this.setUpDrag()},e.prototype.componentDidMount=function(){this.setUpDrag()},e.prototype.render=function(){var t=this;return(0,a.h)("div",{className:"picker",style:{left:this.props.location*this.props.trackWidth+"px",zIndex:this.props.zIndex}},this.props.showTrash&&(0,a.h)("div",{className:"trashDiv"},(0,a.h)("i",{className:"icon-trash-empty","aria-hidden":"true",onClick:function(){t.props.remove&&t.props.remove()}})),(0,a.h)("div",{className:"pickerBox",onClick:function(){t.props.focus&&t.props.focus()}}),(0,a.h)("div",{className:["pickerOptions",this.props.location>.8?"rightOptions":""].join(" ")},(0,a.h)("input",{type:"text",className:"option",value:this.props.disabled?"":"value"===this.props.type?parseFloat(this.props.value.toFixed(2)):this.props.type+" ("+parseFloat(this.props.value.toFixed(2))+")",disabled:this.props.disabled,onInput:function(e){var n=parseFloat(e.target.value);isNaN(n)||t.props.onChange("value",n)},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()}}),(0,a.h)("select",{className:"typePicker",value:this.props.type,onChange:function(e){t.props.onChange&&t.props.onChange("type",e.target.value)},disabled:this.props.disabled,onFocus:function(e){t.props.focus&&t.props.focus()}},(0,a.h)("option",{value:"value"},"Value"),(0,a.h)("option",{value:"min"},"Min"),(0,a.h)("option",{value:"mean"},"Mean"),(0,a.h)("option",{value:"Q1"},"Q1"),(0,a.h)("option",{value:"median"},"Median"),(0,a.h)("option",{value:"Q3"},"Q3"),(0,a.h)("option",{value:"max"},"Max")),(0,a.h)("div",{className:"colorOptions"},(0,a.h)("input",{type:"text",className:"colorText",onInput:function(e){t.props.onChange&&t.props.onChange("color",e.target.value)},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()},value:this.props.color||"",disabled:this.props.disabled}),(0,a.h)("input",{type:"color",className:"colorWheel",onInput:function(e){t.props.onChange&&t.props.onChange("color",e.target.value)},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()},value:this.props.color||"",disabled:this.props.disabled})),(0,a.h)("input",{type:"text",className:"option",onInput:function(e){t.props.onChange&&t.props.onChange("size",parseInt(e.target.value))},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()},value:this.props.size,disabled:this.props.disabled})))},e}(a.Component);e.default=l},function(t,e,n){"use strict";function i(){return new r}function r(){this._="@"+(++o).toString(36)}e.a=i;var o=0;r.prototype=i.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var i=n(35),r=n(25);e.a=function(t){var e=Object(i.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(r.a)(t,e)}},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return"string"==typeof t?new i.a([[document.querySelector(t)]],[document.documentElement]):new i.a([[t]],i.c)}},function(t,e,n){"use strict";var i=n(5),r=n(37);e.a=function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,c,l=e[a],u=l.length,A=o[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=t.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),A[h]=c);return new i.a(o,this._parents)}},function(t,e,n){"use strict";var i=n(5),r=n(60);e.a=function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],s=0;s<n;++s)for(var c,l=e[s],u=l.length,A=0;A<u;++A)(c=l[A])&&(o.push(t.call(c,c.__data__,A,l)),a.push(c));return new i.a(o,a)}},function(t,e,n){"use strict";var i=n(5),r=n(59);e.a=function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,c=e[a],l=c.length,u=o[a]=[],A=0;A<l;++A)(s=c[A])&&t.call(s,s.__data__,A,c)&&u.push(s);return new i.a(o,this._parents)}},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var s,c=0,l=e.length,u=o.length;c<u;++c)(s=e[c])?(s.__data__=o[c],i[c]=s):n[c]=new a.a(t,o[c]);for(;c<l;++c)(s=e[c])&&(r[c]=s)}function r(t,e,n,i,r,o,s){var l,u,A,h={},d=e.length,f=o.length,p=new Array(d);for(l=0;l<d;++l)(u=e[l])&&(p[l]=A=c+s.call(u,u.__data__,l,e),A in h?r[l]=u:h[A]=u);for(l=0;l<f;++l)A=c+s.call(t,o[l],l,o),(u=h[A])?(i[l]=u,u.__data__=o[l],h[A]=null):n[l]=new a.a(t,o[l]);for(l=0;l<d;++l)(u=e[l])&&h[p[l]]===u&&(r[l]=u)}var o=n(5),a=n(61),s=n(132),c="$";e.a=function(t,e){if(!t)return b=new Array(this.size()),d=-1,this.each(function(t){b[++d]=t}),b;var n=e?r:i,a=this._parents,c=this._groups;"function"!=typeof t&&(t=Object(s.a)(t));for(var l=c.length,u=new Array(l),A=new Array(l),h=new Array(l),d=0;d<l;++d){var f=a[d],p=c[d],g=p.length,b=t.call(f,f&&f.__data__,d,a),_=b.length,m=A[d]=new Array(_),v=u[d]=new Array(_);n(f,p,m,v,h[d]=new Array(g),b,e);for(var y,w,C=0,B=0;C<_;++C)if(y=m[C]){for(C>=B&&(B=C+1);!(w=v[B])&&++B<_;);y._next=w||null}}return u=new o.a(u,a),u._enter=A,u._exit=h,u}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var i=n(62),r=n(5);e.a=function(){return new r.a(this._exit||this._groups.map(i.a),this._parents)}},function(t,e,n){"use strict";var i=n(5);e.a=function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,a=Math.min(r,o),s=new Array(r),c=0;c<a;++c)for(var l,u=e[c],A=n[c],h=u.length,d=s[c]=new Array(h),f=0;f<h;++f)(l=u[f]||A[f])&&(d[f]=l);for(;c<r;++c)s[c]=e[c];return new i.a(s,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this}},function(t,e,n){"use strict";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var r=n(5);e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=i);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var c,l=n[s],u=l.length,A=a[s]=new Array(u),h=0;h<u;++h)(c=l[h])&&(A[h]=c);A.sort(e)}return new r.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this}},function(t,e,n){"use strict";function i(t){return function(){this.removeAttribute(t)}}function r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,e){return function(){this.setAttribute(t,e)}}function a(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function s(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function c(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var l=n(33);e.a=function(t,e){var n=Object(l.a)(t);if(arguments.length<2){var u=this.node();return n.local?u.getAttributeNS(n.space,n.local):u.getAttribute(n)}return this.each((null==e?n.local?r:i:"function"==typeof e?n.local?c:s:n.local?a:o)(n,e))}},function(t,e,n){"use strict";function i(t){return function(){delete this[t]}}function r(t,e){return function(){this[t]=e}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}e.a=function(t,e){return arguments.length>1?this.each((null==e?i:"function"==typeof e?o:r)(t,e)):this.node()[t]}},function(t,e,n){"use strict";function i(t){return t.trim().split(/^|\s+/)}function r(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=i(t.getAttribute("class")||"")}function a(t,e){for(var n=r(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function s(t,e){for(var n=r(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function c(t){return function(){a(this,t)}}function l(t){return function(){s(this,t)}}function u(t,e){return function(){(e.apply(this,arguments)?a:s)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=i(t+"");if(arguments.length<2){for(var o=r(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?u:e?c:l)(n,e))}},function(t,e,n){"use strict";function i(){this.textContent=""}function r(t){return function(){this.textContent=t}}function o(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?i:("function"==typeof t?o:r)(t)):this.node().textContent}},function(t,e,n){"use strict";function i(){this.innerHTML=""}function r(t){return function(){this.innerHTML=t}}function o(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?i:("function"==typeof t?o:r)(t)):this.node().innerHTML}},function(t,e,n){"use strict";function i(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(i)}},function(t,e,n){"use strict";function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(i)}},function(t,e,n){"use strict";var i=n(32);e.a=function(t){var e="function"==typeof t?t:Object(i.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";function i(){return null}var r=n(32),o=n(37);e.a=function(t,e){var n="function"==typeof t?t:Object(r.a)(t),a=null==e?i:"function"==typeof e?e:Object(o.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function i(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(i)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";function i(t,e,n){var i=Object(a.a)(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function r(t,e){return function(){return i(this,t,e)}}function o(t,e){return function(){return i(this,t,e.apply(this,arguments))}}var a=n(38);e.a=function(t,e){return this.each(("function"==typeof e?o:r)(t,e))}},function(t,e,n){"use strict";var i=n(5);e.a=function(t){return"string"==typeof t?new i.a([document.querySelectorAll(t)],[document.documentElement]):new i.a([null==t?[]:t],i.c)}},function(t,e,n){"use strict";var i=n(35),r=n(25);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(i.a)().changedTouches);for(var o,a=0,s=e?e.length:0;a<s;++a)if((o=e[a]).identifier===n)return Object(r.a)(t,o);return null}},function(t,e,n){"use strict";var i=n(35),r=n(25);e.a=function(t,e){null==e&&(e=Object(i.a)().touches);for(var n=0,o=e?e.length:0,a=new Array(o);n<o;++n)a[n]=Object(r.a)(t,e[n]);return a}},function(t,e,n){"use strict";function i(){return!c.event.button}function r(){return this.parentNode}function o(t){return null==t?{x:c.event.x,y:c.event.y}:t}function a(){return"ontouchstart"in this}var s=n(20),c=n(0),l=n(64),u=n(65),A=n(160),h=n(161);e.a=function(){function t(t){t.on("mousedown.drag",e).filter(x).on("touchstart.drag",f).on("touchmove.drag",p).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!y&&w.apply(this,arguments)){var t=b("mouse",C.apply(this,arguments),c.mouse,this,arguments);t&&(Object(c.select)(c.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",d,!0),Object(l.a)(c.event.view),Object(u.b)(),v=!1,_=c.event.clientX,m=c.event.clientY,t("start"))}}function n(){if(Object(u.a)(),!v){var t=c.event.clientX-_,e=c.event.clientY-m;v=t*t+e*e>I}E.mouse("drag")}function d(){Object(c.select)(c.event.view).on("mousemove.drag mouseup.drag",null),Object(l.b)(c.event.view,v),Object(u.a)(),E.mouse("end")}function f(){if(w.apply(this,arguments)){var t,e,n=c.event.changedTouches,i=C.apply(this,arguments),r=n.length;for(t=0;t<r;++t)(e=b(n[t].identifier,i,c.touch,this,arguments))&&(Object(u.b)(),e("start"))}}function p(){var t,e,n=c.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=E[n[t].identifier])&&(Object(u.a)(),e("drag"))}function g(){var t,e,n=c.event.changedTouches,i=n.length;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),t=0;t<i;++t)(e=E[n[t].identifier])&&(Object(u.b)(),e("end"))}function b(e,n,i,r,o){var a,s,l,u=i(n,e),A=M.copy();if(Object(c.customEvent)(new h.a(t,"beforestart",a,e,k,u[0],u[1],0,0,A),function(){return null!=(c.event.subject=a=B.apply(r,o))&&(s=a.x-u[0]||0,l=a.y-u[1]||0,!0)}))return function d(f){var p,g=u;switch(f){case"start":E[e]=d,p=k++;break;case"end":delete E[e],--k;case"drag":u=i(n,e),p=k}Object(c.customEvent)(new h.a(t,f,a,e,p,u[0]+s,u[1]+l,u[0]-g[0],u[1]-g[1],A),A.apply,A,[f,r,o])}}var _,m,v,y,w=i,C=r,B=o,x=a,E={},M=Object(s.a)("start","drag","end"),k=0,I=0;return t.filter=function(e){return arguments.length?(w="function"==typeof e?e:Object(A.a)(!!e),t):w},t.container=function(e){return arguments.length?(C="function"==typeof e?e:Object(A.a)(e),t):C},t.subject=function(e){return arguments.length?(B="function"==typeof e?e:Object(A.a)(e),t):B},t.touchable=function(e){return arguments.length?(x="function"==typeof e?e:Object(A.a)(!!e),t):x},t.on=function(){var e=M.on.apply(M,arguments);return e===M?t:e},t.clickDistance=function(e){return arguments.length?(I=(e=+e)*e,t):Math.sqrt(I)},t}},function(t,e,n){"use strict";function i(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new r(i)}function r(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function a(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function s(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=c,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}var c={value:function(){}};r.prototype=i.prototype={constructor:r,on:function(t,e){var n,i=this._,r=o(t+"",i),c=-1,l=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<l;)if(n=(t=r[c]).type)i[n]=s(i[n],t.name,e);else if(null==e)for(n in i)i[n]=s(i[n],t.name,null);return this}for(;++c<l;)if((n=(t=r[c]).type)&&(n=a(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new r(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}},e.a=i},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=c,this._=l}e.a=i,i.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){var i=n(163);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container .picker{top:35px;margin-left:-7px;position:absolute;user-select:none}.escher-container .pickerBox{position:absolute;cursor:pointer;background:rgba(0,0,0,.375);width:14px;height:35px;top:-35px}.escher-container .scaleTrack .rightOptions{position:absolute;left:-76px}.escher-container .pickerOptions{box-shadow:0 2px 14px #c5c5c5;margin-top:1px;display:inline-flex;flex-direction:column;width:90px}.escher-container .pickerOptions *{font-size:12px}.escher-container .pickerOptions .option{padding:3px 0}.escher-container .pickerOptions .typePicker{width:20px;position:absolute;left:70px;top:1px;right:0;height:14px;background-color:#e8e8e8}.escher-container .pickerOptions .colorOptions{display:inline-flex}.escher-container .colorOptions .colorText{padding:3px 0;width:-webkit-fill-available}.escher-container .colorOptions .colorWheel{padding:0 2px;position:absolute;right:0;width:24px}.escher-container .picker .trashDiv{position:absolute;top:-56px;font-size:17px}.escher-container .picker .trashDiv *{font-size:17px;cursor:pointer}.escher-container .picker .icon-trash-empty{margin:-5px}.escher-container .scaleEditor :disabled{background:#f1ecfa}.escher-container .scaleEditor input[type=color]:disabled{margin-top:1px}","",{version:3,sources:["/Users/zaking/repos/escher/src/Picker.css"],names:[],mappings:"AAAA,0BACE,SAAU,AACV,iBAAkB,AAClB,kBAAmB,AACnB,gBAAkB,CACnB,AAED,6BACE,kBAAmB,AACnB,eAAgB,AAChB,4BAAiC,AACjC,WAAY,AACZ,YAAa,AACb,SAAU,CACX,AAED,4CACE,kBAAmB,AACnB,UAAY,CACb,AAED,iCACE,8BAA+B,AAC/B,eAAgB,AAChB,oBAAqB,AACrB,sBAAuB,AACvB,UAAY,CACb,AAED,mCACE,cAAgB,CACjB,AAED,yCACE,aAAiB,CAClB,AAED,6CACE,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,QAAS,AACT,QAAW,AACX,YAAa,AACb,wBAAqC,CACtC,AAED,+CACE,mBAAqB,CACtB,AAED,2CACE,cAAiB,AACjB,4BAA8B,CAC/B,AAED,4CACE,cAAiB,AACjB,kBAAmB,AACnB,QAAS,AACT,UAAW,CACZ,AAED,oCACE,kBAAmB,AACnB,UAAW,AACX,cAAgB,CACjB,AAED,sCACE,eAAgB,AAChB,cAAgB,CACjB,AAED,4CACE,WAAa,CACd,AAED,yCACE,kBAAoB,CACrB,AAED,0DACE,cAAgB,CACjB",file:"Picker.css",sourcesContent:[".escher-container .picker {\n  top: 35px;\n  margin-left: -7px;\n  position: absolute;\n  user-select: none;\n}\n\n.escher-container .pickerBox {\n  position: absolute;\n  cursor: pointer;\n  background: rgba(0, 0, 0, 0.375);\n  width: 14px;\n  height: 35px;\n  top: -35px\n}\n\n.escher-container .scaleTrack .rightOptions {\n  position: absolute;\n  left: -76px;\n}\n\n.escher-container .pickerOptions {\n  box-shadow: 0 2px 14px #c5c5c5;\n  margin-top: 1px;\n  display: inline-flex;\n  flex-direction: column;\n  width: 90px;\n}\n\n.escher-container .pickerOptions * {\n  font-size: 12px;\n}\n\n.escher-container .pickerOptions .option {\n  padding: 3px 0px;\n}\n\n.escher-container .pickerOptions .typePicker {\n  width: 20px;\n  position: absolute;\n  left: 70px;\n  top: 1px;\n  right: 0px;\n  height: 14px;\n  background-color: rgb(232, 232, 232);\n}\n\n.escher-container .pickerOptions .colorOptions {\n  display: inline-flex;\n}\n\n.escher-container .colorOptions .colorText {\n  padding: 3px 0px;\n  width: -webkit-fill-available;\n}\n\n.escher-container .colorOptions .colorWheel {\n  padding: 0px 2px;\n  position: absolute;\n  right: 0;\n  width: 24px\n}\n\n.escher-container .picker .trashDiv {\n  position: absolute;\n  top: -56px;\n  font-size: 17px;\n}\n\n.escher-container .picker .trashDiv * {\n  font-size: 17px;\n  cursor: pointer;\n}\n\n.escher-container .picker .icon-trash-empty {\n  margin: -5px;\n}\n\n.escher-container .scaleEditor :disabled {\n  background: #f1ecfa;\n}\n\n.escher-container .scaleEditor input[type=color]:disabled {\n  margin-top: 1px;\n}\n"],sourceRoot:""}])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){"use strict";(function(e){var n=function(t,n,i,r,o,a,s,c){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,r,o,a,s,c],A=0;l=new Error(n.replace(/%s/g,function(){return u[A++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=n}).call(e,n(166))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(A===clearTimeout)return clearTimeout(t);if((A===i||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(t);try{return A(t)}catch(e){try{return A.call(null,t)}catch(e){return A.call(this,t)}}}function a(){p&&d&&(p=!1,d.length?f=d.concat(f):g=-1,f.length&&s())}function s(){if(!p){var t=r(a);p=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,p=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,A,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{A="function"==typeof clearTimeout?clearTimeout:i}catch(t){A=i}}();var d,f=[],p=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||p||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){var i=n(168);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container .scaleEditor *{font-size:12px;color:#777;box-sizing:border-box}.escher-container .scaleEditor{position:relative;display:flex;justify-content:center;flex-direction:column}.escher-container .scaleTrack{position:relative;display:flex;height:30px;margin-bottom:9px;margin-top:30px;margin-left:55px;font-size:15px;user-select:none}.escher-container .scaleTrack.disabled{background:#f1ecfa;color:#b19ec0;padding:4px 0;justify-content:center}.escher-container .gradient{position:absolute;width:100%;height:100%;cursor:pointer}.escher-container .scaleLabels{display:inline-flex;flex-direction:column;font-size:12px}.escher-container .scaleLabels label{margin-bottom:6px}.escher-container .noDataStyle{position:relative;margin-top:10px}.escher-container .noDataStyle .styleHeader{font-size:12px;font-weight:700}.escher-container .noDataStyle label{margin-right:5px}.escher-container .noDataStyle input[type=text]{margin-right:10px;padding:3px 0;width:86px}.escher-container .noDataStyle input[type=color]{position:absolute;padding:0 2px;border:1px solid #a9a9a9;margin-left:-34px;height:23px;width:24px}.escher-container .scaleEditor .icon-plus{cursor:pointer;position:absolute;font-size:14px;right:19px}","",{version:3,sources:["/Users/zaking/repos/escher/src/ScaleSlider.css"],names:[],mappings:"AAAA,iCACE,eAAgB,AAChB,WAAY,AACZ,qBAAuB,CACxB,AAED,+BACE,kBAAmB,AACnB,aAAc,AACd,uBAAwB,AACxB,qBAAuB,CACxB,AAED,8BACE,kBAAmB,AACnB,aAAc,AACd,YAAa,AACb,kBAAmB,AACnB,gBAAiB,AACjB,iBAAkB,AAClB,eAAgB,AAChB,gBAAkB,CACnB,AAED,uCACE,mBAAoB,AACpB,cAAe,AACf,cAAe,AACf,sBAAwB,CACzB,AAED,4BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,cAAgB,CACjB,AAED,+BACE,oBAAqB,AACrB,sBAAuB,AACvB,cAAgB,CACjB,AAED,qCACE,iBAAmB,CACpB,AAED,+BACE,kBAAmB,AACnB,eAAiB,CAClB,AAED,4CACE,eAAgB,AAChB,eAAkB,CACnB,AAED,qCACE,gBAAkB,CACnB,AAED,gDACE,kBAAmB,AACnB,cAAiB,AACjB,UAAY,CACb,AAED,iDACE,kBAAmB,AACnB,cAAiB,AACjB,yBAA2B,AAC3B,kBAAmB,AACnB,YAAa,AACb,UAAY,CACb,AAED,0CACE,eAAgB,AAChB,kBAAmB,AACnB,eAAgB,AAChB,UAAY,CACb",file:"ScaleSlider.css",sourcesContent:[".escher-container .scaleEditor * {\n  font-size: 12px;\n  color: #777;\n  box-sizing: border-box;\n}\n\n.escher-container .scaleEditor {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.escher-container .scaleTrack {\n  position: relative;\n  display: flex;\n  height: 30px;\n  margin-bottom: 9px;\n  margin-top: 30px;\n  margin-left: 55px;\n  font-size: 15px;\n  user-select: none;\n}\n\n.escher-container .scaleTrack.disabled {\n  background: #f1ecfa;\n  color: #b19ec0;\n  padding: 4px 0;\n  justify-content: center;\n}\n\n.escher-container .gradient {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n\n.escher-container .scaleLabels {\n  display: inline-flex;\n  flex-direction: column;\n  font-size: 12px;\n}\n\n.escher-container .scaleLabels label {\n  margin-bottom: 6px;\n}\n\n.escher-container .noDataStyle {\n  position: relative;\n  margin-top: 10px;\n}\n\n.escher-container .noDataStyle .styleHeader {\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.escher-container .noDataStyle label {\n  margin-right: 5px;\n}\n\n.escher-container .noDataStyle input[type=text] {\n  margin-right: 10px;\n  padding: 3px 0px;\n  width: 86px;\n}\n\n.escher-container .noDataStyle input[type=color] {\n  position: absolute;\n  padding: 0px 2px;\n  border: 1px solid darkgrey;\n  margin-left: -34px;\n  height: 23px;\n  width: 24px;\n}\n\n.escher-container .scaleEditor .icon-plus {\n  cursor: pointer;\n  position: absolute;\n  font-size: 14px;\n  right: 19px;\n}\n"],sourceRoot:""}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(3),s=function(t){function e(n){i(this,e);var o=r(this,t.call(this,n)),a=[];if(n.scale)for(var s=0;s<n.scale.length;s++)a.push(n.scale[s].color);return o.state={colors:a},o}return o(e,t),e.prototype.render=function(){var t=this;return(0,a.h)("div",{className:"scaleSelection",onClick:function(){return t.props.onClick()}},(0,a.h)("div",{className:"scaleName"},this.props.name),(0,a.h)("div",{className:"scaleColors"},this.state.colors.map(function(t){return(0,a.h)("i",{className:"icon-blank",style:{color:t}})})))},e}(a.Component);e.default=s},function(t,e,n){var i=n(171);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container .settingsBackground{box-sizing:border-box;position:absolute;top:0;left:0;width:100%;height:100%;z-index:9;background:rgba(0,0,0,.4);padding:5% 0 80px;text-align:center}.escher-container .scale-editor .domain-input{color:#333}.escher-container .settingsBoxContainer button{position:absolute;top:5px;right:20px;z-index:10;text-align:center;vertical-align:middle;font-weight:400!important;width:34px;height:30px;margin:0;padding:unset;font-size:14px!important;border-radius:3px;-ms-touch-action:none;touch-action:none}.escher-container .settingsBoxContainer button:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}.escher-container .settingsBoxContainer .discardChanges{right:60px}.escher-container .settingsBoxContainer{color:#777;display:inline-block;position:relative;width:90%;max-width:520px;height:100%;z-index:10}.escher-container .settingsBox{font-size:13px;box-sizing:border-box;display:inline-block;max-height:100%;width:100%;overflow-y:scroll;overflow-x:hidden;background:hsla(0,0%,100%,.953);padding:8px;margin:0;border:1px solid #ddd;text-align:left}.escher-container .settingsBox *{box-sizing:border-box}.escher-container .settingsBox .title{font-size:17px;font-weight:700;color:#777}.escher-container .settingsBox .subheading{font-size:13px;font-weight:700;margin-top:15px;color:#777}.escher-container .settingsBox table{border-collapse:collapse}.escher-container .settingsBox .radioSelection{cursor:default}.escher-container .radioSelection td{padding:3px 5px}.escher-container .radioSelection input[type=radio]{margin:0;margin-top:4px;margin-right:4px}.escher-container .radioSelection .optionLabel{width:88px}.escher-container .radioSelection .optionLabelWide{width:192px}.escher-container .radioSelection .optionGroup{margin-right:10px}.escher-container .settingsBox .singleLine{display:flex}.escher-container .settingsContainer label{display:block;margin-bottom:0}.escher-container .settingsBoxContainer input[type=checkbox]{margin:0;margin-top:4px;margin-right:4px}.escher-container .settingsTip{font-size:13px}.escher-container .settingsBoxContainer hr{margin:18px 0;border:0;border-top:1px solid #ddd}.escher-container .scaleTitle{margin-top:15px;display:flex;justify-content:space-between}.escher-container .selector{position:relative;user-select:none;padding-top:2px}.escher-container .selectorTitle{background-color:#fff;border:1px solid #a9a9a9;padding-left:4px;cursor:default;width:162px}.escher-container .selectorTitle:hover:not(.disabled){border-color:#000}.escher-container .selectorTitle.disabled{background-color:#f1ecfa}.escher-container .selectorMenu{position:absolute;z-index:4;background-color:#fff;border:1px solid #a9a9a9;min-width:162px}.escher-container .scaleSelection{cursor:default;padding:0 6px;display:flex;justify-content:space-between}.escher-container .scaleSelection:hover{background-color:#1e90ff;color:#fff}.escher-container .icon-blank{margin:-3px}.escher-container .scaleName{margin-right:15px}.escher-container .settingsBox .icon-sort-down{position:absolute;top:0}.escher-container .settingsBox .tooltipOption{margin-left:10px}","",{version:3,sources:["/Users/zaking/repos/escher/src/BuilderSettingsMenu.css"],names:[],mappings:"AAAA,sCACE,sBAAuB,AACvB,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,UAAW,AACX,0BAA2B,AAC3B,kBAAmB,AACnB,iBAAmB,CACpB,AAED,8CACE,UAAY,CACb,AAED,+CACE,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,WAAY,AACZ,kBAAmB,AACnB,sBAAuB,AACvB,0BAA8B,AAC9B,WAAY,AACZ,YAAa,AACb,SAAU,AACV,cAAe,AACf,yBAA0B,AAC1B,kBAAmB,AACnB,sBAAuB,AACvB,iBAAmB,CACpB,AAED,sDACE,4DAAgE,CACjE,AAED,wDACE,UAAY,CACb,AAED,wCACE,WAA0B,AAC1B,qBAAsB,AACtB,kBAAmB,AACnB,UAAW,AACX,gBAAiB,AACjB,YAAa,AACb,UAAY,CACb,AAED,+BACE,eAAgB,AAChB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAiB,AACjB,WAAY,AACZ,kBAAmB,AACnB,kBAAmB,AACnB,gCAAuC,AACvC,YAAa,AACb,SAAU,AACV,sBAAuB,AACvB,eAAiB,CAClB,AAED,iCACE,qBAAuB,CACxB,AAED,sCACE,eAAgB,AAChB,gBAAiB,AACjB,UAAe,CAChB,AAED,2CACE,eAAgB,AAChB,gBAAiB,AACjB,gBAAiB,AACjB,UAAe,CAChB,AAED,qCACE,wBAA0B,CAC3B,AAED,+CACE,cAAgB,CACjB,AAED,qCACE,eAAiB,CAClB,AAED,oDACE,SAAU,AACV,eAAgB,AAChB,gBAAkB,CACnB,AAED,+CACE,UAAY,CACb,AAED,mDACE,WAAa,CACd,AAED,+CACE,iBAAkB,CACnB,AAED,2CACE,YAAc,CACf,AAED,2CACE,cAAe,AACf,eAAiB,CAClB,AAED,6DACE,SAAU,AACV,eAAgB,AAChB,gBAAkB,CACnB,AAED,+BACE,cAAgB,CACjB,AAED,2CACE,cAAe,AACf,SAAU,AACV,yBAA8B,CAC/B,AAED,8BACE,gBAAiB,AACjB,aAAc,AACd,6BAA+B,CAChC,AAED,4BACE,kBAAmB,AACnB,iBAAkB,AAClB,eAAiB,CAClB,AAED,iCACE,sBAAwB,AACxB,yBAA0B,AAC1B,iBAAkB,AAClB,eAAgB,AAChB,WAAa,CACd,AAED,sDACE,iBAAoB,CACrB,AAED,0CACE,wBAA0B,CAC3B,AAED,gCACE,kBAAmB,AACnB,UAAW,AACX,sBAAwB,AACxB,yBAA0B,AAC1B,eAAiB,CAClB,AAED,kCACE,eAAgB,AAChB,cAAe,AACf,aAAc,AACd,6BAA+B,CAChC,AAED,wCACE,yBAA6B,AAC7B,UAAa,CACd,AAED,8BACE,WAAkB,CACnB,AAED,6BACE,iBAAmB,CACpB,AAED,+CACE,kBAAmB,AACnB,KAAO,CACR,AAED,8CACE,gBAAkB,CACnB",file:"BuilderSettingsMenu.css",sourcesContent:[".escher-container .settingsBackground {\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9;\n  background: rgba(0,0,0,.4);\n  padding: 5% 0 80px;\n  text-align: center;\n}\n\n.escher-container .scale-editor .domain-input {\n  color: #333;\n}\n\n.escher-container .settingsBoxContainer button {\n  position: absolute;\n  top: 5px;\n  right: 20px;\n  z-index: 10;\n  text-align: center;\n  vertical-align: middle;\n  font-weight: normal!important;\n  width: 34px;\n  height: 30px;\n  margin: 0;\n  padding: unset;\n  font-size: 14px!important;\n  border-radius: 3px;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n.escher-container .settingsBoxContainer button:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .settingsBoxContainer .discardChanges {\n  right: 60px;\n}\n\n.escher-container .settingsBoxContainer {\n  color: rgb(119, 119, 119);\n  display: inline-block;\n  position: relative;\n  width: 90%;\n  max-width: 520px;\n  height: 100%;\n  z-index: 10;\n}\n\n.escher-container .settingsBox {\n  font-size: 13px;\n  box-sizing: border-box;\n  display: inline-block;\n  max-height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background: rgba(255, 255, 255, 0.953);\n  padding: 8px;\n  margin: 0;\n  border: 1px solid #ddd;\n  text-align: left;\n}\n\n.escher-container .settingsBox * {\n  box-sizing: border-box;\n}\n\n.escher-container .settingsBox .title {\n  font-size: 17px;\n  font-weight: 700;\n  color: #777777;\n}\n\n.escher-container .settingsBox .subheading {\n  font-size: 13px;\n  font-weight: 700;\n  margin-top: 15px;\n  color: #777777;\n}\n\n.escher-container .settingsBox table {\n  border-collapse: collapse;\n}\n\n.escher-container .settingsBox .radioSelection {\n  cursor: default;\n}\n\n.escher-container .radioSelection td {\n  padding: 3px 5px;\n}\n\n.escher-container .radioSelection input[type=radio] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .radioSelection .optionLabel {\n  width: 88px;\n}\n\n.escher-container .radioSelection .optionLabelWide {\n  width: 192px;\n}\n\n.escher-container .radioSelection .optionGroup {\n  margin-right: 10px\n}\n\n.escher-container .settingsBox .singleLine {\n  display: flex;\n}\n\n.escher-container .settingsContainer label {\n  display: block;\n  margin-bottom: 0;\n}\n\n.escher-container .settingsBoxContainer input[type=checkbox] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .settingsTip {\n  font-size: 13px;\n}\n\n.escher-container .settingsBoxContainer hr {\n  margin: 18px 0;\n  border: 0;\n  border-top: 1px solid #dddddd;\n}\n\n.escher-container .scaleTitle {\n  margin-top: 15px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .selector {\n  position: relative;\n  user-select: none;\n  padding-top: 2px;\n}\n\n.escher-container .selectorTitle {\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  padding-left: 4px;\n  cursor: default;\n  width: 162px;\n}\n\n.escher-container .selectorTitle:hover:not(.disabled) {\n  border-color: black;\n}\n\n.escher-container .selectorTitle.disabled {\n  background-color: #f1ecfa;\n}\n\n.escher-container .selectorMenu {\n  position: absolute;\n  z-index: 4;\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  min-width: 162px;\n}\n\n.escher-container .scaleSelection {\n  cursor: default;\n  padding: 0 6px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .scaleSelection:hover {\n  background-color: dodgerblue;\n  color: white;\n}\n\n.escher-container .icon-blank {\n  margin: -3px -3px;\n}\n\n.escher-container .scaleName {\n  margin-right: 15px;\n}\n\n.escher-container .settingsBox .icon-sort-down {\n  position: absolute;\n  top: 0;\n}\n\n.escher-container .settingsBox .tooltipOption {\n  margin-left: 10px;\n}\n"],sourceRoot:""}])},function(t,e,n){"use strict";e.__esModule=!0;var i={GaBuGeRd:[{type:"min",color:"#c8c8c8",size:12},{type:"value",value:.01,color:"#9696ff",size:16},{type:"value",value:20,color:"#209123",size:20},{type:"max",color:"#ff0000",size:25}],GaBuRd:[{type:"min",color:"#c8c8c8",size:12},{type:"median",color:"#9696ff",size:20},{type:"max",color:"#ff0000",size:25}],RdYlBu:[{type:"min",color:"#d7191c",size:12},{type:"median",color:"#ffffbf",size:20},{type:"max",color:"#2c7bb6",size:25}],GeGaRd:[{type:"min",color:"#209123",size:25},{type:"value",value:0,color:"#c8c8c8",size:12},{type:"max",color:"#ff0000",size:25}]};e.default=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(3);n(174);var s=function(t){function e(){return i(this,e),r(this,t.apply(this,arguments))}return o(e,t),e.prototype.render=function(){var t=this;return(0,a.h)("ul",{className:"buttonPanel"},(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return t.props.zoomContainer.zoom_in()},title:"Zoom in (+)"},(0,a.h)("i",{className:"icon-zoom-in"}))),(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return t.props.zoomContainer.zoom_out()},title:"Zoom out (-)"},(0,a.h)("i",{className:"icon-zoom-out"}))),(0,a.h)("li",{style:this.props.all?{display:"block"}:{display:"none"}},(0,a.h)("button",{className:"button btn",onClick:function(){return t.props.map.zoom_extent_canvas()},title:"Zoom to canvas (1)"},(0,a.h)("i",{className:"icon-resize-full"}))),(0,a.h)("li",{style:this.props.fullscreen?{display:"block"}:{display:"none"}},(0,a.h)("button",{className:"button btn",onClick:function(){return t.props.map.full_screen()},title:"Toggle full screen view (2)"},(0,a.h)("i",{className:"icon-resize-full-alt"}))),(0,a.h)("li",{className:"grouping",style:this.props.all&&this.props.enableEditing?{display:"block"}:{display:"none"}},(0,a.h)("button",{className:"buttonGroup btn",title:"Pan mode (Z)",for:"zoom",id:"zoom"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("zoom")}},(0,a.h)("i",{className:"icon-move"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Select mode (V)",for:"brush",id:"brush"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("brush")}},(0,a.h)("i",{className:"icon-mouse-pointer"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Add reaction mode (N)",for:"build",onClick:function(){return t.props.setMode("build")},id:"build"===this.props.mode?"currentMode":null},(0,a.h)("i",{className:"icon-wrench"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Rotate mode (R)",for:"rotate",id:"rotate"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("rotate")}},(0,a.h)("i",{className:"icon-cw"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Text mode (T)",for:"text",id:"text"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("text")}},(0,a.h)("i",{className:"icon-font"}))),(0,a.h)("li",{className:"grouping",style:"build"===this.props.mode&&this.props.all&&this.props.enableEditing?{display:"block"}:{display:"none"}},(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow (←)",onClick:function(){return t.props.buildInput.direction_arrow.left()}},(0,a.h)("i",{className:"icon-left-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow (→)",onClick:function(){return t.props.buildInput.direction_arrow.right()}},(0,a.h)("i",{className:"icon-right-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow (↑)",onClick:function(){return t.props.buildInput.direction_arrow.up()}},(0,a.h)("i",{className:"icon-up-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow (↓)",onClick:function(){return t.props.buildInput.direction_arrow.down()}},(0,a.h)("i",{className:"icon-down-big"}))))},e}(a.Component);e.default=s},function(t,e,n){var i=n(175);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container .buttonPanel *{box-sizing:border-box}.escher-container .buttonPanel{position:absolute;left:4px;top:20%;margin-top:-32px;padding-left:0;-ms-touch-action:none;touch-action:none}.escher-container .buttonPanel>li{margin-top:5px}.escher-container .grouping{display:block}.escher-container .buttonGroup{display:block;margin-bottom:-1px;padding:5px 0;border-radius:0}.escher-container .grouping>.buttonGroup:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.escher-container .grouping>.buttonGroup:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.escher-container .buttonPanel>.grouping:last-child{margin-top:4px}.escher-container #currentMode{background-image:linear-gradient(#8f4f3f,#834c3c 6%,#8d3a2d)}.escher-container .buttonGroup.btn{margin-top:-1px}.escher-container .button{border-radius:4px}.escher-container .button.btn,.escher-container .buttonGroup.btn{padding:unset;color:#fff!important;border:1px solid #474949;background-image:linear-gradient(#4f5151,#474949 6%,#3f4141);background-color:#fff;text-align:center;vertical-align:middle;cursor:pointer;font-size:14px!important;font-weight:400;width:40px;height:40px}.escher-container .buttonGroup label:active,.escher-container .buttonPanel .button:active,.escher-container .buttonPanel .buttonGroup:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}.escher-container .buttonPanel .fa{font-size:24px}.escher-container .buttonPanel [class^=icon-]{font-size:23px}","",{version:3,sources:["/Users/zaking/repos/escher/src/ButtonPanel.css"],names:[],mappings:"AAAA,iCACE,qBAAuB,CACxB,AAED,+BACE,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,iBAAkB,AAClB,eAAgB,AAChB,sBAAuB,AACvB,iBAAmB,CACpB,AAED,kCACE,cAAgB,CACjB,AAED,4BACE,aAAe,CAChB,AAED,+BACE,cAAe,AACf,mBAAoB,AACpB,cAAiB,AACjB,eAAiB,CAClB,AAED,qDACE,2BAA4B,AAC5B,2BAA6B,CAC9B,AAED,oDACE,8BAA+B,AAC/B,8BAAgC,CACjC,AAED,oDACE,cAAgB,CACjB,AAED,+BACE,4DAA8D,CAC/D,AAED,mCACE,eAAiB,CAClB,AAED,0BACE,iBAAmB,CACpB,AAED,iEACE,cAAe,AACf,qBAAuB,AACvB,yBAA0B,AAC1B,6DAAgE,AAChE,sBAAwB,AACxB,kBAAmB,AACnB,sBAAuB,AACvB,eAAgB,AAChB,yBAA0B,AAC1B,gBAAiB,AACjB,WAAY,AACZ,WAAa,CACd,AAED,6IACE,4DAAgE,CACjE,AAED,mCACE,cAAgB,CACjB,AAGD,8CACE,cAAgB,CACjB",file:"ButtonPanel.css",sourcesContent:[".escher-container .buttonPanel * {\n  box-sizing: border-box;\n}\n\n.escher-container .buttonPanel {\n  position: absolute;\n  left: 4px;\n  top: 20%;\n  margin-top: -32px;\n  padding-left: 0;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n.escher-container .buttonPanel>li {\n  margin-top: 5px;\n}\n\n.escher-container .grouping {\n  display: block;\n}\n\n.escher-container .buttonGroup {\n  display: block;\n  margin-bottom: -1px;\n  padding: 5px 0px;\n  border-radius: 0;\n}\n\n.escher-container .grouping>.buttonGroup:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\n.escher-container .grouping>.buttonGroup:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.escher-container .buttonPanel>.grouping:last-child {\n  margin-top: 4px;\n}\n\n.escher-container #currentMode {\n  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d);\n}\n\n.escher-container .buttonGroup.btn {\n  margin-top: -1px;\n}\n\n.escher-container .button {\n  border-radius: 4px;\n}\n\n.escher-container .button.btn, .escher-container .buttonGroup.btn {\n  padding: unset;\n  color: white!important;\n  border: 1px solid #474949;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px!important;\n  font-weight: 400;\n  width: 40px;\n  height: 40px;\n}\n\n.escher-container .buttonPanel .button:active, .escher-container .buttonGroup label:active, .escher-container .buttonPanel .buttonGroup:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .buttonPanel .fa {\n  font-size: 24px;\n}\n\n/* Icons */\n.escher-container .buttonPanel [class^='icon-'] {\n  font-size: 23px;\n}\n"],sourceRoot:""}])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(3),c=n(177),l=i(c),u=n(180),A=i(u),h=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.componentDidMount=function(){var t=this;this.props.sel.selectAll("#canvas").on("touchend",function(){return t.setState({visible:!1})}),this.props.sel.selectAll("#canvas").on("click",function(){return t.setState({visible:!1})})},e.prototype.render=function(){var t=this;return(0,s.h)("ul",{className:"menuBar"},(0,s.h)(l.default,{name:"Map",visible:this.state.visible},(0,s.h)(A.default,{name:"Save map JSON"+(this.props.enable_keys?" (Ctrl+S)":""),onClick:function(){return t.props.saveMap()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Load map JSON"+(this.props.enable_keys?" (Ctrl+O)":""),onClick:function(e){return t.props.loadMap(e)},type:"load",disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Export as SVG"+(this.props.enable_keys?" (Ctrl+Shift+S)":""),onClick:function(){return t.props.saveSvg()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Export as PNG"+(this.props.enable_keys?" (Ctrl+Shift+P)":""),onClick:function(){return t.props.savePng()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Clear map",onClick:function(){return t.props.clearMap()},disabledButtons:this.props.disabled_buttons})),(0,s.h)(l.default,{name:"Model",visible:this.state.visible},(0,s.h)(A.default,{name:"Load COBRA model JSON"+(this.props.enable_keys?" (Ctrl+M)":""),onClick:function(e){return t.props.loadModel(e)},type:"load",disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Update names and gene reaction rules using model",onClick:function(){return t.props.updateRules()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Clear model",onClick:function(){return t.props.loadModel(null)},disabledButtons:this.props.disabled_buttons})),(0,s.h)(l.default,{name:"Data",visible:this.state.visible},(0,s.h)(A.default,{name:"Load reaction data",onClick:function(e){return t.props.loadReactionData(e)},type:"load",disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Clear reaction data",onClick:function(){return t.props.loadReactionData(null)},disabledButtons:this.props.disabled_buttons}),(0,s.h)("li",{name:"divider"}),(0,s.h)(A.default,{name:"Load gene data",onClick:function(e){return t.props.loadGeneData(e)},type:"load",disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Clear gene data",onClick:function(){return t.props.loadGeneData(null)},disabledButtons:this.props.disabled_buttons}),(0,s.h)("li",{name:"divider"}),(0,s.h)(A.default,{name:"Load metabolite data",onClick:function(e){return t.props.loadMetaboliteData(e)},type:"load",disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Clear metabolite data",onClick:function(){return t.props.loadMetaboliteData(null)},disabledButtons:this.props.disabled_buttons})),(0,s.h)(l.default,{name:"Edit",rightMenu:"true",visible:this.state.visible,disabledEditing:!this.props.enable_editing},(0,s.h)(A.default,{name:"Pan mode"+(this.props.enable_keys?" (Z)":""),modeName:"zoom",mode:this.props.mode,onClick:function(){return t.props.setMode("zoom")},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Select mode"+(this.props.enable_keys?" (V)":""),modeName:"brush",mode:this.props.mode,onClick:function(){return t.props.setMode("brush")},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Add reaction mode"+(this.props.enable_keys?" (N)":""),modeName:"build",mode:this.props.mode,onClick:function(){return t.props.setMode("build")},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Rotate mode"+(this.props.enable_keys?" (R)":""),modeName:"rotate",mode:this.props.mode,onClick:function(){return t.props.setMode("rotate")},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Text mode"+(this.props.enable_keys?" (T)":""),modeName:"text",mode:this.props.mode,onClick:function(){return t.props.setMode("text")},disabledButtons:this.props.disabled_buttons}),(0,s.h)("li",{name:"divider"}),(0,s.h)(A.default,{name:"Delete"+(this.props.enable_keys?" (Del)":""),onClick:function(){return t.props.deleteSelected()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Undo"+(this.props.enable_keys?" (Ctrl+Z)":""),onClick:function(){return t.props.undo()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Redo"+(this.props.enable_keys?" (Ctrl+Shift+Z)":""),onClick:function(){return t.props.redo()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Toggle primary/secondary"+(this.props.enable_keys?" (P)":""),onClick:function(){return t.props.togglePrimary()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Rotate reactant locations"+(this.props.enable_keys?" (C)":""),onClick:function(){return t.props.cyclePrimary()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Select all"+(this.props.enable_keys?" (Ctrl+A)":""),onClick:function(){return t.props.selectAll()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Select none"+(this.props.enable_keys?" (Ctrl+Shift+A)":""),onClick:function(){return t.props.selectNone()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Invert selection",onClick:function(){return t.props.invertSelection()},disabledButtons:this.props.disabled_buttons})),(0,s.h)(l.default,{name:"View",rightMenu:"true",visible:this.state.visible},(0,s.h)(A.default,{name:"Zoom in"+(this.props.enable_keys?" (+)":""),onClick:function(){return t.props.zoomIn()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Zoom out"+(this.props.enable_keys?" (-)":""),onClick:function(){return t.props.zoomOut()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Zoom to nodes"+(this.props.enable_keys?" (0)":""),onClick:function(){return t.props.zoomExtentNodes()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Zoom to canvas"+(this.props.enable_keys?" (1)":""),onClick:function(){return t.props.zoomExtentCanvas()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:"Find"+(this.props.enable_keys?" (F)":""),onClick:function(){return t.props.search()},disabledButtons:this.props.disabled_buttons}),(0,s.h)(A.default,{name:this.props.beziers_enabled?"Hide control points"+(this.props.enable_keys?" (B)":""):"Show control points"+(this.props.enable_keys?" (B)":""),onClick:function(){t.props.toggleBeziers(),t.props.setMode(t.props.mode)},disabledButtons:this.props.disabled_buttons}),(0,s.h)("li",{name:"divider"}),(0,s.h)(A.default,{name:"Settings"+(this.props.enable_keys?" (,)":""),onClick:function(){return t.props.renderSettingsMenu()},disabledButtons:this.props.disabled_buttons,type:"settings"})),(0,s.h)("a",{className:"helpButton",target:"#",href:"https://escher.readthedocs.org"},"?"))},e}(s.Component);e.default=h},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(3);n(178);var s=function(t){function e(n){i(this,e);var o=r(this,t.call(this,n));return o.state={visible:null},o.setWrapperRef=o.setWrapperRef.bind(o),o.handleClickOutside=o.handleClickOutside.bind(o),o}return o(e,t),e.prototype.componentWillMount=function(){this.setState({visible:!1})},e.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handleClickOutside)},e.prototype.componentWillReceiveProps=function(t){this.setState({visible:t.visible})},e.prototype.setWrapperRef=function(t){this.wrapperRef=t},e.prototype.handleClickOutside=function(t){this.wrapperRef&&!this.wrapperRef.contains(t.target)&&this.setState({visible:!1})},e.prototype.render=function(){var t=this;return(0,a.h)("li",{className:"dropdown",style:this.props.disabledEditing?{display:"none"}:{display:"block"}},(0,a.h)("div",{className:"dropdownButton",tabindex:"0",ref:this.setWrapperRef,onClick:function(){return t.setState({visible:!t.state.visible})}},this.props.name," ",(0,a.h)("i",{className:"icon-sort-down"})),(0,a.h)("ul",{className:"menu",style:this.state.visible?{display:"block"}:{display:"none"},id:"true"===this.props.rightMenu?"rightMenu":""},this.props.children.map(function(t){return"divider"===t.attributes.name?(0,a.h)("li",{style:{height:"1px",backgroundColor:"#e5e5e5",padding:"0",margin:"8px 0"}}):t})))},e}(a.Component);e.default=s},function(t,e,n){var i=n(179);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container .menuBar{list-style-type:none;padding:0;padding-right:20px;position:relative;margin:5px 0;background-color:#fff;border:1px solid #ddd;display:inline-flex;box-sizing:border-box;width:100%;justify-content:space-between}.escher-container .dropdown{position:relative;float:left;box-sizing:border-box;font-size:12px;border-radius:3px;margin-bottom:0;font-weight:400!important;text-align:center;vertical-align:middle;-ms-touch-action:none;touch-action:none;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.escher-container .dropdownButton{color:#d9230f!important;border:1px solid transparent;padding:6px 9px}.escher-container .helpButton{color:#d9230f!important;padding:0 5px;background-color:#f5f5f5!important;border:0!important;text-decoration:unset;height:fit-content;position:absolute;right:0;font-size:12px}.escher-container .dropdownButton:focus,.escher-container .dropdownButton:hover,.escher-container .helpButton:focus,.escher-container .helpButton:hover{color:#91170a!important;text-decoration:underline}.escher-container .menuBar .icon-sort-down{position:absolute;font-size:10px;margin-left:-5px}@media (min-width:550px){.escher-container .menuBar{padding-right:25px}.escher-container .dropdown{font-size:18px}.escher-container .dropdownButton{padding:6px 10px;padding-right:16px}.escher-container .helpButton{font-size:16px}.escher-container .menuBar .icon-sort-down{font-size:14px}}.escher-container .menu{box-sizing:border-box;font-weight:400!important;word-spacing:0;position:absolute;white-space:nowrap;top:103%;left:-1%;z-index:1000;display:block;float:none;min-width:160px;padding:5px 0;list-style:none;font-size:13px;box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box;border:1px solid #ddd;background-color:hsla(0,0%,100%,.95);border-radius:0;margin:0;text-align:left}.escher-container #rightMenu{left:auto;right:-2%}.escher-container .menu li:hover{background-color:#d9230f;color:#fff}.escher-container .menu li,.menu label{font-size:15px;display:block;font-weight:400!important;color:#444}.escher-container .menu.ul.li{background-color:hsla(0,0%,100%,.95)}.escher-container .menuButton{box-sizing:border-box;width:100%;padding:5px 20px;margin:0;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.escher-container .menuButton:hover,.escher-container label:focus,.menuButton:focus{background-color:#d9230f;color:#fff}.escher-container input[type=file]{display:none}.escher-container #disabled{color:#e0e0e0}#disabled:focus,.escher-container #disabled:hover{background-color:hsla(0,0%,100%,.95);cursor:default}","",{version:3,sources:["/Users/zaking/repos/escher/src/Dropdown.css"],names:[],mappings:"AAAA,2BAEE,qBAAsB,AACtB,UAAW,AACX,mBAAoB,AACpB,kBAAmB,AACnB,aAAgB,AAChB,sBAAwB,AACxB,sBAAuB,AACvB,oBAAqB,AACrB,sBAAuB,AACvB,WAAY,AACZ,6BAA+B,CAChC,AAED,4BACE,kBAAmB,AACnB,WAAY,AACZ,sBAAuB,AACvB,eAAgB,AAChB,kBAAmB,AACnB,gBAAiB,AACjB,0BAA8B,AAC9B,kBAAmB,AACnB,sBAAuB,AACvB,sBAAuB,AACvB,kBAAmB,AACnB,eAAgB,AAChB,2BAA4B,AAC5B,yBAA0B,AAC1B,wBAAyB,AACzB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAkB,CACnB,AAED,kCACE,wBAAyB,AACzB,6BAA8B,AAC9B,eAAiB,CAClB,AAED,8BACE,wBAAyB,AACzB,cAAiB,AACjB,mCAAoC,AACpC,mBAAoB,AACpB,sBAAuB,AACvB,mBAAoB,AACpB,kBAAmB,AACnB,QAAS,AACT,cAAgB,CACjB,AAOD,wJACE,wBAAyB,AACzB,yBAA2B,CAC5B,AAED,2CACE,kBAAmB,AACnB,eAAgB,AAChB,gBAAkB,CACnB,AAED,yBACE,2BACE,kBAAoB,CACrB,AAED,4BACE,cAAgB,CACjB,AAED,kCACE,iBAAkB,AAClB,kBAAoB,CACrB,AAED,8BACE,cAAgB,CACjB,AAED,2CACE,cAAgB,CACjB,CACF,AAED,wBACE,sBAAuB,AACvB,0BAA8B,AAC9B,eAAgB,AAChB,kBAAmB,AACnB,mBAAoB,AACpB,SAAU,AACV,SAAU,AACV,aAAc,AACd,cAAe,AACf,WAAY,AACZ,gBAAiB,AACjB,cAAe,AACf,gBAAiB,AACjB,eAAgB,AAChB,uCAAyC,AACzC,4BAA6B,AAC7B,sBAAuB,AACvB,qCAA4C,AAC5C,gBAAiB,AACjB,SAAU,AACV,eAAiB,CAClB,AAED,6BACE,UAAW,AACX,SAAW,CACZ,AAED,iCACE,yBAA0B,AAC1B,UAAe,CAChB,AAED,uCACE,eAAgB,AAChB,cAAe,AACf,0BAA8B,AAC9B,UAAe,CAChB,AAED,8BACE,oCAA4C,CAC7C,AAED,8BACE,sBAAuB,AACvB,WAAY,AACZ,iBAAkB,AAClB,SAAU,AACV,eAAgB,AAChB,2BAA4B,AAC5B,yBAA0B,AAC1B,wBAAyB,AACzB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAkB,CACnB,AAOD,oFACE,yBAA0B,AAC1B,UAAe,CAChB,AAED,mCACE,YAAc,CACf,AAED,4BACE,aAAe,CAChB,AAED,kDACE,qCAA4C,AAC5C,cAAgB,CACjB",file:"Dropdown.css",sourcesContent:['.escher-container .menuBar {\n  box-sizing: border-box;\n  list-style-type: none;\n  padding: 0;\n  padding-right: 20px;\n  position: relative;\n  margin: 5px 0px;\n  background-color: white;\n  border: 1px solid #ddd;\n  display: inline-flex;\n  box-sizing: border-box;\n  width: 100%;\n  justify-content: space-between;\n}\n\n.escher-container .dropdown {\n  position: relative;\n  float: left;\n  box-sizing: border-box;\n  font-size: 12px;\n  border-radius: 3px;\n  margin-bottom: 0;\n  font-weight: normal!important;\n  text-align: center;\n  vertical-align: middle;\n  -ms-touch-action: none;\n  touch-action: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .dropdownButton {\n  color: #d9230f!important;\n  border: 1px solid transparent;\n  padding: 6px 9px;\n}\n\n.escher-container .helpButton {\n  color: #d9230f!important;\n  padding: 0px 5px;\n  background-color: #f5f5f5!important;\n  border: 0!important;\n  text-decoration: unset;\n  height: fit-content;\n  position: absolute;\n  right: 0;\n  font-size: 12px;\n}\n\n.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .menuBar .icon-sort-down {\n  position: absolute;\n  font-size: 10px;\n  margin-left: -5px;\n}\n\n@media (min-width: 550px) {\n  .escher-container .menuBar {\n    padding-right: 25px;\n  }\n\n  .escher-container .dropdown {\n    font-size: 18px;\n  }\n\n  .escher-container .dropdownButton {\n    padding: 6px 10px;\n    padding-right: 16px;\n  }\n\n  .escher-container .helpButton {\n    font-size: 16px;\n  }\n\n  .escher-container .menuBar .icon-sort-down {\n    font-size: 14px;\n  }\n}\n\n.escher-container .menu {\n  box-sizing: border-box;\n  font-weight: normal!important;\n  word-spacing: 0;\n  position: absolute;\n  white-space: nowrap;\n  top: 103%;\n  left: -1%;\n  z-index: 1000;\n  display: block;\n  float: none;\n  min-width: 160px;\n  padding: 5px 0;\n  list-style: none;\n  font-size: 13px;\n  box-shadow: 0 6px 12px rgba(0,0,0,0.175);\n  background-clip: padding-box;\n  border: 1px solid #ddd;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-radius: 0;\n  margin: 0;\n  text-align: left;\n}\n\n.escher-container #rightMenu {\n  left: auto;\n  right: -2%;\n}\n\n.escher-container .menu li:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menu li, .menu label {\n  font-size: 15px;\n  display: block;\n  font-weight: normal!important;\n  color: #444444;\n}\n\n.escher-container .menu.ul.li {\n  background-color: rgba(255, 255, 255, 0.95);\n}\n\n.escher-container .menuButton {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px 20px;\n  margin: 0;\n  cursor: pointer;\n  -webkit-touch-callout: none; /* Prevents text selection on touch devices */\n  -webkit-user-select: none; /* Prevents text selection. Other */\n  -khtml-user-select: none; /* Prevents text selection in Chrome, Safari, Opera */\n  -moz-user-select: none; /* Prevents text selection in Firefox */\n  -ms-user-select: none; /* Prevents text selection in IE */\n  user-select: none; /* Prevents text selection. Default */\n}\n\n.escher-container label:focus, .menuButton:focus {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menuButton:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container input[type="file"] {\n  display: none;\n}\n\n.escher-container #disabled {\n  color: #e0e0e0;\n}\n\n.escher-container #disabled:hover, #disabled:focus {\n  background-color: rgba(255, 255, 255, 0.95);\n  cursor: default;\n}'],sourceRoot:""}])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(3),c=n(2),l=i(c),u=n(1),A=i(u),h=n(17),d=i(h),f=function(t){function e(n){r(this,e);var i=o(this,t.call(this,n));return i.state={disabled:l.default.contains(n.disabledButtons,n.name)},i}return a(e,t),e.prototype.handleFileInput=function(t){var e=this,n=new window.FileReader;n.onload=function(){A.default.load_json_or_csv(t,d.default.csv_converter,function(t,n){return e.props.onClick(n)})},void 0!==t&&n.readAsText(t)},e.prototype.render=function(){var t=this;return"load"===this.props.type?(0,s.h)("label",{className:"menuButton",tabindex:this.state.disabled?"-1":"0",id:this.state.disabled?"disabled":""},(0,s.h)("input",{type:"file",onChange:function(e){return t.handleFileInput(e.target.files[0])},disabled:this.state.disabled}),this.props.name):void 0!==this.props.modeName&&this.props.mode===this.props.modeName?(0,s.h)("li",{className:"menuButton",tabindex:this.state.disabled?"-1":"0",onClick:this.props.onClick,id:this.state.disabled?"disabled":""},(0,s.h)("i",{className:"icon-ok","aria-hidden":"true"}," "),this.props.name):(0,s.h)("li",{className:"menuButton",tabindex:this.state.disabled?"-1":"0",onClick:this.state.disabled?null:this.props.onClick,id:this.state.disabled?"disabled":""},this.props.name)},e}(s.Component);e.default=f},function(t,e,n){"use strict";n(40)},function(t,e,n){"use strict";function i(){}function r(t,e){var n=new i;if(t instanceof i)t.each(function(t){n.add(t)});else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}var o=n(40),a=o.a.prototype;i.prototype=r.prototype={constructor:i,has:a.has,add:function(t){return t+="",this[o.b+t]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";var i=n(26);e.a=Object(i.a)("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)})},function(t,e,n){"use strict";var i=n(26);e.a=Object(i.a)("application/json",function(t){return JSON.parse(t.responseText)})},function(t,e,n){"use strict";var i=n(26);e.a=Object(i.a)("text/plain",function(t){return t.responseText})},function(t,e,n){"use strict";var i=n(26);e.a=Object(i.a)("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})},function(t,e,n){"use strict";var i=n(41),r=n(69);e.a=Object(r.a)("text/csv",i.csvParse)},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var i=n(42),r=Object(i.a)(","),o=r.parse,a=r.parseRows,s=r.format,c=r.formatRows},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var i=n(42),r=Object(i.a)("\t"),o=r.parse,a=r.parseRows,s=r.format,c=r.formatRows},function(t,e,n){"use strict";var i=n(41),r=n(69);e.a=Object(r.a)("text/tab-separated-values",i.tsvParse)},function(t,e,n){var i,r=r||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,4e4)},u=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){c(t)}}},A=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(e,c,h){h||(e=A(e));var d,f=this,p=e.type,g="application/octet-stream"===p,b=function(){u(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,r)return d=n().createObjectURL(e),void setTimeout(function(){i.href=d,i.download=c,o(i),b(),l(d),f.readyState=f.DONE});!function(){if((s||g&&a)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,f.readyState=f.DONE,b()},i.readAsDataURL(e),void(f.readyState=f.INIT)}if(d||(d=n().createObjectURL(e)),g)t.location.href=d;else{t.open(d,"_blank")||(t.location.href=d)}f.readyState=f.DONE,b(),l(d)}()},d=h.prototype,f=function(t,e,n){return new h(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=A(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,f)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=r:null!==n(70)&&null!==n(71)&&void 0!==(i=function(){return r}.call(e,n,e,t))&&(t.exports=i)},function(t,e,n){"use strict";function i(t){return r=Object(s.a)(t),o=r.format,a=r.formatPrefix,r}n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),e.a=i;var r,o,a,s=n(72);i({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(t,e,n){"use strict";e.a=function(t,e){return function(n,i){for(var r=n.length,o=[],a=0,s=t[0],c=0;r>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),o.push(n.substring(r-=s,r+s)),!((c+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}},function(t,e,n){"use strict";e.a=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}},function(t,e,n){"use strict";e.a=function(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}},function(t,e,n){"use strict";var i=n(43);e.a=function(t,e){var n=Object(i.a)(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var i=n(28);e.a=function(t){return Math.max(0,-Object(i.a)(Math.abs(t)))}},function(t,e,n){"use strict";var i=n(28);e.a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(e)/3)))-Object(i.a)(Math.abs(t)))}},function(t,e,n){"use strict";var i=n(28);e.a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(i.a)(e)-Object(i.a)(t))+1}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(3);n(205);var c=n(2),l=function(t){return t&&t.__esModule?t:{default:t}}(c),u=function(t){function e(n){i(this,e);var o=r(this,t.call(this,n));return o.state={visible:n.visible,current:0,searchItem:n.searchItem,counter:"",clearEscape:o.props.map.key_manager.add_escape_listener(function(){return o.close()},!0),clearNext:o.props.map.key_manager.add_key_listener(["enter","ctrl+g"],function(){return o.next()},!1),clearPrevious:o.props.map.key_manager.add_key_listener(["shift+enter","shift+ctrl+g"],function(){return o.previous()},!1)},o}return o(e,t),e.prototype.componentWillReceiveProps=function(t){var e=this;this.setState(a({},t,{current:0,results:null,searchItem:t.searchItem,counter:"",clearEscape:this.props.map.key_manager.add_escape_listener(function(){return e.close()},!0),clearNext:this.props.map.key_manager.add_key_listener(["enter","ctrl+g"],function(){return e.next()},!1),clearPrevious:this.props.map.key_manager.add_key_listener(["shift+enter","shift+ctrl+g"],function(){return e.previous()},!1)})),null!==t.searchItem&&this.handleInput(t.searchItem)},e.prototype.componentDidUpdate=function(){this.inputRef.focus()},e.prototype.handleInput=function(t){if(this.state.visible){var e=this.dropDuplicates(this.props.map.search_index.find(t)),n="";if(null!==e&&t)if(0===e.length)n="0 / 0",this.props.map.highlight(null);else{this.state.current>=e.length&&this.setState({current:0}),n=this.state.current+1+"/"+e.length;var i=e[this.state.current];if("reaction"===i.type)this.props.map.zoom_to_reaction(i.reaction_id),this.props.map.highlight_reaction(i.reaction_id);else if("metabolite"===i.type)this.props.map.zoom_to_node(i.node_id),this.props.map.highlight_node(i.node_id);else{if("text_label"!==i.type)throw new Error("Bad search index data type: "+i.type);this.props.map.zoom_to_text_label(i.text_label_id),this.props.map.highlight_text_label(i.text_label_id)}}else this.props.map.highlight(null);this.setState({searchItem:t,current:0,counter:n,results:e})}},e.prototype.dropDuplicates=function(t){var e={metabolite:{type:"m",key:"node_id"},reaction:{type:"r",key:"reaction_id"},text_label:{type:"t",key:"text_label_id"}};return l.default.uniq(t,function(t){var n=e[t.type];return""+n.type+t[n.key]})},e.prototype.next=function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+1)%this.state.results.length)},e.prototype.previous=function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+this.state.results.length-1)%this.state.results.length)},e.prototype.update=function(t){this.setState({current:t,counter:t+1+"/"+this.state.results.length});var e=this.state.results[t];if("reaction"===e.type)this.props.map.zoom_to_reaction(e.reaction_id),this.props.map.highlight_reaction(e.reaction_id);else if("metabolite"===e.type)this.props.map.zoom_to_node(e.node_id),this.props.map.highlight_node(e.node_id);else{if("text_label"!==e.type)throw new Error("Bad search index data type: "+e.type);this.props.map.zoom_to_text_label(e.text_label_id),this.props.map.highlight_text_label(e.text_label_id)}},e.prototype.close=function(){this.props.map.highlight(null),this.setState({visible:!1}),this.state.clearNext(),this.state.clearPrevious(),this.state.clearEscape()},e.prototype.is_visible=function(){return this.state.visible},e.prototype.render=function(){var t=this;return(0,s.h)("div",{className:"searchContainer",style:this.state.visible?{display:"inline-flex"}:{display:"none"}},(0,s.h)("div",{className:"searchPanel"},(0,s.h)("input",{className:"searchField",value:this.state.searchItem,onInput:function(e){return t.handleInput(e.target.value)},ref:function(e){t.inputRef=e}}),(0,s.h)("button",{className:"searchBarButton left btn",onClick:function(){return t.previous()}},(0,s.h)("i",{className:"icon-left-open"})),(0,s.h)("button",{className:"searchBarButton right btn",onClick:function(){return t.next()}},(0,s.h)("i",{className:"icon-right-open"})),(0,s.h)("div",{className:"searchCounter"},this.state.counter)),(0,s.h)("button",{className:"searchBarButton btn",onClick:function(){return t.close()}},(0,s.h)("i",{className:"icon-cancel",style:{marginTop:"-2px",verticalAlign:"middle"}})))},e}(s.Component);e.default=u},function(t,e,n){var i=n(206);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container .searchContainer *{box-sizing:border-box}.escher-container .searchContainer{box-sizing:border-box;display:inline-flex;justify-content:space-between;background-color:hsla(0,0%,100%,.95);padding:3px;border:1px solid #ddd;margin:-2px 0 0;width:410px}.escher-container .searchContainer .searchBarButton{border-radius:4px;text-align:center;vertical-align:middle;font-size:14px!important;font-weight:400;height:29px;width:34px;padding-top:0}.escher-container .searchContainer .searchBarButton.left{margin-top:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.escher-container .searchContainer .searchBarButton.right{margin-top:-1px;border-top-left-radius:0;border-bottom-left-radius:0;margin-left:-1px}.escher-container .searchContainer .searchBarButton:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}.escher-container .searchContainer .searchField{color:#777;display:inline-block;border:1px solid #ddd;margin-right:4px;width:114px;height:29px;border-radius:3px;font-size:13px}.escher-container .searchContainer .searchCounter{display:inline-flex;color:#777;padding:0 8px;font-size:13px}","",{version:3,sources:["/Users/zaking/repos/escher/src/SearchBar.css"],names:[],mappings:"AAAA,qCACE,qBAAuB,CACxB,AAED,mCACE,sBAAuB,AACvB,oBAAqB,AACrB,8BAA+B,AAC/B,qCAA4C,AAC5C,YAAa,AACb,sBAAuB,AACvB,gBAAiB,AACjB,WAAa,CACd,AAED,oDACE,kBAAmB,AACnB,kBAAmB,AACnB,sBAAuB,AACvB,yBAA0B,AAC1B,gBAAiB,AACjB,YAAa,AACb,WAAY,AACZ,aAAiB,CAClB,AAED,yDACE,gBAAiB,AACjB,0BAA6B,AAC7B,4BAAgC,CACjC,AAED,0DACE,gBAAiB,AACjB,yBAA4B,AAC5B,4BAA+B,AAC/B,gBAAkB,CACnB,AAED,2DACE,4DAAgE,CACjE,AAED,gDACE,WAAY,AACZ,qBAAsB,AACtB,sBAAuB,AACvB,iBAAkB,AAClB,YAAa,AACb,YAAa,AACb,kBAAmB,AACnB,cAAgB,CACjB,AAED,kDACE,oBAAqB,AACrB,WAAY,AACZ,cAAe,AACf,cAAgB,CACjB",file:"SearchBar.css",sourcesContent:[".escher-container .searchContainer * {\n  box-sizing: border-box;\n}\n\n.escher-container .searchContainer {\n  box-sizing: border-box;\n  display: inline-flex;\n  justify-content: space-between;\n  background-color: rgba(255, 255, 255, 0.95);\n  padding: 3px;\n  border: 1px solid #DDD;\n  margin: -2px 0 0;\n  width: 410px;\n}\n\n.escher-container .searchContainer .searchBarButton {\n  border-radius: 4px;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 14px!important;\n  font-weight: 400;\n  height: 29px;\n  width: 34px;\n  padding-top: 0px;\n}\n\n.escher-container .searchContainer .searchBarButton.left {\n  margin-top: -1px;\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n}\n\n.escher-container .searchContainer .searchBarButton.right {\n  margin-top: -1px;\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n  margin-left: -1px;\n}\n\n.escher-container .searchContainer .searchBarButton:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .searchContainer .searchField {\n  color: #777;\n  display: inline-block;\n  border: 1px solid #DDD;\n  margin-right: 4px;\n  width: 114px;\n  height: 29px;\n  border-radius: 3px;\n  font-size: 13px;\n}\n\n.escher-container .searchContainer .searchCounter {\n  display: inline-flex;\n  color: #777;\n  padding: 0 8px;\n  font-size: 13px;\n}"],sourceRoot:""}])},function(t,e,n){"use strict";function i(t,e,n,i){var r=t.append("div").attr("id","rxn-input");this.placed_div=_(r,e,{x:240,y:0}),this.placed_div.hide();var o=m(r.node(),{backgroundColor:"#eee"});C(o.input),this.completely=o,r.append("button").attr("class","button input-close-button").text("×").on("mousedown",function(){this.hide_dropdown()}.bind(this)),this.map=e;this.direction_arrow=new v(e.sel),this.direction_arrow.set_rotation(90),this.setup_map_callbacks(e),this.zoom_container=n,this.setup_zoom_callbacks(n),this.settings=i,this.toggle(!1),this.target_coords=null}function r(t){t.callback_manager.set("select_metabolite_with_id.input",function(t,e){this.is_active&&(this.reload(t,e,!1),this.show_dropdown(e)),this.hide_target()}.bind(this)),t.callback_manager.set("select_selectable.input",function(t,e,n){this.hide_target(),1==t&&this.is_active&&n?(this.reload(e,n,!1),this.show_dropdown(n)):this.toggle(!1)}.bind(this)),t.callback_manager.set("deselect_nodes",function(){this.direction_arrow.hide(),this.hide_dropdown()}.bind(this)),t.callback_manager.set("before_svg_export",function(){this.direction_arrow.hide(),this.hide_target()}.bind(this))}function o(t){t.callback_manager.set("zoom.input",function(){this.is_active&&this.place_at_selected()}.bind(this))}function a(){return this.placed_div.is_visible()}function s(t){this.is_active=void 0===t?!this.is_active:t,this.is_active?(this.toggle_start_reaction_listener(!0),w.isNull(this.target_coords)?this.reload_at_selected():this.placed_div.place(this.target_coords),this.show_dropdown(),this.map.set_status("Click on the canvas or an existing metabolite"),this.direction_arrow.show()):(this.toggle_start_reaction_listener(!1),this.hide_dropdown(),this.map.set_status(null),this.direction_arrow.hide())}function c(t){this.clear_escape=this.map.key_manager.add_escape_listener(function(){this.hide_dropdown()}.bind(this),!0),this.completely.input.blur(),this.completely.repaint(),this.completely.setText(""),this.completely.input.focus()}function l(){this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.placed_div.hide(),this.completely.input.blur(),this.completely.hideDropDown()}function u(){this.map.deselect_text_labels();var t=this.map.select_single_node();if(null!=t){var e={x:t.x,y:t.y};this.place(e)}}function A(t){this.placed_div.place(t),this.direction_arrow.set_location(t),this.direction_arrow.show()}function h(){this.map.deselect_text_labels();var t=this.map.select_single_node();if(null==t)return!1;var e={x:t.x,y:t.y};return this.reload(t,e,!1),!0}function d(t,e,n){if(!n&&!t)return void console.error("No selected node, and not starting from scratch");if(this.place(e),null===this.map.cobra_model)return void this.completely.setText("Cannot add: No model.");var i="name"===this.settings.get_option("identifiers_on_map"),r=this.settings.get_option("allow_building_duplicate_reactions"),o=[],a=this.map.cobra_model.reactions,s=this.map.cobra_model.metabolites,c=this.map.reactions,l=this.map.has_data_on_reactions,u=(this.map.reaction_data,this.map.reaction_data_styles,t?i?t.name:t.bigg_id:""),A={};for(var h in a){var d=a[h],f=d.name,p=i?f:h;if(r||!function(t,e){for(var n in e)if(e[n].bigg_id===t)return!0;return!1}(h,c))for(var g in d.metabolites)if(n||g==t.bigg_id){if(h in A)continue;s[g].name;if(l)o.push({reaction_data:d.data,html:"<b>"+p+"</b>: "+d.data_string,matches:[p],id:h}),A[h]=!0;else{var _,m={},v=[];if(i)for(_ in d.metabolites){var C=s[_].name;m[C]=d.metabolites[_],v.push(C)}else{m=b.clone(d.metabolites);for(_ in d.metabolites)v.push(_)}var B=w.flatten(d.genes.map(function(t){return[t.name,t.bigg_id]})),x=y.build_reaction_string(m,d.reversibility,d.lower_bound,d.upper_bound);o.push({html:"<b>"+p+"</b>\t"+function(t,e){return t.replace(new RegExp("(^| )("+e.join("|")+")($| )","g"),"$1<b>$2</b>$3")}(x,[u]),matches:[p].concat(v).concat(B),id:h}),A[h]=!0}}}var E;E=l?function(t,e){return Math.abs(e.reaction_data)-Math.abs(t.reaction_data)}:function(t,e){return t.html.toLowerCase()<e.html.toLowerCase()?-1:1},o=o.sort(E);var M=this.completely;M.options=o,M.setText("");var k=this.direction_arrow,I=function(i){if(null!==i)if(n)this.map.new_reaction_from_scratch(i,e,k.get_rotation());else{if(!(t.node_id in this.map.nodes))return console.error("Selected node no longer exists"),void this.hide_dropdown();this.map.new_reaction_for_metabolite(i,t.node_id,k.get_rotation())}}.bind(this);M.onEnter=function(t){this.setText(""),this.onChange(""),I(t)}}function f(t){if(void 0===t)this.start_reaction_listener=!this.start_reaction_listener;else{if(this.start_reaction_listener===t)return;this.start_reaction_listener=t}this.start_reaction_listener?(this.map.sel.on("click.start_reaction",function(t){if(!this.direction_arrow.dragging){var e={x:B(t)[0],y:B(t)[1]};this.map.deselect_nodes(),this.map.deselect_text_labels(),this.reload(null,e,!0),this.show_target(this.map,e),this.show_dropdown(e)}}.bind(this,this.map.sel.node())),this.map.sel.classed("start-reaction-cursor",!0)):(this.map.sel.on("click.start_reaction",null),this.map.sel.classed("start-reaction-cursor",!1),this.hide_target())}function p(){this.target_coords&&this.map.sel.selectAll(".start-reaction-target").remove(),this.target_coords=null}function g(t,e){var n=t.sel.selectAll(".start-reaction-target").data([12,5]);n.enter().append("circle").classed("start-reaction-target",!0).attr("r",function(t){return t}).style("stroke-width",4).merge(n).style("visibility","visible").attr("transform","translate("+e.x+","+e.y+")"),this.target_coords=e}var b=n(1),_=n(44),m=n(208),v=n(209),y=n(45),w=n(2),C=n(0).select,B=n(0).mouse,x=b.make_class();x.prototype={init:i,setup_map_callbacks:r,setup_zoom_callbacks:o,is_visible:a,toggle:s,show_dropdown:c,hide_dropdown:l,place_at_selected:u,place:A,reload_at_selected:h,reload:d,toggle_start_reaction_listener:f,hide_target:p,show_target:g},t.exports=x},function(t,e,n){"use strict";/**
 * @license
 *
 * complete.ly 1.0.0
 * MIT Licensing
 * Copyright (c) 2013 Lorenzo Puccetti
 *
 * This Software shall be used for doing good things, not bad things.
 *
 *
 * Modified by Zachary King (c) 2014.
 *
 **/
var i=n(1);t.exports=function(t,e){function n(t){return void 0===d&&(d=r.createElement("span"),d.style.visibility="hidden",d.style.position="fixed",d.style.outline="0",d.style.margin="0",d.style.padding="0",d.style.border="0",d.style.left="0",d.style.whiteSpace="pre",d.style.fontSize=e.fontSize,d.style.fontFamily=e.fontFamily,d.style.fontWeight="normal",r.body.appendChild(d)),d.innerHTML=String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),d.getBoundingClientRect().right}var r=i.get_document(t),o=i.get_window(t);e=e||{},e.fontSize=e.fontSize||"13px",e.fontFamily=e.fontFamily||"sans-serif",e.promptInnerHTML=e.promptInnerHTML||"",e.color=e.color||"#333",e.hintColor=e.hintColor||"#aaa",e.backgroundColor=e.backgroundColor||"#fff",e.dropDownBorderColor=e.dropDownBorderColor||"#aaa",e.dropDownZIndex=e.dropDownZIndex||"100",e.dropDownOnHoverBackgroundColor=e.dropDownOnHoverBackgroundColor||"#ddd";var a=r.createElement("input");a.type="text",a.spellcheck=!1,a.style.fontSize=e.fontSize,a.style.fontFamily=e.fontFamily,a.style.color=e.color,a.style.backgroundColor=e.backgroundColor,a.style.width="100%",a.style.outline="0",a.style.border="0",a.style.margin="0",a.style.padding="0";var s=a.cloneNode();s.disabled="",s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.borderColor="transparent",s.style.boxShadow="none",s.style.color=e.hintColor,a.style.backgroundColor="transparent",a.style.verticalAlign="top",a.style.position="relative";var c=r.createElement("div");c.style.position="relative",c.style.outline="0",c.style.border="0",c.style.margin="0",c.style.padding="0";var l=r.createElement("div");if(l.style.position="absolute",l.style.outline="0",l.style.margin="0",l.style.padding="0",l.style.border="0",l.style.fontSize=e.fontSize,l.style.fontFamily=e.fontFamily,l.style.color=e.color,l.style.backgroundColor=e.backgroundColor,l.style.top="0",l.style.left="0",l.style.overflow="hidden",l.innerHTML=e.promptInnerHTML,l.style.background="transparent",void 0===r.body)throw"thisDocument.body is undefined. The library was wired up incorrectly.";r.body.appendChild(l);var u=l.getBoundingClientRect().right;c.appendChild(l),l.style.visibility="visible",l.style.left="-"+u+"px",c.style.marginLeft=u+"px",c.appendChild(s),c.appendChild(a);var A=r.createElement("div");A.style.position="absolute",A.style.visibility="hidden",A.style.outline="0",A.style.margin="0",A.style.padding="0",A.style.textAlign="left",A.style.fontSize=e.fontSize,A.style.fontFamily=e.fontFamily,A.style.backgroundColor=e.backgroundColor,A.style.zIndex=e.dropDownZIndex,A.style.cursor="default",A.style.borderStyle="solid",A.style.borderWidth="1px",A.style.borderColor=e.dropDownBorderColor,A.style.overflowX="hidden",A.style.whiteSpace="pre",A.style.overflowY="scroll";var h=function(t){var n=[],i=0,a=-1,s=null,c=function(){this.style.outline="1px solid #ddd"},l=function(){this.style.outline="0"},u=function(t){t.preventDefault(),A.onmouseselection(this.id)},A={hide:function(){t.style.visibility="hidden"},refresh:function(a,s){t.style.visibility="hidden",i=0,t.innerHTML="";var h=o.innerHeight||r.documentElement.clientHeight,d=t.parentNode.getBoundingClientRect(),f=d.top-6,p=h-d.bottom-6;n=[];for(var b=0;b<s.length;b++){var _=s[b].matches.filter(function(t){return 0==t.toLowerCase().indexOf(a.toLowerCase())});if(0!=_.length){var m=r.createElement("div");if(m.style.color=e.color,m.onmouseover=c,m.onmouseout=l,m.onmousedown=function(t){t.preventDefault()},m.ondblclick=u,m.__hint=_[0],m.id=s[b].id,m.innerHTML=s[b].html,n.push(m),t.appendChild(m),n.length>=g.display_limit){var v=r.createElement("div");v.innerHTML=" "+(s.length-n.length)+" more",n.push(v),t.appendChild(v);break}}}0!==n.length&&(A.highlight(0),f>3*p?(t.style.maxHeight=f+"px",t.style.top="",t.style.bottom="100%"):(t.style.top="100%",t.style.bottom="",t.style.maxHeight=p+"px"),t.style.visibility="visible")},highlight:function(t){-1!=a&&n[a]&&(n[a].style.backgroundColor=e.backgroundColor),n[t].style.backgroundColor=e.dropDownOnHoverBackgroundColor,a=t,s=n[t]},move:function(e){return"hidden"===t.style.visibility?"":i+e===-1||i+e===n.length?n[i].__hint:(i+=e,A.highlight(i),n[i].__hint)},onmouseselection:function(){},get_current_row:function(){return s}};return A}(A);h.onmouseselection=function(t){g.onEnter(t),g.input.focus()},c.appendChild(A),t.appendChild(c);var d,f,p,g={get_hint:function(t){return t},display_limit:1e3,onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},onChange:function(){g.repaint()},startFrom:0,options:[],wrapper:c,input:a,hint:s,dropDown:A,prompt:l,setText:function(t){s.value=t,a.value=t},getText:function(){return a.value},hideDropDown:function(){h.hide()},repaint:function(){var t=a.value,e=g.startFrom,i=g.options,r=i.length,o=t.substring(e);f=t.substring(0,e),s.value="";for(var c=0;c<r;c++){var l=i[c].matches.filter(function(t){return 0==t.toLowerCase().indexOf(o.toLowerCase())});if(0!=l.length){s.value=g.get_hint(l[0]);break}}A.style.left=n(f)+"px",h.refresh(o,g.options)}};!function(t,e){p=t.value;var n=function(){var n=t.value;p!==n&&(p=n,e(n))};t.addEventListener("input",n,!1),t.addEventListener("keyup",n,!1),t.addEventListener("change",n,!1)}(a,function(t){g.onChange(t),g.repaint()});var b=function(t){t=t||o.event;var e=t.keyCode;if(33!=e&&34!=e)if(39!=e&&35!=e&&9!=e){if(13==e){var n=h.get_current_row().id;return void g.onEnter(n)}if(40==e){var i=h.move(1);return""==i&&g.onArrowDown(),void(s.value=g.get_hint(i))}if(38==e){var i=h.move(-1);return""==i&&g.onArrowUp(),s.value=g.get_hint(i),t.preventDefault(),void t.stopPropagation()}s.value=""}else if(9==e&&(t.preventDefault(),t.stopPropagation(),0==s.value.length&&g.onTab()),s.value.length>0){a.value=s.value;var r=p!=a.value;p=a.value,r&&g.onChange(a.value)}};return a.addEventListener("keydown",b,!1),g}},function(t,e,n){"use strict";function i(t){this.arrow_container=t.append("g").attr("id","direction-arrow-container").attr("transform","translate(0,0)rotate(0)"),this.arrow=this.arrow_container.append("path").classed("direction-arrow",!0).attr("d","M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z").style("visibility","hidden").attr("transform","translate(30,0)scale(2.5)"),this.sel=t,this.center={x:0,y:0},this._setup_drag(),this.dragging=!1,this.is_visible=!1,this.show()}function r(t){this.center=t;var e=g.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+t.x+","+t.y+")rotate("+e.rotate+")")}function o(t){var e=g.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+e.translate+")rotate("+t+")")}function a(t){var e=g.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+e.translate+")rotate("+(e.rotate+t)+")")}function s(){return g.d3_transform_catch(this.arrow_container.attr("transform")).rotate}function c(t){this.is_visible=void 0===t?!this.is_visible:t,this.arrow.style("visibility",this.is_visible?"visible":"hidden")}function l(){this.toggle(!0)}function u(){this.toggle(!1)}function A(){this.set_rotation(0)}function h(){this.set_rotation(90)}function d(){this.set_rotation(180)}function f(){this.set_rotation(270)}function p(){var t=b().on("start",function(t){m.event.sourceEvent.stopPropagation(),this.dragging=!0}.bind(this)).on("drag.direction_arrow",function(t){var e={x:m.event.dx,y:m.event.dy},n={x:_(this.sel.node())[0],y:_(this.sel.node())[1]},i=g.angle_for_event(e,n,this.center);this.displace_rotation(g.to_degrees(i))}.bind(this)).on("end",function(t){setTimeout(function(){this.dragging=!1}.bind(this),200)}.bind(this));this.arrow_container.call(t)}var g=n(1),b=n(15).drag,_=n(0).mouse,m=n(0),v=g.make_class();v.prototype={init:i,set_location:r,set_rotation:o,displace_rotation:a,get_rotation:s,toggle:c,show:l,hide:u,right:A,left:d,up:f,down:h,_setup_drag:p},t.exports=v},function(t,e,n){"use strict";function i(){return!h.event.button}function r(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function o(){return this.__zoom||g.c}function a(){return-h.event.deltaY*(h.event.deltaMode?120:1)/500}function s(){return"ontouchstart"in this}function c(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var l=n(20),u=n(15),A=n(7),h=n(0),d=n(85),f=n(256),p=n(257),g=n(89),b=n(258);e.a=function(){function t(t){t.property("__zoom",o).on("wheel.zoom",w).on("mousedown.zoom",C).on("dblclick.zoom",B).filter(O).on("touchstart.zoom",x).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,e){return e=Math.max(z[0],Math.min(z[1],e)),e===t.k?t:new g.a(e,t.x,t.y)}function n(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new g.a(t.k,i,r)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,e,n){t.on("start.zoom",function(){v(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=v(t,i),o=j.apply(t,i),a=n||_(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=t.__zoom,l="function"==typeof e?e.apply(t,i):e,u=L(c.invert(a).concat(s/c.k),l.invert(a).concat(s/l.k));return function(t){if(1===t)t=l;else{var e=u(t),n=s/e[2];t=new g.a(n,a[0]-e[0]*n,a[1]-e[1]*n)}r.zoom(null,t)}})}function v(t,e){for(var n,i=0,r=F.length;i<r;++i)if((n=F[i]).that===t)return n;return new y(t,e)}function y(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=j.apply(t,e)}function w(){function t(){i.wheel=null,i.end()}if(D.apply(this,arguments)){var i=v(this,arguments),r=this.__zoom,o=Math.max(z[0],Math.min(z[1],r.k*Math.pow(2,T.apply(this,arguments)))),a=Object(h.mouse)(this);if(i.wheel)i.mouse[0][0]===a[0]&&i.mouse[0][1]===a[1]||(i.mouse[1]=r.invert(i.mouse[0]=a)),clearTimeout(i.wheel);else{if(r.k===o)return;i.mouse=[a,r.invert(a)],Object(d.a)(this),i.start()}Object(b.a)(),i.wheel=setTimeout(t,W),i.zoom("mouse",N(n(e(r,o),i.mouse[0],i.mouse[1]),i.extent,S))}}function C(){function t(){if(Object(b.a)(),!i.moved){var t=h.event.clientX-a,e=h.event.clientY-s;i.moved=t*t+e*e>G}i.zoom("mouse",N(n(i.that.__zoom,i.mouse[0]=Object(h.mouse)(i.that),i.mouse[1]),i.extent,S))}function e(){r.on("mousemove.zoom mouseup.zoom",null),Object(u.dragEnable)(h.event.view,i.moved),Object(b.a)(),i.end()}if(!I&&D.apply(this,arguments)){var i=v(this,arguments),r=Object(h.select)(h.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",e,!0),o=Object(h.mouse)(this),a=h.event.clientX,s=h.event.clientY;Object(u.dragDisable)(h.event.view),Object(b.b)(),i.mouse=[o,this.__zoom.invert(o)],Object(d.a)(this),i.start()}}function B(){if(D.apply(this,arguments)){var i=this.__zoom,r=Object(h.mouse)(this),o=i.invert(r),a=i.k*(h.event.shiftKey?.5:2),s=N(n(e(i,a),r,o),j.apply(this,arguments),S);Object(b.a)(),Q>0?Object(h.select)(this).transition().duration(Q).call(m,s,r):Object(h.select)(this).call(t.transform,s)}}function x(){if(D.apply(this,arguments)){var t,e,n,i,r=v(this,arguments),o=h.event.changedTouches,a=o.length;for(Object(b.b)(),e=0;e<a;++e)n=o[e],i=Object(h.touch)(this,o,n.identifier),i=[i,this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,t=!0);if(k&&(k=clearTimeout(k),!r.touch1))return r.end(),void((i=Object(h.select)(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(k=setTimeout(function(){k=null},U),Object(d.a)(this),r.start())}}function E(){var t,i,r,o,a=v(this,arguments),s=h.event.changedTouches,c=s.length;for(Object(b.a)(),k&&(k=clearTimeout(k)),t=0;t<c;++t)i=s[t],r=Object(h.touch)(this,s,i.identifier),a.touch0&&a.touch0[2]===i.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===i.identifier&&(a.touch1[0]=r);if(i=a.that.__zoom,a.touch1){var l=a.touch0[0],u=a.touch0[1],A=a.touch1[0],d=a.touch1[1],f=(f=A[0]-l[0])*f+(f=A[1]-l[1])*f,p=(p=d[0]-u[0])*p+(p=d[1]-u[1])*p;i=e(i,Math.sqrt(f/p)),r=[(l[0]+A[0])/2,(l[1]+A[1])/2],o=[(u[0]+d[0])/2,(u[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",N(n(i,r,o),a.extent,S))}function M(){var t,e,n=v(this,arguments),i=h.event.changedTouches,r=i.length;for(Object(b.b)(),I&&clearTimeout(I),I=setTimeout(function(){I=null},U),t=0;t<r;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var k,I,D=i,j=r,N=c,T=a,O=s,z=[0,1/0],S=[[-1/0,-1/0],[1/0,1/0]],Q=250,L=A.i,F=[],Y=Object(l.a)("start","zoom","end"),U=500,W=150,G=0;return t.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",o),t!==n?m(t,e):n.interrupt().each(function(){v(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},t.scaleTo=function(i,r){t.transform(i,function(){var t=j.apply(this,arguments),i=this.__zoom,o=_(t),a=i.invert(o),s="function"==typeof r?r.apply(this,arguments):r;return N(n(e(i,s),o,a),t,S)})},t.translateBy=function(e,n,i){t.transform(e,function(){return N(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),j.apply(this,arguments),S)})},t.translateTo=function(e,n,i){t.transform(e,function(){var t=j.apply(this,arguments),e=this.__zoom,r=_(t);return N(g.c.translate(r[0],r[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof i?-i.apply(this,arguments):-i),t,S)})},y.prototype={start:function(){return 1==++this.active&&(this.index=F.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(F.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(h.customEvent)(new p.a(t,e,this.that.__zoom),Y.apply,Y,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(T="function"==typeof e?e:Object(f.a)(+e),t):T},t.filter=function(e){return arguments.length?(D="function"==typeof e?e:Object(f.a)(!!e),t):D},t.touchable=function(e){return arguments.length?(O="function"==typeof e?e:Object(f.a)(!!e),t):O},t.extent=function(e){return arguments.length?(j="function"==typeof e?e:Object(f.a)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):j},t.scaleExtent=function(e){return arguments.length?(z[0]=+e[0],z[1]=+e[1],t):[z[0],z[1]]},t.translateExtent=function(e){return arguments.length?(S[0][0]=+e[0][0],S[1][0]=+e[1][0],S[0][1]=+e[0][1],S[1][1]=+e[1][1],t):[[S[0][0],S[0][1]],[S[1][0],S[1][1]]]},t.constrain=function(e){return arguments.length?(N=e,t):N},t.duration=function(e){return arguments.length?(Q=+e,t):Q},t.interpolate=function(e){return arguments.length?(L=e,t):L},t.on=function(){var e=Y.on.apply(Y,arguments);return e===Y?t:e},t.clickDistance=function(e){return arguments.length?(G=(e=+e)*e,t):Math.sqrt(G)},t}},function(t,e,n){"use strict";function i(t){if(t instanceof o)return new o(t.l,t.a,t.b,t.opacity);if(t instanceof h){var e=t.h*p.a;return new o(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof f.b||(t=Object(f.h)(t));var n=l(t.r),i=l(t.g),r=l(t.b),s=a((.4124564*n+.3575761*i+.1804375*r)/g),c=a((.2126729*n+.7151522*i+.072175*r)/b);return new o(116*c-16,500*(s-c),200*(c-a((.0193339*n+.119192*i+.9503041*r)/_)),t.opacity)}function r(t,e,n,r){return 1===arguments.length?i(t):new o(t,e,n,null==r?1:r)}function o(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function a(t){return t>w?Math.pow(t,1/3):t/y+m}function s(t){return t>v?t*t*t:y*(t-m)}function c(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function l(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function u(t){if(t instanceof h)return new h(t.h,t.c,t.l,t.opacity);t instanceof o||(t=i(t));var e=Math.atan2(t.b,t.a)*p.b;return new h(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function A(t,e,n,i){return 1===arguments.length?u(t):new h(t,e,n,null==i?1:i)}function h(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}e.a=r,e.b=A;var d=n(49),f=n(48),p=n(77),g=.95047,b=1,_=1.08883,m=4/29,v=6/29,y=3*v*v,w=v*v*v;Object(d.a)(o,r,Object(d.b)(f.a,{brighter:function(t){return new o(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=b*s(t),e=g*s(e),n=_*s(n),new f.b(c(3.2404542*e-1.5371385*t-.4985314*n),c(-.969266*e+1.8760108*t+.041556*n),c(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Object(d.a)(h,A,Object(d.b)(f.a,{brighter:function(t){return new h(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new h(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return i(this).rgb()}}))},function(t,e,n){"use strict";function i(t){if(t instanceof o)return new o(t.h,t.s,t.l,t.opacity);t instanceof s.b||(t=Object(s.h)(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(g*i+f*e-p*n)/(g+f-p),a=i-r,l=(d*(n-r)-A*a)/h,u=Math.sqrt(l*l+a*a)/(d*r*(1-r)),b=u?Math.atan2(l,a)*c.b-120:NaN;return new o(b<0?b+360:b,u,r,t.opacity)}function r(t,e,n,r){return 1===arguments.length?i(t):new o(t,e,n,null==r?1:r)}function o(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}e.a=r;var a=n(49),s=n(48),c=n(77),l=-.14861,u=1.78277,A=-.29227,h=-.90649,d=1.97294,f=d*h,p=d*u,g=u*A-h*l;Object(a.a)(o,r,Object(a.b)(s.a,{brighter:function(t){return t=null==t?s.c:Math.pow(s.c,t),new o(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?s.d:Math.pow(s.d,t),new o(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*c.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new s.b(255*(e+n*(l*i+u*r)),255*(e+n*(A*i+h*r)),255*(e+n*(d*i)),this.opacity)}}))},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";function i(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}function a(t,i,o,a,s,c){if(t!==o||i!==a){var l=s.push("translate(",null,e,null,n);c.push({i:l-4,x:Object(r.a)(t,o)},{i:l-2,x:Object(r.a)(i,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}function s(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,i)-2,x:Object(r.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}function c(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,i)-2,x:Object(r.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}function l(t,e,n,i,a,s){if(t!==n||e!==i){var c=a.push(o(a)+"scale(",null,",",null,")");s.push({i:c-4,x:Object(r.a)(t,n)},{i:c-2,x:Object(r.a)(e,i)})}else 1===n&&1===i||a.push(o(a)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),c(e.skewX,n.skewX,i,r),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n(29),o=n(215),a=i(o.a,"px, ","px)","deg)"),s=i(o.b,", ",")",")")},function(t,e,n){"use strict";function i(t){return"none"===t?l.b:(o||(o=document.createElement("DIV"),a=document.documentElement,s=document.defaultView),o.style.transform=t,t=s.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),t=t.slice(7,-1).split(","),Object(l.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function r(t){return null==t?l.b:(c||(c=document.createElementNS("http://www.w3.org/2000/svg","g")),c.setAttribute("transform",t),(t=c.transform.baseVal.consolidate())?(t=t.matrix,Object(l.a)(t.a,t.b,t.c,t.d,t.e,t.f)):l.b)}e.a=i,e.b=r;var o,a,s,c,l=n(216)},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var i=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,r,o,a){var s,c,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,l/=c),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*i,skewX:Math.atan(l)*i,scaleX:s,scaleY:c}}},function(t,e,n){"use strict";function i(t){return((t=Math.exp(t))+1/t)/2}function r(t){return((t=Math.exp(t))-1/t)/2}function o(t){return((t=Math.exp(2*t))-1)/(t+1)}var a=Math.SQRT2;e.a=function(t,e){var n,s,c=t[0],l=t[1],u=t[2],A=e[0],h=e[1],d=e[2],f=A-c,p=h-l,g=f*f+p*p;if(g<1e-12)s=Math.log(d/u)/a,n=function(t){return[c+t*f,l+t*p,u*Math.exp(a*t*s)]};else{var b=Math.sqrt(g),_=(d*d-u*u+4*g)/(2*u*2*b),m=(d*d-u*u-4*g)/(2*d*2*b),v=Math.log(Math.sqrt(_*_+1)-_),y=Math.log(Math.sqrt(m*m+1)-m);s=(y-v)/a,n=function(t){var e=t*s,n=i(v),A=u/(2*b)*(n*o(a*e+v)-r(v));return[c+A*f,l+A*p,u*n/i(a*e+v)]}}return n.duration=1e3*s,n}},function(t,e,n){"use strict";function i(t){return function(e,n){var i=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),a=Object(o.a)(e.s,n.s),s=Object(o.a)(e.l,n.l),c=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=s(t),e.opacity=c(t),e+""}}}var r=n(10),o=n(21);i(o.c),i(o.a)},function(t,e,n){"use strict";n(10),n(21)},function(t,e,n){"use strict";function i(t){return function(e,n){var i=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),a=Object(o.a)(e.c,n.c),s=Object(o.a)(e.l,n.l),c=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=a(t),e.l=s(t),e.opacity=c(t),e+""}}}var r=n(10),o=n(21);i(o.c),i(o.a)},function(t,e,n){"use strict";function i(t){return function e(n){function i(e,i){var a=t((e=Object(r.b)(e)).h,(i=Object(r.b)(i)).h),s=Object(o.a)(e.s,i.s),c=Object(o.a)(e.l,i.l),l=Object(o.a)(e.opacity,i.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=c(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,i.gamma=e,i}(1)}n.d(e,"a",function(){return a});var r=n(10),o=n(21),a=(i(o.c),i(o.a))},function(t,e,n){"use strict"},function(t,e,n){"use strict";var i=n(0),r=n(224),o=n(227);i.selection.prototype.interrupt=r.a,i.selection.prototype.transition=o.a},function(t,e,n){"use strict";var i=n(86);e.a=function(t){return this.each(function(){Object(i.a)(this,t)})}},function(t,e,n){"use strict";var i=n(51);e.a=function(t,e,n){var r=new i.a;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r}},function(t,e,n){"use strict";n(51)},function(t,e,n){"use strict";function i(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return c.time=Object(s.a)(),c;return n}var r=n(13),o=n(6),a=n(244),s=n(87),c={time:null,delay:0,duration:250,ease:a.a};e.a=function(t){var e,n;t instanceof r.a?(e=t._id,t=t._name):(e=Object(r.b)(),(n=c).time=Object(s.a)(),t=null==t?null:t+"");for(var a=this._groups,l=a.length,u=0;u<l;++u)for(var A,h=a[u],d=h.length,f=0;f<d;++f)(A=h[f])&&Object(o.e)(A,t,e,f,h,n||i(A,e));return new r.a(a,this._parents,t,e)}},function(t,e,n){"use strict";function i(t){return function(){this.removeAttribute(t)}}function r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function a(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function s(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}function c(t,e,n){var i,r,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===i&&s===r?o:o=e(i=a,r=s))}}var l=n(7),u=n(0),A=n(30),h=n(88);e.a=function(t,e){var n=Object(u.namespace)(t),d="transform"===n?l.h:h.a;return this.attrTween(t,"function"==typeof e?(n.local?c:s)(n,d,Object(A.b)(this,"attr."+t,e)):null==e?(n.local?r:i)(n):(n.local?a:o)(n,d,e+""))}},function(t,e,n){"use strict";function i(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function r(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}var o=n(0);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var a=Object(o.namespace)(t);return this.tween(n,(a.local?i:r)(a,e))}},function(t,e,n){"use strict";function i(t,e){return function(){Object(o.g)(this,t).delay=+e.apply(this,arguments)}}function r(t,e){return e=+e,function(){Object(o.g)(this,t).delay=e}}var o=n(6);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?i:r)(e,t)):Object(o.f)(this.node(),e).delay}},function(t,e,n){"use strict";function i(t,e){return function(){Object(o.h)(this,t).duration=+e.apply(this,arguments)}}function r(t,e){return e=+e,function(){Object(o.h)(this,t).duration=e}}var o=n(6);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?i:r)(e,t)):Object(o.f)(this.node(),e).duration}},function(t,e,n){"use strict";function i(t,e){if("function"!=typeof e)throw new Error;return function(){Object(r.h)(this,t).ease=e}}var r=n(6);e.a=function(t){var e=this._id;return arguments.length?this.each(i(e,t)):Object(r.f)(this.node(),e).ease}},function(t,e,n){"use strict";var i=n(0),r=n(13);e.a=function(t){"function"!=typeof t&&(t=Object(i.matcher)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var s,c=e[a],l=c.length,u=o[a]=[],A=0;A<l;++A)(s=c[A])&&t.call(s,s.__data__,A,c)&&u.push(s);return new r.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var i=n(13);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,a=Math.min(r,o),s=new Array(r),c=0;c<a;++c)for(var l,u=e[c],A=n[c],h=u.length,d=s[c]=new Array(h),f=0;f<h;++f)(l=u[f]||A[f])&&(d[f]=l);for(;c<r;++c)s[c]=e[c];return new i.a(s,this._parents,this._name,this._id)}},function(t,e,n){"use strict";function i(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function r(t,e,n){var r,a,s=i(e)?o.g:o.h;return function(){var i=s(this,t),o=i.on;o!==r&&(a=(r=o).copy()).on(e,n),i.on=a}}var o=n(6);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(o.f)(this.node(),n).on.on(t):this.each(r(n,t,e))}},function(t,e,n){"use strict";function i(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}e.a=function(){return this.on("end.remove",i(this._id))}},function(t,e,n){"use strict";var i=n(0),r=n(13),o=n(6);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(i.selector)(t));for(var a=this._groups,s=a.length,c=new Array(s),l=0;l<s;++l)for(var u,A,h=a[l],d=h.length,f=c[l]=new Array(d),p=0;p<d;++p)(u=h[p])&&(A=t.call(u,u.__data__,p,h))&&("__data__"in u&&(A.__data__=u.__data__),f[p]=A,Object(o.e)(f[p],e,n,p,f,Object(o.f)(u,n)));return new r.a(c,this._parents,e,n)}},function(t,e,n){"use strict";var i=n(0),r=n(13),o=n(6);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(i.selectorAll)(t));for(var a=this._groups,s=a.length,c=[],l=[],u=0;u<s;++u)for(var A,h=a[u],d=h.length,f=0;f<d;++f)if(A=h[f]){for(var p,g=t.call(A,A.__data__,f,h),b=Object(o.f)(A,n),_=0,m=g.length;_<m;++_)(p=g[_])&&Object(o.e)(p,e,n,_,g,b);c.push(g),l.push(A)}return new r.a(c,l,e,n)}},function(t,e,n){"use strict";var i=n(0),r=i.selection.prototype.constructor;e.a=function(){return new r(this._groups,this._parents)}},function(t,e,n){"use strict";function i(t,e){var n,i,r;return function(){var o=Object(c.style)(this,t),a=(this.style.removeProperty(t),Object(c.style)(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}function r(t){return function(){this.style.removeProperty(t)}}function o(t,e,n){var i,r;return function(){var o=Object(c.style)(this,t);return o===n?null:o===i?r:r=e(i=o,n)}}function a(t,e,n){var i,r,o;return function(){var a=Object(c.style)(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=Object(c.style)(this,t)),a===s?null:a===i&&s===r?o:o=e(i=a,r=s)}}var s=n(7),c=n(0),l=n(30),u=n(88);e.a=function(t,e,n){var c="transform"==(t+="")?s.g:u.a;return null==e?this.styleTween(t,i(t,c)).on("end.style."+t,r(t)):this.styleTween(t,"function"==typeof e?a(t,c,Object(l.b)(this,"style."+t,e)):o(t,c,e+""),n)}},function(t,e,n){"use strict";function i(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}e.a=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,i(t,e,null==n?"":n))}},function(t,e,n){"use strict";function i(t){return function(){this.textContent=t}}function r(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var o=n(30);e.a=function(t){return this.tween("text","function"==typeof t?r(Object(o.b)(this,"text",t)):i(null==t?"":t+""))}},function(t,e,n){"use strict";var i=n(13),r=n(6);e.a=function(){for(var t=this._name,e=this._id,n=Object(i.b)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var c,l=o[s],u=l.length,A=0;A<u;++A)if(c=l[A]){var h=Object(r.f)(c,e);Object(r.e)(c,t,n,A,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new i.a(o,this._parents,t,n)}},function(t,e,n){"use strict";var i=(n(245),n(246),n(247));n.d(e,"a",function(){return i.a});n(248),n(249),n(250),n(251),n(252),n(253),n(254)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";function i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}e.a=i},function(t,e,n){"use strict";(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";Math.PI},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";var i=2*Math.PI;(function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((o-t)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=i);return r.amplitude=function(e){return t(e,n*i)},r.period=function(n){return t(e,n)},r})(1,.3),function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=i);return r.amplitude=function(e){return t(e,n*i)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((o-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((o+t)/n))/2}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=i);return r.amplitude=function(e){return t(e,n*i)},r.period=function(n){return t(e,n)},r}(1,.3)},function(t,e,n){"use strict";n(13),n(6)},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function i(t,e,n){this.target=t,this.type=e,this.transform=n}e.a=i},function(t,e,n){"use strict";function i(){r.event.stopImmediatePropagation()}e.b=i;var r=n(0);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){"use strict";function i(t,e,n){this.behavior=t,this.settings=e,this.map=n,this.callback_manager=new y}function r(t){var e=t.append("rect").attr("class","membrane");return this.callback_manager.run("create_membrane",this,t),e}function o(t){t.attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).style("stroke-width",function(t){return 10}).attr("rx",function(t){return 20}).attr("ry",function(t){return 20}),this.callback_manager.run("update_membrane",this,t)}function a(t){var e=t.append("g").attr("id",function(t){return"r"+t.reaction_id}).attr("class","reaction");return this.create_reaction_label(e),this.callback_manager.run("create_reaction",this,t),e}function s(t,e,n,i,r,o){t.select(".reaction-label-group").call(function(t){return this.update_reaction_label(t,o)}.bind(this)),m.draw_a_nested_object(t,".segment-group","segments","segment_id",this.create_segment.bind(this),function(t){return this.update_segment(t,e,n,i,r,o)}.bind(this),function(t){t.remove()}),this.callback_manager.run("update_reaction",this,t)}function c(t,e){var n=t.append("g").attr("class","reaction-label-group");return n.append("text").attr("class","reaction-label label"),n.append("g").attr("class","all-genes-label-group"),this.callback_manager.run("create_reaction_label",this,t),n}function l(t,e){var n=this,i=(w(".4g"),this.settings.get_option("identifiers_on_map")),r=this.settings.get_option("reaction_styles"),o=this.settings.get_option("show_gene_reaction_rules"),a=this.settings.get_option("hide_all_labels"),s=this.settings.get_option("gene_font_size"),c=this.behavior.label_mousedown,l=this.behavior.label_mouseover,u=this.behavior.label_mouseout,A=this.behavior.label_touch;t.attr("transform",function(t){return"translate("+t.label_x+","+t.label_y+")"}).call(this.behavior.turn_off_drag).call(this.behavior.reaction_label_drag);var h=t.select(".reaction-label").attr("visibility",a?"hidden":"visible");a||h.text(function(t){var n=t[i];return e&&-1!==r.indexOf("text")&&(n+=" "+t.data_string),n}).on("mousedown",c).on("mouseover",function(t){l("reaction_label",t)}).on("mouseout",u).on("touchend",function(t){A("reaction_label",t)}).call(function(t){n.map.callback_manager.run("update_tooltip",null,"reaction_label",t)});var d=function(t,e){return t+1.5*s*(e+1)},f=t.select(".all-genes-label-group").selectAll(".gene-label-group").data(function(t){var e="gene_string"in t&&null!==t.gene_string&&o&&!a&&-1!==r.indexOf("text"),n="gene_reaction_rule"in t&&null!==t.gene_reaction_rule&&o&&!a;if(e)return console.warn("Showing gene_string. See TODO in source."),t.gene_string;if(n){var s=v.gene_string_for_data(t.gene_reaction_rule,null,t.genes,null,i,null);return s.forEach(function(e,n){e.label_x=t.label_x,e.label_y=d(t.label_y,n)}),s}return[]}),p=f.enter().append("g").attr("class","gene-label-group");p.append("text").attr("class","gene-label").style("font-size",s+"px").on("mousedown",c).on("mouseover",function(t){l("gene_label",t)}).on("mouseout",u);var g=p.merge(f);g.attr("transform",function(t,e){return"translate(0, "+d(0,e)+")"}),g.select("text").text(function(t){return t.text}),f.exit().remove(),this.callback_manager.run("update_reaction_label",this,t)}function u(t){var e=t.append("g").attr("class","segment-group").attr("id",function(t){return"s"+t.segment_id});return e.append("path").attr("class","segment"),e.append("g").attr("class","arrowheads"),e.append("g").attr("class","stoichiometry-labels"),this.callback_manager.run("create_segment",this,t),e}function A(t,e,n,i,r,o){var a=this,s=this.settings.get_option("reaction_styles"),c=o&&-1!==s.indexOf("size"),l=o&&-1!==s.indexOf("color"),u=this.settings.get_option("reaction_no_data_size"),A=this.settings.get_option("reaction_no_data_color"),h=this.settings.get_option("highlight_missing"),d=this.settings.get_option("hide_secondary_metabolites"),f=this.settings.get_option("primary_metabolite_radius"),p=this.settings.get_option("secondary_metabolite_radius"),g=this.behavior.object_mouseover,b=this.behavior.object_mouseout,v=this.behavior.object_touch,y=function(t,n){var i=20,r=13;return n&&(r=null===t?u:e.reaction_size(t),isNaN(r)&&(r=u),i=2*r),{width:i,height:r}},w=function(t,e,n,i){var r=e||n>0?t.height:0;return(i?f:p)+r+10};t.selectAll(".segment").datum(function(){return Object.assign({},this.parentNode.__data__,this.parentNode.parentNode.__data__)}).style("visibility",function(t){var e=i[t.from_node_id],n=i[t.to_node_id];return d&&("metabolite"===n.node_type&&!n.node_is_primary||"metabolite"===e.node_type&&!e.node_is_primary)?"hidden":null}).attr("d",function(t){if(null===t.from_node_id||null===t.to_node_id)return null;var e=i[t.from_node_id],n=i[t.to_node_id],r=t.b1,o=t.b2;if("metabolite"===e.node_type){var a=y(t.data,c),s=w(a,t.reversibility,t.from_node_coefficient,e.node_is_primary),l=null===r?n:r;e=_(s,e,l,"start")}if("metabolite"==n.node_type){var a=y(t.data,c),s=w(a,t.reversibility,t.to_node_coefficient,n.node_is_primary),l=null===o?e:o;n=_(s,l,n,"end")}var u="M"+e.x+","+e.y+" ";return null!==r&&null!==o&&(u+="C"+r.x+","+r.y+" "+o.x+","+o.y+" "),u+=n.x+","+n.y}).style("stroke",function(t){var i=this.parentNode.parentNode.__data__.bigg_id;if(h&&null!==n&&!(i in n.reactions))return"red";if(l){var r=t.data;return null===r?A:e.reaction_color(r)}return null}).style("stroke-width",function(t){if(c){var n=t.data;return null===n?u:e.reaction_size(n)}return null}).attr("pointer-events","visibleStroke").on("mouseover",function(t){var e=C(this);g("reaction_object",Object.assign({},t,{xPos:e[0],yPos:e[1]}))}).on("touchend",function(t){var e=B(this.parentNode,0);v("reaction_object",Object.assign({},t,{xPos:e[0],yPos:e[1]}))}).on("mouseout",b).call(function(t){a.map.callback_manager.run("update_tooltip",null,"reaction_label",t)});var x=t.select(".arrowheads").selectAll(".arrowhead").data(function(t){var e=[],n=i[t.from_node_id],r=t.b1,o=i[t.to_node_id],a=t.b2;if(d&&("metabolite"===o.node_type&&!o.node_is_primary||"metabolite"===n.node_type&&!n.node_is_primary))return e;if("metabolite"===n.node_type&&(t.reversibility||t.from_node_coefficient>0)){var s=y(t.data,c),l=w(s,t.reversibility,t.from_node_coefficient,n.node_is_primary),u=null===r?o:r,A=m.to_degrees(m.get_angle([n,u]))+90,h=_(l,n,u,"start");e.push({data:t.data,x:h.x,y:h.y,size:s,rotation:A,show_arrowhead_flux:t.from_node_coefficient<0===t.reverse_flux||0===t.data})}if("metabolite"===o.node_type&&(t.reversibility||t.to_node_coefficient>0)){var s=y(t.data,c),l=w(s,t.reversibility,t.to_node_coefficient,o.node_is_primary),u=null===a?n:a,A=m.to_degrees(m.get_angle([o,u]))+90,h=_(l,u,o,"end");e.push({data:t.data,x:h.x,y:h.y,size:s,rotation:A,show_arrowhead_flux:t.to_node_coefficient<0===t.reverse_flux||0===t.data})}if(t.unconnected_segment_with_arrow){var s=y(t.data,c),u=o,A=m.to_degrees(m.get_angle([n,u]))+90;e.push({data:t.data,x:n.x,y:n.y,size:s,rotation:A,show_arrowhead_flux:t.to_node_coefficient<0===t.reverse_flux||0===t.data})}return e});x.enter().append("path").classed("arrowhead",!0).merge(x).attr("d",function(t){return"M"+[-t.size.width/2,0]+" L"+[0,t.size.height]+" L"+[t.size.width/2,0]+" Z"}).attr("transform",function(t){return"translate("+t.x+","+t.y+")rotate("+t.rotation+")"}).style("fill",function(t){if(l){if(t.show_arrowhead_flux){var n=t.data;return null===n?A:e.reaction_color(n)}return"#FFFFFF"}return null}).style("stroke",function(t){if(l){var n=t.data;return null===n?A:e.reaction_color(n)}return null}),x.exit().remove();var E=t.select(".stoichiometry-labels").selectAll(".stoichiometry-label").data(function(t){var e=[],n=i[t.from_node_id],r=t.b1,o=i[t.to_node_id],a=t.b2;if(d&&("metabolite"==o.node_type&&!o.node_is_primary||"metabolite"==n.node_type&&!n.node_is_primary))return e;if("metabolite"===n.node_type&&1!=Math.abs(t.from_node_coefficient)){var s=y(t.data,c),l=1.5*w(s,!1,0,o.node_is_primary),u=null===r?o:r;u=m.c_plus_c(u,m.rotate_coords(u,.5,n));var A=_(l,n,u,"start");A=m.c_plus_c(A,{x:0,y:7}),e.push({coefficient:Math.abs(t.from_node_coefficient),x:A.x,y:A.y,data:t.data})}if("metabolite"===o.node_type&&1!==Math.abs(t.to_node_coefficient)){var s=y(t.data,c),l=1.5*w(s,!1,0,o.node_is_primary),u=null===a?n:a;u=m.c_plus_c(u,m.rotate_coords(u,.5,o));var A=_(l,u,o,"end");A=m.c_plus_c(A,{x:0,y:7}),e.push({coefficient:Math.abs(t.to_node_coefficient),x:A.x,y:A.y,data:t.data})}return e});E.enter().append("text").attr("class","stoichiometry-label").attr("text-anchor","middle").merge(E).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).text(function(t){return t.coefficient}).style("fill",function(t){if(l){var n=t.data;return null===n?A:e.reaction_color(n)}return null}),E.exit().remove(),this.callback_manager.run("update_segment",this,t)}function h(t){var e=t.append("g").attr("id",function(t){return t.bezier_id}).attr("class",function(t){return"bezier"});return e.append("path").attr("class","connect-line"),e.append("circle").attr("class",function(t){return"bezier-circle "+t.bezier}).style("stroke-width",String(1)+"px").attr("r",String(7)+"px"),this.callback_manager.run("create_bezier",this,t),e}function d(t,e,n,i,r,o,a){var s=this.settings.get_option("hide_secondary_metabolites");if(!e)return void t.attr("visibility","hidden");t.attr("visibility","visible"),t.style("visibility",function(t){var e=a[t.reaction_id].segments[t.segment_id],n=o[e.from_node_id],i=o[e.to_node_id];return s&&("metabolite"==i.node_type&&!i.node_is_primary||"metabolite"==n.node_type&&!n.node_is_primary)?"hidden":null}),t.select(".bezier-circle").call(this.behavior.turn_off_drag).call(n).on("mouseover",i).on("mouseout",r).attr("transform",function(t){return null==t.x||null==t.y?"":"translate("+t.x+","+t.y+")"}),t.select(".connect-line").attr("d",function(t){var e,n=a[t.reaction_id].segments[t.segment_id];return e="b1"==t.bezier?o[n.from_node_id]:o[n.to_node_id],null==t.x||null==t.y||null==e.x||null==e.y?"":"M"+t.x+", "+t.y+" "+e.x+","+e.y}),this.callback_manager.run("update_bezier",this,t)}function f(t,e,n){var i=t.append("g").attr("class","node").attr("id",function(t){return"n"+t.node_id});return i.append("circle").attr("class",function(t){var e="node-circle";return null!==t.node_type&&(e+=" "+t.node_type+"-circle"),e}),i.filter(function(t){return"metabolite"===t.node_type}).append("text").attr("class","node-label label"),this.callback_manager.run("create_node",this,t),i}function p(t,e,n,i,r,o,a,s,c){function l(t,e){return"metabolite"===t.node_type&&e&&!t.node_is_primary}var u=this,A=this.settings.get_option("hide_secondary_metabolites"),h=this.settings.get_option("primary_metabolite_radius"),d=this.settings.get_option("secondary_metabolite_radius"),f=this.settings.get_option("marker_radius"),p=this.settings.get_option("hide_all_labels"),g=this.settings.get_option("identifiers_on_map"),b=this.settings.get_option("metabolite_styles"),_={color:this.settings.get_option("metabolite_no_data_color"),size:this.settings.get_option("metabolite_no_data_size")},m=this.behavior.label_mousedown,v=this.behavior.label_mouseover,y=this.behavior.label_mouseout,w=(this.behavior.label_touch,this.behavior.object_mouseover),x=this.behavior.object_mouseout,E=this.behavior.object_touch,M=(t.select(".node-circle").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).style("visibility",function(t){return l(t,A)?"hidden":null}).attr("r",function(t){if("metabolite"===t.node_type){if(n&&-1!==b.indexOf("size")){var i=t.data;return null===i?_.size:e.metabolite_size(i)}return t.node_is_primary?h:d}return f}).style("fill",function(t){if("metabolite"===t.node_type){if(n&&-1!==b.indexOf("color")){var i=t.data;return null===i?_.color:e.metabolite_color(i)}return null}return null}).call(this.behavior.turn_off_drag).call(s).on("mousedown",i).on("click",r).on("mouseover",function(t){if("metabolite"===t.node_type){var e=C(this.parentNode);w("node_object",Object.assign({},t,{xPos:e[0],yPos:e[1]}))}}).on("mouseout",x).on("touchend",function(t){"metabolite"===t.node_type&&(touchEvent=B(this.parentNode,0),E("node_object",Object.assign({},t,{xPos:touchEvent[0],yPos:touchEvent[1]})))}).call(function(t){u.map.callback_manager.run("update_tooltip",null,"node_label",t)}),t.select(".node-label").attr("visibility",p?"hidden":"visible"));p||M.style("visibility",function(t){return l(t,A)?"hidden":null}).attr("transform",function(t){return"translate("+t.label_x+","+t.label_y+")"}).text(function(t){var e=t[g];return n&&-1!==b.indexOf("text")&&(e+=" "+t.data_string),e}).call(this.behavior.turn_off_drag).call(c).on("mousedown",m).on("mouseover",function(t){v("node_label",t)}).on("mouseout",y).call(function(t){u.map.callback_manager.run("update_tooltip",null,"node_label",t)}),this.callback_manager.run("update_node",this,t)}function g(t){var e=t.append("g").attr("id",function(t){return"l"+t.text_label_id}).attr("class","text-label");return e.append("text").attr("class","label"),this.callback_manager.run("create_text_label",this,t),e}function b(t){var e=this.behavior.text_label_mousedown,n=this.behavior.text_label_click,i=this.behavior.selectable_drag,r=this.behavior.turn_off_drag;t.select(".label").text(function(t){return t.text}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).on("mousedown",e).on("click",n).call(r).call(i),this.callback_manager.run("update_text_label",this,t)}function _(t,e,n,i){m.check_undefined(arguments,["reaction_arrow_displacement","start","end","displace"]);var r,o,a=t,s=m.distance(e,n);return a&&s||console.error("Bad value"),"start"===i?(r=e.x+a*(n.x-e.x)/s,o=e.y+a*(n.y-e.y)/s):"end"===i?(r=n.x-a*(n.x-e.x)/s,o=n.y-a*(n.y-e.y)/s):console.error("bad displace value: "+i),{x:r,y:o}}var m=n(1),v=n(17),y=n(18),w=n(27).format,C=(n(0).select,n(0).mouse),B=n(0).touch,x=m.make_class();x.prototype={init:i,create_reaction:a,update_reaction:s,create_bezier:h,update_bezier:d,create_node:f,update_node:p,create_text_label:g,update_text_label:b,create_membrane:r,update_membrane:o,create_reaction_label:c,update_reaction_label:l,create_segment:u,update_segment:A},t.exports=x},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(92),o=function(){function t(){i(this,t),this.x=(0,r.scaleLinear)(),this.y=(0,r.scaleLinear)(),this.x_size=(0,r.scaleLinear)(),this.y_size=(0,r.scaleLinear)(),this.size=(0,r.scaleLinear)(),this.reaction_color=(0,r.scaleLinear)().clamp(!0),this.reaction_size=(0,r.scaleLinear)().clamp(!0),this.metabolite_color=(0,r.scaleLinear)().clamp(!0),this.metabolite_size=(0,r.scaleLinear)().clamp(!0)}return t.prototype.connectToSettings=function(t,e,n){var i=this;t.streams.reaction_scale.onValue(function(t){i.setReactionScale(t,n)}),t.streams.metabolite_scale.onValue(function(t){i.setMetaboliteScale(t,n)}),e.callback_manager.set("calc_data_stats__reaction",function(e){e&&i.setReactionScale(t.get_option("reaction_scale"),n)}),e.callback_manager.set("calc_data_stats__metabolite",function(e){e&&i.setMetaboliteScale(t.get_option("metabolite_scale"),n)})},t.prototype.sortScale=function(t,e){var n=t.map(function(t){var n=void 0;if(t.type in e)n=e[t.type];else{if("value"!==t.type)throw new Error("Bad domain type "+t.type);n=t.value}return{v:n,color:t.color,size:t.size}}).sort(function(t,e){return t.v-e.v});return{domain:n.map(function(t){return t.v}),color_range:n.map(function(t){return t.color}),size_range:n.map(function(t){return t.size})}},t.prototype.setReactionScale=function(t,e){var n=e().reaction;if(null!==n){var i=this.sortScale(t,n);this.reaction_color.domain(i.domain),this.reaction_size.domain(i.domain),this.reaction_color.range(i.color_range),this.reaction_size.range(i.size_range)}},t.prototype.setMetaboliteScale=function(t,e){var n=e().metabolite;if(null!==n){var i=this.sortScale(t,n);this.metabolite_color.domain(i.domain),this.metabolite_size.domain(i.domain),this.metabolite_color.range(i.color_range),this.metabolite_size.range(i.size_range)}},t}();e.default=o},function(t,e,n){"use strict";function i(){function t(){var t=o().length,i=l[1]<l[0],r=l[i-0],s=l[1-i];e=(s-r)/Math.max(1,t-A+2*h),u&&(e=Math.floor(e)),r+=(s-r-e*(t-A))*d,n=e*(1-A),u&&(r=Math.round(r),n=Math.round(n));var f=Object(a.e)(t).map(function(t){return r+e*t});return c(i?f.reverse():f)}var e,n,r=Object(s.a)().unknown(void 0),o=r.domain,c=r.range,l=[0,1],u=!1,A=0,h=0,d=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(o(e),t()):o()},r.range=function(e){return arguments.length?(l=[+e[0],+e[1]],t()):l.slice()},r.rangeRound=function(e){return l=[+e[0],+e[1]],u=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(u=!!e,t()):u},r.padding=function(e){return arguments.length?(A=h=Math.max(0,Math.min(1,e)),t()):A},r.paddingInner=function(e){return arguments.length?(A=Math.max(0,Math.min(1,e)),t()):A},r.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),t()):d},r.copy=function(){return i().domain(o()).range(l).round(u).paddingInner(A).paddingOuter(h).align(d)},t()}function r(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return r(e())},t}function o(){return r(i().paddingInner(1))}e.a=i,e.b=o;var a=n(11),s=n(105)},function(t,e,n){"use strict";n(95)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(99),n(93),n(265),n(98),n(266),n(100),n(101),n(102)},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";n(99),n(19),n(22),n(53)},function(t,e,n){"use strict";n(96)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(22)},function(t,e,n){"use strict";n(19),n(22),n(53)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(19)},function(t,e,n){"use strict"},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(104)},function(t,e,n){"use strict";function i(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=r.a.call(n,a.a),t):e.slice()},t.copy=function(){return i().domain(e)},Object(o.b)(t)}e.a=i;var r=n(14),o=n(23),a=n(106)},function(t,e,n){"use strict";var i=n(11),r=n(27);e.a=function(t,e,n){var o,a=t[0],s=t[t.length-1],c=Object(i.g)(a,s,null==e?10:e);switch(n=Object(r.formatSpecifier)(null==n?",f":n),n.type){case"s":var l=Math.max(Math.abs(a),Math.abs(s));return null!=n.precision||isNaN(o=Object(r.precisionPrefix)(c,l))||(n.precision=o),Object(r.formatPrefix)(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=Object(r.precisionRound)(c,Math.max(Math.abs(a),Math.abs(s))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=Object(r.precisionFixed)(c))||(n.precision=o-2*("%"===n.type))}return Object(r.format)(n)}},function(t,e,n){"use strict";function i(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Object(h.a)(e)}function r(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function o(t){return isFinite(t)?+("1e"+t):t<0?0:t}function a(t){return 10===t?o:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function s(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function c(t){return function(e){return-t(-e)}}function l(){function t(){return h=s(o),p=a(o),n()[0]<0&&(h=c(h),p=c(p)),e}var e=Object(f.b)(i,r).domain([1,10]),n=e.domain,o=10,h=s(10),p=a(10);return e.base=function(e){return arguments.length?(o=+e,t()):o},e.domain=function(e){return arguments.length?(n(e),t()):n()},e.ticks=function(t){var e,i=n(),r=i[0],a=i[i.length-1];(e=a<r)&&(A=r,r=a,a=A);var s,c,l,A=h(r),d=h(a),f=null==t?10:+t,g=[];if(!(o%1)&&d-A<f){if(A=Math.round(A)-1,d=Math.round(d)+1,r>0){for(;A<d;++A)for(c=1,s=p(A);c<o;++c)if(!((l=s*c)<r)){if(l>a)break;g.push(l)}}else for(;A<d;++A)for(c=o-1,s=p(A);c>=1;--c)if(!((l=s*c)<r)){if(l>a)break;g.push(l)}}else g=Object(u.h)(A,d,Math.min(d-A,f)).map(p);return e?g.reverse():g},e.tickFormat=function(t,n){if(null==n&&(n=10===o?".0e":","),"function"!=typeof n&&(n=Object(A.format)(n)),t===1/0)return n;null==t&&(t=10);var i=Math.max(1,o*t/e.ticks().length);return function(t){var e=t/p(Math.round(h(t)));return e*o<o-.5&&(e*=o),e<=i?n(t):""}},e.nice=function(){return n(Object(d.a)(n(),{floor:function(t){return p(Math.floor(h(t)))},ceil:function(t){return p(Math.ceil(h(t)))}}))},e.copy=function(){return Object(f.a)(e,l().base(o))},e}e.a=l;var u=n(11),A=n(27),h=n(54),d=n(107),f=n(31)},function(t,e,n){"use strict";function i(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function r(){function t(t,e){return(e=i(e,n)-(t=i(t,n)))?function(r){return(i(r,n)-t)/e}:Object(a.a)(e)}function e(t,e){return e=i(e,n)-(t=i(t,n)),function(r){return i(t+e*r,1/n)}}var n=1,o=Object(c.b)(t,e),l=o.domain;return o.exponent=function(t){return arguments.length?(n=+t,l(l())):n},o.copy=function(){return Object(c.a)(o,r().exponent(n))},Object(s.b)(o)}function o(){return r().exponent(.5)}e.a=r,e.b=o;var a=n(54),s=n(23),c=n(31)},function(t,e,n){"use strict";function i(){function t(){var t=0,i=Math.max(1,a.length);for(s=new Array(i-1);++t<i;)s[t-1]=Object(r.d)(n,t/i);return e}function e(t){if(!isNaN(t=+t))return a[Object(r.b)(s,t)]}var n=[],a=[],s=[];return e.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:[e>0?s[e-1]:n[0],e<s.length?s[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var i,o=0,a=e.length;o<a;++o)null==(i=e[o])||isNaN(i=+i)||n.push(i);return n.sort(r.a),t()},e.range=function(e){return arguments.length?(a=o.b.call(e),t()):a.slice()},e.quantiles=function(){return s.slice()},e.copy=function(){return i().domain(n).range(a)},e}e.a=i;var r=n(11),o=n(14)},function(t,e,n){"use strict";function i(){function t(t){if(t<=t)return u[Object(r.b)(l,t,0,c)]}function e(){var e=-1;for(l=new Array(c);++e<c;)l[e]=((e+1)*s-(e-c)*n)/(c+1);return t}var n=0,s=1,c=1,l=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],s=+t[1],e()):[n,s]},t.range=function(t){return arguments.length?(c=(u=o.b.call(t)).length-1,e()):u.slice()},t.invertExtent=function(t){var e=u.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,l[0]]:e>=c?[l[c-1],s]:[l[e-1],l[e]]},t.copy=function(){return i().domain([n,s]).range(u)},Object(a.b)(t)}e.a=i;var r=n(11),o=n(14),a=n(23)},function(t,e,n){"use strict";function i(){function t(t){if(t<=t)return n[Object(r.b)(e,t,0,a)]}var e=[.5],n=[0,1],a=1;return t.domain=function(i){return arguments.length?(e=o.b.call(i),a=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=o.b.call(i),a=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},t.copy=function(){return i().domain(e).range(n)},t}e.a=i;var r=n(11),o=n(14)},function(t,e,n){"use strict";var i=n(4),r=Object(i.a)(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(i.a)(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):r:null},e.a=r;r.range},function(t,e,n){"use strict";var i=n(4),r=n(12),o=Object(i.a)(function(t){t.setTime(Math.floor(t/r.d)*r.d)},function(t,e){t.setTime(+t+e*r.d)},function(t,e){return(e-t)/r.d},function(t){return t.getUTCSeconds()});e.a=o;o.range},function(t,e,n){"use strict";var i=n(4),r=n(12),o=Object(i.a)(function(t){t.setTime(Math.floor(t/r.c)*r.c)},function(t,e){t.setTime(+t+e*r.c)},function(t,e){return(e-t)/r.c},function(t){return t.getMinutes()});e.a=o;o.range},function(t,e,n){"use strict";var i=n(4),r=n(12),o=Object(i.a)(function(t){var e=t.getTimezoneOffset()*r.c%r.b;e<0&&(e+=r.b),t.setTime(Math.floor((+t-e)/r.b)*r.b+e)},function(t,e){t.setTime(+t+e*r.b)},function(t,e){return(e-t)/r.b},function(t){return t.getHours()});e.a=o;o.range},function(t,e,n){"use strict";var i=n(4),r=n(12),o=Object(i.a)(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*r.c)/r.a},function(t){return t.getDate()-1});e.a=o;o.range},function(t,e,n){"use strict";function i(t){return Object(r.a)(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*o.c)/o.e})}n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var r=n(4),o=n(12),a=i(0),s=i(1),c=i(2),l=i(3),u=i(4),A=i(5),h=i(6);a.range,s.range,c.range,l.range,u.range,A.range,h.range},function(t,e,n){"use strict";var i=n(4),r=Object(i.a)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});e.a=r;r.range},function(t,e,n){"use strict";var i=n(4),r=Object(i.a)(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});r.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(i.a)(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null},e.a=r;r.range},function(t,e,n){"use strict";var i=n(4),r=n(12),o=Object(i.a)(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*r.c)},function(t,e){return(e-t)/r.c},function(t){return t.getUTCMinutes()});e.a=o;o.range},function(t,e,n){"use strict";var i=n(4),r=n(12),o=Object(i.a)(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*r.b)},function(t,e){return(e-t)/r.b},function(t){return t.getUTCHours()});e.a=o;o.range},function(t,e,n){"use strict";var i=n(4),r=n(12),o=Object(i.a)(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/r.a},function(t){return t.getUTCDate()-1});e.a=o;o.range},function(t,e,n){"use strict";function i(t){return Object(r.a)(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/o.e})}n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var r=n(4),o=n(12),a=i(0),s=i(1),c=i(2),l=i(3),u=i(4),A=i(5),h=i(6);a.range,s.range,c.range,l.range,u.range,A.range,h.range},function(t,e,n){"use strict";var i=n(4),r=Object(i.a)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});e.a=r;r.range},function(t,e,n){"use strict";var i=n(4),r=Object(i.a)(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});r.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(i.a)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null},e.a=r;r.range},function(t,e,n){"use strict";function i(t){var e=new Date(t);return isNaN(e)?null:e}var r=n(111),o=n(56);+new Date("2000-01-01T00:00:00.000Z")||Object(o.c)(r.a)},function(t,e,n){"use strict";var i=n(108),r=n(109),o=n(55);e.a=function(){return Object(i.a)(o.v,o.q,o.u,o.l,o.m,o.o,o.r,o.n,r.b).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(t,e,n){"use strict";var i=n(24);e.a=Object(i.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,e,n){"use strict";var i=n(24);e.a=Object(i.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(t,e,n){"use strict";var i=n(24);e.a=Object(i.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(t,e,n){"use strict";var i=n(24);e.a=Object(i.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(t,e,n){"use strict";var i=n(10),r=n(7);e.a=Object(r.b)(Object(i.b)(300,.5,0),Object(i.b)(-240,.5,1))},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var i=n(10),r=n(7),o=Object(r.b)(Object(i.b)(-100,.75,.35),Object(i.b)(80,1.5,.8)),a=Object(r.b)(Object(i.b)(260,.75,.35),Object(i.b)(80,1.5,.8)),s=Object(i.b)();e.b=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return s.h=360*t-100,s.s=1.5-1.5*e,s.l=.8-.9*e,s+""}},function(t,e,n){"use strict";function i(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s});var r=n(24);e.a=i(Object(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=i(Object(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=i(Object(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=i(Object(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(t,e,n){"use strict";function i(t){function e(e){var i=(e-n)/(o-n);return t(a?Math.max(0,Math.min(1,i)):i)}var n=0,o=1,a=!1;return e.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e):[n,o]},e.clamp=function(t){return arguments.length?(a=!!t,e):a},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return i(t).domain([n,o]).clamp(a)},Object(r.b)(e)}e.a=i;var r=n(23)},function(t,e,n){"use strict";function i(t,e){this.selection=t,this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.resize_enabled=!0,this.callback_manager=new c,this.setup()}function r(t){A.isUndefined(t)&&(t=!this.resize_enabled),t?this.selection.selectAll(".drag-rect").style("pointer-events","auto"):this.selection.selectAll(".drag-rect").style("pointer-events","none")}function o(){function t(){u.event.sourceEvent.stopPropagation()}function e(t,e,n){var i=s.d3_transform_catch(n),r=i.translate;return null!==t&&(r[0]=t),null!==e&&(r[1]=e),"translate("+r+")"}function n(t){var n=t.x;t.x=Math.min(t.x+a.width-c/2,u.event.x),a.x=t.x,a.width=a.width+(n-t.x),m.attr("transform",function(t){return e(t.x-c/2,null,m.attr("transform"))}),d.attr("transform",function(t){return e(t.x,null,d.attr("transform"))}).attr("width",a.width*A),f.attr("transform",function(t){return e(t.x,null,f.attr("transform"))}).attr("width",a.width),y.attr("transform",function(t){return e(t.x+c/2,null,y.attr("transform"))}).attr("width",a.width-c),w.attr("transform",function(t){return e(t.x+c/2,null,w.attr("transform"))}).attr("width",a.width-c),a.callback_manager.run("resize")}function i(t){u.event.sourceEvent.stopPropagation();var n=Math.max(t.x+c/2,t.x+a.width+u.event.dx);a.width=n-t.x,v.attr("transform",function(t){return e(n-c/2,null,v.attr("transform"))}),d.attr("width",a.width*A),f.attr("width",a.width),y.attr("width",a.width-c),w.attr("width",a.width-c),a.callback_manager.run("resize")}function r(t){u.event.sourceEvent.stopPropagation();var n=t.y;t.y=Math.min(t.y+a.height-c/2,u.event.y),a.y=t.y,a.height=a.height+(n-t.y),y.attr("transform",function(t){return e(null,t.y-c/2,y.attr("transform"))}),d.attr("transform",function(t){return e(null,t.y,d.attr("transform"))}).attr("width",a.height*A),f.attr("transform",function(t){return e(null,t.y,f.attr("transform"))}).attr("height",a.height),m.attr("transform",function(t){return e(null,t.y+c/2,m.attr("transform"))}).attr("height",a.height-c),v.attr("transform",function(t){return e(null,t.y+c/2,v.attr("transform"))}).attr("height",a.height-c),a.callback_manager.run("resize")}function o(t){u.event.sourceEvent.stopPropagation();var n=Math.max(t.y+c/2,t.y+a.height+u.event.dy);a.height=n-t.y,w.attr("transform",function(t){return e(null,n-c/2,w.attr("transform"))}),d.attr("height",a.height*A),f.attr("height",a.height),m.attr("height",a.height-c),v.attr("height",a.height-c),a.callback_manager.run("resize")}var a=this,c=(this.width,this.height,100),A=10,h=this.selection.append("g").classed("canvas-group",!0).data([{x:this.x,y:this.y}]),d=h.append("rect").attr("id","mouse-node").attr("width",this.width*A).attr("height",this.height*A).attr("transform","translate("+[a.x-this.width*A/2,a.y-this.height*A/2]+")").attr("pointer-events","all");this.mouse_node=d;var f=h.append("rect").attr("id","canvas").attr("width",this.width).attr("height",this.height).attr("transform","translate("+[a.x,a.y]+")"),p=l().on("start",t).on("drag",i),g=l().on("start",t).on("drag",n),b=l().on("start",t).on("drag",r),_=l().on("start",t).on("drag",o),m=h.append("rect").classed("drag-rect",!0).attr("transform",function(t){return"translate("+[t.x-c/2,t.y+c/2]+")"}).attr("height",this.height-c).attr("id","dragleft").attr("width",c).attr("cursor","ew-resize").classed("resize-rect",!0).call(g),v=h.append("rect").classed("drag-rect",!0).attr("transform",function(t){return"translate("+[t.x+a.width-c/2,t.y+c/2]+")"}).attr("id","dragright").attr("height",this.height-c).attr("width",c).attr("cursor","ew-resize").classed("resize-rect",!0).call(p),y=h.append("rect").classed("drag-rect",!0).attr("transform",function(t){return"translate("+[t.x+c/2,t.y-c/2]+")"}).attr("height",c).attr("id","dragtop").attr("width",this.width-c).attr("cursor","ns-resize").classed("resize-rect",!0).call(b),w=h.append("rect").classed("drag-rect",!0).attr("transform",function(t){return"translate("+[t.x+c/2,t.y+a.height-c/2]+")"}).attr("id","dragbottom").attr("height",c).attr("width",this.width-c).attr("cursor","ns-resize").classed("resize-rect",!0).call(_)}function a(){return{x:this.x,y:this.y,width:this.width,height:this.height}}var s=n(1),c=n(18),l=n(15).drag,u=n(0),A=n(2),h=s.make_class();h.prototype={init:i,toggle_resize:r,setup:o,size_and_location:a},t.exports=h},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t,e,n,i){this.brush_sel=t.append("g").attr("id","brush-container");var r=this.brush_sel.node(),o=t.select(i).node().nextSibling;r!==o&&r.parentNode.insertBefore(r,o),this.enabled=e,this.map=n}function r(t){void 0===t&&(t=!this.enabled),t?this.setup_selection_brush():this.brush_sel.selectAll("*").remove()}function o(t){t.selectAll("rect").attr("cursor",null)}function a(){var t=this.map,e=this.brush_sel,n=t.sel.selectAll("#nodes,#text-labels"),i=t.canvas.size_and_location(),r=i.width,a=i.height,s=i.x,A=i.y;e.selectAll("*").remove();var h=!1,d=c().extent([[s,A],[s+r,A+a]]).on("start",function(){o(e),t.settings.get_option("hide_secondary_metabolites")&&(t.settings.set_conditional("hide_secondary_metabolites",!1),t.draw_everything(),t.set_status("Showing secondary metabolites. You can hide them again in Settings.",2e3))}).on("brush",function(){var t=u.event.sourceEvent.shiftKey,e=l(this);if(null!==e){(t?n.selectAll(".node:not(.selected),.text-label:not(.selected)"):n.selectAll(".node,.text-label")).classed("selected",function(t){var n=t.x,i=t.y;return e[0][0]<=n&&n<e[1][0]&&e[0][1]<=i&&i<e[1][1]})}}).on("end",function(){o(e),null===l(this)?h?h=!1:t.select_none():(h=!0,e.call(d.move,null))});e.call(d),o(e)}var s=n(1),c=n(116).brush,l=n(116).brushSelection,u=(n(92).scaleIdentity,n(0)),A=(n(0).select,s.make_class());A.prototype={init:i,toggle:r,setup_selection_brush:a},t.exports=A},function(t,e,n){"use strict";function i(t){return{type:t}}function r(){return!p.event.button}function o(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function a(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function s(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function c(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function l(){return A(B)}function u(){return A(x)}function A(t){function e(e){var r=e.property("__brush",A).selectAll(".overlay").data([i("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",M.overlay).merge(r).each(function(){var t=a(this).extent;Object(p.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([i("selection")]).enter().append("rect").attr("class","selection").attr("cursor",M.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=e.selectAll(".handle").data(t.handles,function(t){return t.type});o.exit().remove(),o.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return M[t.type]}),e.each(n).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function n(){var t=Object(p.select)(this),e=a(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-z/2:e[0][0]-z/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-z/2:e[0][1]-z/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+z:z}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+z:z})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e){return t.__brush.emitter||new l(t,e)}function l(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function u(){function e(){var t=Object(p.mouse)(Y);!X||L||F||(Math.abs(t[0]-tt[0])>Math.abs(t[1]-tt[1])?F=!0:L=!0),tt=t,Q=!0,Object(m.a)(),i()}function i(){var t;switch(z=tt[0]-$[0],S=tt[1]-$[1],W){case y:case v:G&&(z=Math.max(V-u,Math.min(J-b,z)),A=u+z,_=b+z),R&&(S=Math.max(K-h,Math.min(q-N,S)),f=h+S,O=N+S);break;case w:G<0?(z=Math.max(V-u,Math.min(J-u,z)),A=u+z,_=b):G>0&&(z=Math.max(V-b,Math.min(J-b,z)),A=u,_=b+z),R<0?(S=Math.max(K-h,Math.min(q-h,S)),f=h+S,O=N):R>0&&(S=Math.max(K-N,Math.min(q-N,S)),f=h,O=N+S);break;case C:G&&(A=Math.max(V,Math.min(J,u-z*G)),_=Math.max(V,Math.min(J,b+z*G))),R&&(f=Math.max(K,Math.min(q,h-S*R)),O=Math.max(K,Math.min(q,N+S*R)))}_<A&&(G*=-1,t=u,u=b,b=t,t=A,A=_,_=t,U in k&&it.attr("cursor",M[U=k[U]])),O<f&&(R*=-1,t=h,h=N,N=t,t=f,f=O,O=t,U in I&&it.attr("cursor",M[U=I[U]])),P.selection&&(H=P.selection),L&&(A=H[0][0],_=H[1][0]),F&&(f=H[0][1],O=H[1][1]),H[0][0]===A&&H[0][1]===f&&H[1][0]===_&&H[1][1]===O||(P.selection=[[A,f],[_,O]],n.call(Y),et.brush())}function r(){if(Object(m.b)(),p.event.touches){if(p.event.touches.length)return;E&&clearTimeout(E),E=setTimeout(function(){E=null},500),nt.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(d.dragEnable)(p.event.view,Q),rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);nt.attr("pointer-events","all"),it.attr("cursor",M.overlay),P.selection&&(H=P.selection),s(H)&&(P.selection=null,n.call(Y)),et.end()}function o(){switch(p.event.keyCode){case 16:X=G&&R;break;case 18:W===w&&(G&&(b=_-z*G,u=A+z*G),R&&(N=O-S*R,h=f+S*R),W=C,i());break;case 32:W!==w&&W!==C||(G<0?b=_-z:G>0&&(u=A-z),R<0?N=O-S:R>0&&(h=f-S),W=y,it.attr("cursor",M.selection),i());break;default:return}Object(m.a)()}function l(){switch(p.event.keyCode){case 16:X&&(L=F=X=!1,i());break;case 18:W===C&&(G<0?b=_:G>0&&(u=A),R<0?N=O:R>0&&(h=f),W=w,i());break;case 32:W===y&&(p.event.altKey?(G&&(b=_-z*G,u=A+z*G),R&&(N=O-S*R,h=f+S*R),W=C):(G<0?b=_:G>0&&(u=A),R<0?N=O:R>0&&(h=f),W=w),it.attr("cursor",M[U]),i());break;default:return}Object(m.a)()}if(p.event.touches){if(p.event.changedTouches.length<p.event.touches.length)return Object(m.a)()}else if(E)return;if(T.apply(this,arguments)){var u,A,h,f,b,_,N,O,z,S,Q,L,F,Y=this,U=p.event.target.__data__.type,W="selection"===(p.event.metaKey?U="overlay":U)?v:p.event.altKey?C:w,G=t===x?null:D[U],R=t===B?null:j[U],P=a(Y),Z=P.extent,H=P.selection,V=Z[0][0],K=Z[0][1],J=Z[1][0],q=Z[1][1],X=!1,$=Object(p.mouse)(Y),tt=$,et=c(Y,arguments).beforestart();"overlay"===U?P.selection=H=[[u=t===x?V:$[0],h=t===B?K:$[1]],[b=t===x?J:u,N=t===B?q:h]]:(u=H[0][0],h=H[0][1],b=H[1][0],N=H[1][1]),A=u,f=h,_=b,O=N;var nt=Object(p.select)(Y).attr("pointer-events","none"),it=nt.selectAll(".overlay").attr("cursor",M[U]);if(p.event.touches)nt.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",r,!0);else{var rt=Object(p.select)(p.event.view).on("keydown.brush",o,!0).on("keyup.brush",l,!0).on("mousemove.brush",e,!0).on("mouseup.brush",r,!0);Object(d.dragDisable)(p.event.view)}Object(m.b)(),Object(g.a)(Y),n.call(Y),et.start()}}function A(){var e=this.__brush||{selection:null};return e.extent=N.apply(this,arguments),e.dim=t,e}var E,N=o,T=r,O=Object(h.a)(e,"start","brush","end"),z=6;return e.move=function(e,i){e.selection?e.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){function e(t){o.selection=1===t&&s(u)?null:A(t),n.call(r),a.brush()}var r=this,o=r.__brush,a=c(r,arguments),l=o.selection,u=t.input("function"==typeof i?i.apply(this,arguments):i,o.extent),A=Object(f.a)(l,u);return l&&u?e:e(1)}):e.each(function(){var e=this,r=arguments,o=e.__brush,a=t.input("function"==typeof i?i.apply(e,r):i,o.extent),l=c(e,r).beforestart();Object(g.a)(e),o.selection=null==a||s(a)?null:a,n.call(e),l.start().brush().end()})},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Object(p.customEvent)(new _.a(e,n,t.output(this.state.selection)),O.apply,O,[n,this.that,this.args])}},e.extent=function(t){return arguments.length?(N="function"==typeof t?t:Object(b.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):N},e.filter=function(t){return arguments.length?(T="function"==typeof t?t:Object(b.a)(!!t),e):T},e.handleSize=function(t){return arguments.length?(z=+t,e):z},e.on=function(){var t=O.on.apply(O,arguments);return t===O?e:t},e}e.a=c,e.b=l,e.c=u;var h=n(20),d=n(15),f=n(7),p=n(0),g=n(85),b=n(314),_=n(315),m=n(316),v={name:"drag"},y={name:"space"},w={name:"handle"},C={name:"center"},B={name:"x",handles:["e","w"].map(i),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},x={name:"y",handles:["n","s"].map(i),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},E={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(i),input:function(t){return t},output:function(t){return t}},M={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},k={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},I={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},D={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},j={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};e.d=function(){return A(E)}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(t,e,n){this.target=t,this.type=e,this.selection=n}},function(t,e,n){"use strict";function i(){r.event.stopImmediatePropagation()}e.b=i;var r=n(0);e.a=function(){r.event.preventDefault(),r.event.stopImmediatePropagation()}},function(t,e,n){"use strict";function i(t,e,n){var i=t.append("div").attr("id","text-edit-input");this.placed_div=h(i,e),this.placed_div.hide(),this.input=i.append("input"),this.map=e,this.setup_map_callbacks(e),this.zoom_container=n,this.setup_zoom_callbacks(n),this.is_new=!1}function r(t){t.callback_manager.set("edit_text_label.text_edit_input",function(t,e){this.show(t,e)}.bind(this)),t.callback_manager.set("new_text_label.text_edit_input",function(t){null!==this.active_target&&this._accept_changes(this.active_target.target),this.hide(),this._add_and_edit(t)}.bind(this)),t.callback_manager.set("hide_text_label_editor.text_edit_input",function(){this.hide()}.bind(this))}function o(t){t.callback_manager.set("zoom.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this)),t.callback_manager.set("go_to.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this))}function a(){return this.placed_div.is_visible()}function s(t,e){this.active_target&&this._accept_changes(this.active_target.target),this.active_target={target:t,coords:e},t.each(function(t){this.input.node().value=t.text}.bind(this)),this.placed_div.place(e),this.input.node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this._accept_changes(t),this.hide()}.bind(this),!0),this.clear_enter=this.map.key_manager.add_enter_listener(function(t){this._accept_changes(t),this.hide()}.bind(this,t),!0)}function c(){this.is_new=!1,this.placed_div.hide(),this.input.attr("value",""),this.active_target=null,this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_enter&&this.clear_enter(),this.clear_enter=null}function l(t){if(""===this.input.node().value)t.each(function(t){var e={};e[t.text_label_id]=this.map.text_labels[t.text_label_id],this.map.delete_selectable({},e,!0)}.bind(this));else{var e=[];t.each(function(t){this.map.edit_text_label(t.text_label_id,this.input.node().value,!0,this.is_new),e.push(t.text_label_id)}.bind(this))}}function u(t){this.is_new=!0;var e=this.map.new_text_label(t,""),n=this.map.sel.select("#text-labels").selectAll(".text-label").filter(function(t){return t.text_label_id===e});n.select("text").classed("edit-text-cursor",!0),this.show(n,t)}var A=n(1),h=n(44),d=(n(52),A.make_class());d.prototype={init:i,setup_map_callbacks:r,setup_zoom_callbacks:o,is_visible:a,show:s,hide:c,_accept_changes:l,_add_and_edit:u},t.exports=d},function(t,e,n){"use strict";function i(t,e){var n=t.append("select").attr("id","quick-jump-menu").attr("class","form-control");this.selector=n;var i=a.parse_url_components(window),r="map_name"in i?i.map_name:null,o="quick_jump_path"in i?i.quick_jump_path:null,s="quick_jump"in i?i.quick_jump:[],c=["— Jump to map —"].concat(s);null!==r&&(c=c.filter(function(t){return t!=r}));var l=function(t){e(t,o,function(e){e?this.replace_state_for_map_name(t):this.reset_selection()}.bind(this))}.bind(this);if(c.length>1){var u=n.selectAll("option").data(c);u.enter().append("option").merge(u).text(function(t){return t.split(".").slice(-1)[0]}),n.on("change",function(){var t=this.options[this.selectedIndex].__data__;l(t)})}else n.style("display","none")}function r(){this.selector.node().selectedIndex=0}function o(t){var e=window.location.href.replace(/(map_name=)([^&]+)(&|$)/,"$1"+t+"$3");window.history.replaceState("Not implemented","",e)}var a=n(1),s=a.make_class();s.prototype={init:i,reset_selection:r,replace_state_for_map_name:o},t.exports=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=this;this.div=t.append("div").attr("id","tooltip-container"),this.TooltipComponent=e,this.tooltipRef=null,this.zoom_container=n,this.setup_zoom_callbacks(n),this.callback_manager=(0,p.default)(),this.div.on("mouseover",this.cancelHideTooltip.bind(this)),this.div.on("mouseleave",this.hide.bind(this)),this.map=null,this.delay_hide_timeout=null,this.currentTooltip=null,d.default.render((0,h.h)(b.default,{callbackManager:this.callback_manager,component:this.TooltipComponent,refProp:function(t){i.tooltipRef=t}}),this.div.node())}function o(t){var e=this;this.map=t,this.placed_div=w(this.div,t,void 0,!1),t.callback_manager.set("show_tooltip.tooltip_container",function(e,n){t.settings.get_option("enable_tooltips").indexOf(e.replace("reaction_","").replace("node_","").replace("gene_",""))>-1&&this.show(e,n)}.bind(this)),t.callback_manager.set("hide_tooltip.tooltip_container",this.hide.bind(this)),t.sel.selectAll(".canvas-group").on("touchend",this.hide.bind(this)),t.callback_manager.set("delay_hide_tooltip.tooltip_container",this.delay_hide.bind(this)),t.callback_manager.set("update_tooltip.tooltip_container",function(t,n){if(null!==e.currentTooltip){var i=null;n.each(function(n){n[t.replace("_label","_id")]===e.currentTooltip.id&&(i=n)}),null===i?console.warn("Could not find tooltip data for "+e.currentTooltip):e.show(t,i)}})}function a(t){t.callback_manager.set("zoom.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this)),t.callback_manager.set("go_to.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this))}function s(){return this.placed_div.is_visible()}function c(t,e){if(this.cancelHideTooltip(),!m.default.contains(["reaction_label","node_label","gene_label","reaction_object","node_object"],t))throw new Error("Tooltip not supported for object type "+t);var n=null!==this.tooltipRef&&this.tooltipRef.getSize?this.tooltipRef.getSize():{width:270,height:100};this.currentTooltip={type:t,id:e[t.replace("_label","_id").replace("_object","_id")]};var i=this.zoom_container.window_translate,r=this.zoom_container.window_scale,o=null!==this.map?this.map.get_size():{width:1e3,height:1e3},a={x:0,y:0},s="object"===t.replace("reaction_","").replace("node_","").replace("gene_","")?e.xPos:e.label_x,c="object"===t.replace("reaction_","").replace("node_","").replace("gene_","")?e.yPos:e.label_y,l=r*s+i.x+n.width,u=r*c+i.y+n.height;o.width<500?(l>o.width&&(a.x=-(l-o.width)/r),u>o.height-74&&(a.y=-(u-o.height+77)/r)):(r*s+i.x+.5*n.width>o.width?a.x=-n.width/r:l>o.width&&(a.x=-(l-o.width)/r),r*c+i.y+.5*n.height>o.height-45?a.y=-n.height/r:u>o.height-45&&(a.y=-(u-o.height+47)/r));var A={x:s+a.x,y:c+10+a.y};this.placed_div.place(A);var h={biggId:e.bigg_id,name:e.name,loc:A,data:e.data_string,type:t.replace("_label","").replace("node","metabolite").replace("_object","")};this.callback_manager.run("setState",null,h)}function l(){this.placed_div.hide(),this.currentTooltip=null}function u(){this.delay_hide_timeout=setTimeout(function(){this.hide()}.bind(this),100)}function A(){null!==this.delay_hide_timeout&&clearTimeout(this.delay_hide_timeout)}var h=n(3),d=i(h),f=n(18),p=i(f),g=n(58),b=i(g),_=n(2),m=i(_),v=n(1),y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(v),w=n(44),C=y.make_class();C.prototype={init:r,setup_map_callbacks:o,setup_zoom_callbacks:a,is_visible:s,show:c,hide:l,delay_hide:u,cancelHideTooltip:A},t.exports=C},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(3);n(321);var s=n(1),c=function(t){function e(){return i(this,e),r(this,t.apply(this,arguments))}return o(e,t),e.prototype.decompartmentalizeCheck=function(t,e){return"metabolite"===e?s.decompartmentalize(t)[0]:t},e.prototype.openBigg=function(){var t=this.props.type,e=this.props.biggId,n="http://bigg.ucsd.edu/",i="gene"===t?n+"search?query="+e:n+"universal/"+t+"s/"+this.decompartmentalizeCheck(e,t);window.open(i)},e.prototype.capitalizeFirstLetter=function(t){return"string"==typeof t?t.charAt(0).toUpperCase()+t.slice(1):console.warn("capitalizeFirstLetter was passed something other than a string")},e.prototype.render=function(){var t=this,e=this.decompartmentalizeCheck(this.props.biggId,this.props.type),n="Open "+e+" in BiGG Models.";return(0,a.h)("div",{className:"tooltip"},(0,a.h)("div",{className:"id"},this.props.biggId),(0,a.h)("div",{className:"name"},"name: ",this.props.name),(0,a.h)("div",{className:"data"},"data: ",this.props.data&&"(nd)"!==this.props.data?this.props.data:"no data"),(0,a.h)("button",{className:"biggIdButton",onClick:function(){return t.openBigg()}},n),(0,a.h)("div",{className:"typeLabel"},this.capitalizeFirstLetter(this.props.type)))},e}(a.Component);e.default=c},function(t,e,n){var i=n(322);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container .tooltip{box-sizing:border-box;min-width:270px;min-height:100px;border-radius:2px;border:1px solid #b58787;padding:7px;background-color:#fff;text-align:left;font-size:16px;font-family:sans-serif;color:#111;box-shadow:4px 6px 20px 0 rgba(0,0,0,.4)}.escher-container .tooltip .id{font-size:18px;font-weight:700}.escher-container .tooltip .biggIdButton{border-radius:3px;background-color:#eee;border:1px solid #ddd;margin-top:4px;font-size:16px;padding:3px 6px}.escher-container .tooltip .typeLabel{position:absolute;top:4px;right:4px;color:#d27066;background-color:#ffeded;border-radius:2px;font-size:14px;text-align:right;padding:0 5px}","",{version:3,sources:["/Users/zaking/repos/escher/src/DefaultTooltip.css"],names:[],mappings:"AAAA,2BACE,sBAAuB,AACvB,gBAAiB,AACjB,iBAAkB,AAClB,kBAAmB,AACnB,yBAA0B,AAC1B,YAAa,AACb,sBAAuB,AACvB,gBAAiB,AACjB,eAAgB,AAChB,uBAAwB,AACxB,WAAY,AACZ,wCAAgD,CACjD,AAED,+BACE,eAAgB,AAChB,eAAkB,CACnB,AAED,yCACE,kBAAmB,AACnB,sBAAuB,AACvB,sBAAuB,AACvB,eAAgB,AAChB,eAAgB,AAChB,eAAiB,CAClB,AAED,sCACE,kBAAmB,AACnB,QAAS,AACT,UAAW,AACX,cAAe,AACf,yBAA0B,AAC1B,kBAAmB,AACnB,eAAgB,AAChB,iBAAkB,AAClB,aAAiB,CAClB",file:"DefaultTooltip.css",sourcesContent:[".escher-container .tooltip {\n  box-sizing: border-box;\n  min-width: 270px;\n  min-height: 100px;\n  border-radius: 2px;\n  border: 1px solid #b58787;\n  padding: 7px;\n  background-color: #fff;\n  text-align: left;\n  font-size: 16px;\n  font-family: sans-serif;\n  color: #111;\n  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);\n}\n\n.escher-container .tooltip .id{\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.escher-container .tooltip .biggIdButton {\n  border-radius: 3px;\n  background-color: #eee;\n  border: 1px solid #ddd;\n  margin-top: 4px;\n  font-size: 16px;\n  padding: 3px 6px;\n}\n\n.escher-container .tooltip .typeLabel {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  color: #d27066;\n  background-color: #ffeded;\n  border-radius: 2px;\n  font-size: 14px;\n  text-align: right;\n  padding: 0px 5px;\n}"],sourceRoot:""}])},function(t,e,n){var i=n(324);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,"@font-face{font-family:fontello;src:url("+n(118)+");src:url("+n(118)+'#iefix) format("embedded-opentype"),url('+n(325)+') format("woff2"),url('+n(326)+') format("woff"),url('+n(327)+') format("truetype"),url('+n(328)+'#fontello) format("svg");font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:fontello;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-ok:before{content:"\\E800"}.icon-cancel:before{content:"\\E801"}.icon-plus:before{content:"\\E802"}.icon-down-big:before{content:"\\E803"}.icon-left-big:before{content:"\\E804"}.icon-right-big:before{content:"\\E805"}.icon-up-big:before{content:"\\E806"}.icon-left-open:before{content:"\\E807"}.icon-right-open:before{content:"\\E808"}.icon-wrench:before{content:"\\E809"}.icon-resize-full:before{content:"\\E80A"}.icon-cw:before{content:"\\E80B"}.icon-trash-empty:before{content:"\\E80E"}.icon-font:before{content:"\\E80F"}.icon-zoom-in:before{content:"\\E810"}.icon-zoom-out:before{content:"\\E811"}.icon-move:before{content:"\\F047"}.icon-resize-full-alt:before{content:"\\F0B2"}.icon-blank:before{content:"\\F0C8"}.icon-sort-down:before{content:"\\F0DD"}.icon-mouse-pointer:before{content:"\\F245"}',"",{version:3,sources:["/Users/zaking/repos/escher/icons/css/fontello.css"],names:[],mappings:"AAAA,WACE,qBAAwB,AACxB,kCAAyC,AACzC,sPAIgE,AAChE,gBAAoB,AACpB,iBAAmB,CACpB,AAYA,+CACC,qBAAwB,AACxB,kBAAmB,AACnB,gBAAoB,AACpB,WAAY,AAEZ,qBAAsB,AACtB,wBAAyB,AACzB,UAAW,AACX,kBAAmB,AACnB,kBAAmB,AAInB,oBAAqB,AACrB,oBAAqB,AAGrB,gBAAiB,AAIjB,iBAAkB,AAMlB,mCAAoC,AACpC,iCAAmC,CAIpC,AAED,gBAAkB,eAAiB,CAAE,AACrC,oBAAsB,eAAiB,CAAE,AACzC,kBAAoB,eAAiB,CAAE,AACvC,sBAAwB,eAAiB,CAAE,AAC3C,sBAAwB,eAAiB,CAAE,AAC3C,uBAAyB,eAAiB,CAAE,AAC5C,oBAAsB,eAAiB,CAAE,AACzC,uBAAyB,eAAiB,CAAE,AAC5C,wBAA0B,eAAiB,CAAE,AAC7C,oBAAsB,eAAiB,CAAE,AACzC,yBAA2B,eAAiB,CAAE,AAC9C,gBAAkB,eAAiB,CAAE,AACrC,yBAA2B,eAAiB,CAAE,AAC9C,kBAAoB,eAAiB,CAAE,AACvC,qBAAuB,eAAiB,CAAE,AAC1C,sBAAwB,eAAiB,CAAE,AAC3C,kBAAoB,eAAiB,CAAE,AACvC,6BAA+B,eAAiB,CAAE,AAClD,mBAAqB,eAAiB,CAAE,AACxC,uBAAyB,eAAiB,CAAE,AAC5C,2BAA6B,eAAiB,CAAE",file:"fontello.css",sourcesContent:["@font-face {\n  font-family: 'fontello';\n  src: url('../font/fontello.eot?9130959');\n  src: url('../font/fontello.eot?9130959#iefix') format('embedded-opentype'),\n       url('../font/fontello.woff2?9130959') format('woff2'),\n       url('../font/fontello.woff?9130959') format('woff'),\n       url('../font/fontello.ttf?9130959') format('truetype'),\n       url('../font/fontello.svg?9130959#fontello') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'fontello';\n    src: url('../font/fontello.svg?9130959#fontello') format('svg');\n  }\n}\n*/\n \n [class^=\"icon-\"]:before, [class*=\" icon-\"]:before {\n  font-family: \"fontello\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.icon-ok:before { content: '\\e800'; } /* '' */\n.icon-cancel:before { content: '\\e801'; } /* '' */\n.icon-plus:before { content: '\\e802'; } /* '' */\n.icon-down-big:before { content: '\\e803'; } /* '' */\n.icon-left-big:before { content: '\\e804'; } /* '' */\n.icon-right-big:before { content: '\\e805'; } /* '' */\n.icon-up-big:before { content: '\\e806'; } /* '' */\n.icon-left-open:before { content: '\\e807'; } /* '' */\n.icon-right-open:before { content: '\\e808'; } /* '' */\n.icon-wrench:before { content: '\\e809'; } /* '' */\n.icon-resize-full:before { content: '\\e80a'; } /* '' */\n.icon-cw:before { content: '\\e80b'; } /* '' */\n.icon-trash-empty:before { content: '\\e80e'; } /* '' */\n.icon-font:before { content: '\\e80f'; } /* '' */\n.icon-zoom-in:before { content: '\\e810'; } /* '' */\n.icon-zoom-out:before { content: '\\e811'; } /* '' */\n.icon-move:before { content: '\\f047'; } /* '' */\n.icon-resize-full-alt:before { content: '\\f0b2'; } /* '' */\n.icon-blank:before { content: '\\f0c8'; } /* '' */\n.icon-sort-down:before { content: '\\f0dd'; } /* '' */\n.icon-mouse-pointer:before { content: '\\f245'; } /* '' */"],sourceRoot:""}])},function(t,e){t.exports="data:application/font-woff2;base64,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"},function(t,e){t.exports="data:application/font-woff;base64,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"},function(t,e){t.exports="data:application/octet-stream;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI+I1MqAAABUAAAAFZjbWFwh1r3sAAAAagAAAK4Y3Z0IAbV/v4AABjcAAAAIGZwZ22KkZBZAAAY/AAAC3BnYXNwAAAAEAAAGNQAAAAIZ2x5ZhPQy/4AAARgAAAPmmhlYWQPoZfIAAAT/AAAADZoaGVhBzsDaAAAFDQAAAAkaG10eElc//wAABRYAAAAWGxvY2Ep+yYIAAAUsAAAAC5tYXhwASUMCgAAFOAAAAAgbmFtZcydHR8AABUAAAACzXBvc3Sd6TSHAAAX0AAAAQNwcmVw5UErvAAAJGwAAACGAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDVgGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOgA8kUDUv9qAFoDUgCZAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAGsAAEAAAAAAKYAAwABAAAALAADAAoAAAGsAAQAegAAABAAEAADAADoC+gR8EfwsvDI8N3yRf//AADoAOgO8EfwsvDI8N3yRf//AAAAAAAAAAAAAAAAAAAAAQAQACYALAAsACwALAAsAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAQwAAAAAAAAAFQAA6AAAAOgAAAAAAQAA6AEAAOgBAAAAAgAA6AIAAOgCAAAAAwAA6AMAAOgDAAAABAAA6AQAAOgEAAAABQAA6AUAAOgFAAAABgAA6AYAAOgGAAAABwAA6AcAAOgHAAAACAAA6AgAAOgIAAAACQAA6AkAAOgJAAAACgAA6AoAAOgKAAAACwAA6AsAAOgLAAAADAAA6A4AAOgOAAAADQAA6A8AAOgPAAAADgAA6BAAAOgQAAAADwAA6BEAAOgRAAAAEAAA8EcAAPBHAAAAEQAA8LIAAPCyAAAAEgAA8MgAAPDIAAAAEwAA8N0AAPDdAAAAFAAA8kUAAPJFAAAAFQABAAAAAAOlApgAFQAdQBoPAQABAUcAAgECbwABAAFvAAAAZhQXFAMFFysBFAcBBiInASY0PwE2Mh8BATYyHwEWA6UQ/iAQLBD+6g8PTBAsEKQBbhAsEEwQAhYWEP4gDw8BFhAsEEwQEKUBbxAQTA8AAQAA/+8C1AKGACQAHkAbIhkQBwQAAgFHAwECAAJvAQEAAGYUHBQUBAUYKyUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYC1A9MECwQpKQQLBBMEBCkpBAQTBAsEKSkECwQTA8PpKQPcBYQTA8PpaUPD0wQLBCkpBAsEEwQEKSkEBBMDy4PpKQPAAEAAP/5AxIDCwAjAClAJgAEAwRvAAEAAXAFAQMAAANUBQEDAwBYAgEAAwBMIzMlIzMjBgUaKwEVFAYnIxUUBgcjIiY3NSMiJic1NDY3MzU0NjsBMhYXFTMyFgMSIBboIBZrFiAB6BceASAW6B4XaxceAegXHgG3axYgAekWHgEgFekeF2sXHgHoFiAgFuggAAEAAP/PA4MDCwAeACBAHRgPAgABAUcAAgECbwMBAQABbwAAAGYVNRcUBAUYKwEUBwEGIicBJjQ/ATYyHwERNDY3MzIWFRE3NjIfARYDgxX+lRY6Ff6VFRUpFjoVpCoeRx0qpRQ7FikVAYIeFP6UFRUBbBQ7FikVFaQBiR0qASwc/nekFRUpFgABAAD/iANZAu0AHQAkQCEAAgMCbwABAAFwAAMAAANUAAMDAFgAAAMATCYXFiMEBRgrARUUBiMhFxYUDwEGIicBJjQ3ATYyHwEWFA8BITIWA1kkHf53pBUVKhU7Ff6UFBQBbBU6FioVFaQBiR0kAV5HHiqkFDwUKxQUAWwVOhYBaxUVKRY6FqQoAAAAAAEAAP+IAzUC7QAeACRAIQADAgNvAAABAHAAAgEBAlQAAgIBWAABAgFMFiUmFAQFGCsBFAcBBiIvASY0PwEhIiY9ATQ2FyEnJjQ/ATYyFwEWAzUU/pUWOhUqFhaj/ncdJCQdAYmjFhYqFToWAWsUAToeFP6UFBQqFTwVoyoeRx4qAaUUPBQqFRX+lRQAAQAA/7EDgwLnAB4AIEAdEAcCAAMBRwADAANvAgEAAQBvAAEBZhcVNRQEBRgrARQPAQYiLwERFAYHIyImNREHBiIvASY0NwE2MhcBFgODFSkWOxSlKB9HHiqkFDwUKhUVAWsUPBUBaxUBNBwWKhUVpP53HSQBJhwBiaQVFSoVOxUBaxUV/pUWAAEAAP/AApgDRAAUAC21AQEAAQFHS7AkUFhACwAAAQBwAAEBDAFJG0AJAAEAAW8AAABmWbQXFwIFFisJAhYUDwEGIicBJjQ3ATYyHwEWFAKO/tcBKQoKXQscC/5iCwsBngoeCl0KAqr+2P7XCh4KXQoKAZ8KHgoBngsLXQoeAAAAAQAA/8ACdANEABQALbUJAQABAUdLsCRQWEALAAABAHAAAQEMAUkbQAkAAQABbwAAAGZZtBwSAgUWKwkBBiIvASY0NwkBJjQ/ATYyFwEWFAJq/mILHAtdCwsBKP7YCwtdCh4KAZ4KAWn+YQoKXQscCwEpASgLHAtdCwv+YgscAAADAAD/dgOgAwsACAAUAC4AWUAQJgEEAygnEgMCBAABAQADR0uwIVBYQBoAAwQDbwAEAgRvAAIAAm8AAAEAbwABAQ0BSRtAGAADBANvAAQCBG8AAgACbwAAAQBvAAEBZlm3HCMtGBIFBRkrNzQmDgIeATYlAQYiLwEmNDcBHgElFAcOASciJjQ2NzIWFxYUDwEVFzY/ATYyFtYUHhQCGBoYAWb+gxU6FjsVFQF8FlQBmQ0bgk9okpJoIEYZCQmjbAIqSyEPCh0OFgISIBIEGvb+gxQUPRQ7FgF8N1TdFiVLXgGS0JACFBAGEgdefTwCGS0UCgAAAgAA/7EDWgMLABgAMAAxQC4oHxkDAgQSDAMDAAECRwAEAgRvAAIDAm8AAwEDbwABAAFvAAAAZjoUFxo3BQUZKwEUDwEXFhQGByMiJic1ND4BHwE3NjIfARYBFRQOAS8BBwYiLwEmND8BJyY0NjczMhYBpQW5UAoUD/oPFAEWHAtQugUOBkAFAbQUIAlQuQYOBkAFBbpRChQP+g8WAQUHBrlRCh4UARYO+g8UAgxQuQYGPwYB2/oPFAIMULkGBkAFDga5UQoeFAEWAAAAAf/+/7EDWQMLADAAPUA6LQEBBQkBAAECRwAAAQMBAANtAAMCAQMCawAFAAEABQFgAAIEBAJUAAICBFgABAIETCcnEyckMwYFGisBFRQGKwEiJj8BJiMiDgIUHgIzMjY3PgEfAR4BBw4BByIuAj4DMzIWFzc2FgNZFBD6FxMRTVJwOmpMLi5MajpCdikEEQZMBQIGPK5fV6BwSARAeJhbUpg9SBEsAsP6DhYtEE1NLkxqdGpMLjo1BgEFTQQOBkpQAUR0nq6edEQ+OUgSEwAAAAYAAP+xAxIDCwAPAB8ALwA7AEMAZwBkQGFXRQIGCCkhGREJAQYAAQJHBQMCAQYABgEAbQQCAgAHBgAHawAOAAkIDglgDw0CCAwKAgYBCAZeAAcLCwdUAAcHC1gACwcLTGVkYV5bWVNST0xJR0E/FCQUJiYmJiYjEAUdKwERFAYrASImNRE0NjsBMhYXERQGKwEiJjURNDY7ATIWFxEUBisBIiY1ETQ2OwEyFhMRIREUHgEzITI+AQEzJyYnIwYHBRUUBisBERQGIyEiJicRIyImPQE0NjsBNz4BNzMyFh8BMzIWAR4KCCQICgoIJAgKjwoIJAgKCggkCAqOCgckCAoKCCQHCkj+DAgIAgHQAggI/on6GwQFsQYEAesKCDY0Jf4wJTQBNQgKCgisJwksFrIXKgknrQgKAbf+vwgKCggBQQgKCgj+vwgKCggBQQgKCgj+vwgKCggBQQgKCv5kAhH97wwUCgoUAmVBBQEBBVMkCAr97y5EQi4CEwoIJAgKXRUcAR4UXQoAAgAA/7EDoQMLAAcAUACzQAk+NiEJBAUDAUdLsApQWEAqAAEAAW8ABQMCAwUCbQACBAMCBGsHBgIEBG4AAAMDAFIAAAADVgADAANKG0uwC1BYQCoAAQABbwAFAwIDBQJtBAECBgMCBmsHAQYGbgAAAwMAUgAAAANWAAMAA0obQCoAAQABbwAFAwIDBQJtAAIEAwIEawcGAgQEbgAAAwMAUgAAAANWAAMAA0pZWUATCAgIUAhQTEtKSTs6KiMbUQgFFisBBxcWMzI3JgE3PgQ3GwEzFxMeARceARcWFx4BFxYVFAYXIiYHIgYjND8CNj8BNj8BNic0Ji8CDgEXFB4BHwEWNxYVFAciJiMiBicGAZVfTDofCxUw/jUBDSQcHBYGhJxIBnITUhYJMBALCAtMCQQCASOOJCqcFQJJBwYDEQQCBQMCIhcY+w46ARAgCyAVAgEBIYIgBRQCLQIa+wEBAY3+BiwEBgYKGBABWAGUDP70K8o0E3ohGgYJEAMWCgMKAgoBCBgTEAEBAQcCAgYEBAlaNjgBIJoODBIKAgUDAQsVBQsMBgEIAAP///9qA6EDDQAjACwARQBdQFofGAIDBBMSAQMAAw0GAgEAQwEHATIBCQcFRwAEBgMGBANtAAEABwABB20ACgAGBAoGYAUBAwIBAAEDAGAABwAJCAcJYAAICA0IST08NTMUExUUIyYUIyMLBR0rARUUBicjFRQGJyMiJjc1IyImJzU0NjsBNTQ2OwEyFhcVMzIWFzQuAQYUFj4BARQGIi8BBiMiLgI+BB4CFxQHFxYCOwoHfQwGJAcMAX0HCgEMBn0KCCQHCgF9BwpIktCSktCSAR4qPBS/ZHtQkmhAAjxsjqSObDwBRb8VAZQkBwwBfQcMAQoIfQoIJAcKfQgKCgh9ChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAAD////agOhAw0ADwAYADEAO0A4CQgBAwABLwEDAB4BBQMDRwAGAAIBBgJgAAEAAAMBAGAAAwAFBAMFYAAEBA0ESRcjFBMVJiMHBRsrARUUBichIiYnNTQ2MyEyFhc0LgEGFBY+AQEUBiIvAQYjIi4CPgQeAhcUBxcWAjsKB/6+BwoBDAYBQgcKSJLQkpLQkgEeKjwUv2R7UJJoQAI8bI6kjmw8AUW/FQGUJAcMAQoIJAcKChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAEAAP9qA+gDUgBEAFBATQsBCQoHCgkHbQ0BBwgKBwhrBgEAAQIBAAJtBAECAwECA2sMAQgFAQEACAFeAAoKDEgAAwMNA0lBQD08Ozk0My4sExcTESUVIRMUDgUdKwEUDwEGIiY9ASMVMzIWFA8BBiIvASY0NjsBNSMVFAYiLwEmND8BNjIWHQEzNSMiJjQ/ATYyHwEWFAYrARUzNTQ2Mh8BFgPoC44LHhTXSA4WC48KHgqPCxYOSNcUHgqPCwuPCh4U10gOFguPCxwLjwsWDkjXFB4LjgsBXg4LjwsWDkjXFB4KjwsLjwoeFNdIDhYLjwscC48LFg5I1xQeC44LC44LHhTXSA4WC48KAAABAAD/sQNaAwsARQAyQC8+NTMiBAIDNCEgGxIREAIBCQACAkcEAQMCA28FAQIAAm8BAQAAZiY6Nxs6OQYFGisBBxc3NhYdARQGKwEiJyY/AScHFxYHBisBIiYnNTQ2HwE3JwcGIyInJj0BNDY7ATIXFg8BFzcnJjc2OwEyFgcVFAcGIyInAszGxlARLBQQ+hcJChFRxsZQEQkKF/oPFAEsEVDGxlALDgcHFhYO+hcKCRFQxsZREQoJF/oPFgEWBwcOCwIkxsZQEhMY+g4WFxURUcbGUREVFxYO+hgTElDGxlALAwkY+g4WFxURUcbGUREVFxYO+hgJAwsAAAABAAD/sQNZAwsADwARQA4AAQABbwAAAGY1MwIFFisBERQGByEiJjURNDY3ITIWA1leQ/3pQ15eQwIXQ14Cav3oQl4BYEECGEJeAWAAAQAA/9UCPAEXAA4AF0AUAAEAAQFHAAEAAW8AAABmJhQCBRYrJRQPAQYiLwEmNDY3ITIWAjsK+gscC/oLFg4B9A4W8w8K+gsL+goeFAEWAAABAAD/ZwKKA1IAHAAhQB4OAQEAAUcAAAIBAgABbQABAW4AAgIMAkkoGyMDBRcrARYHBisBExYGDwEGJi8BBwYjIicmNRE0NzYzMhcCeBIKCRjVcAYMDWMOGgZrrgsOBwcWFgcHDwoBDBEVF/72DRwFKgYMDfyuCwMKFwNHGAkDCwAAAAABAAAAAQAA775IPF8PPPUACwPoAAAAANZOKhUAAAAA1k4qFf/+/2cD6ANSAAAACAACAAAAAAAAAAEAAANS/2oAAAPo//7//wPoAAEAAAAAAAAAAAAAAAAAAAAWA+gAAAPoAAADEQAAAxEAAAOgAAADWQAAA1kAAAOgAAACygAAAsoAAAOgAAADWQAAA1n//gMRAAADoAAAA6D//wOg//8D6AAAA1kAAANZAAACOwAAAsoAAAAAAAAAOACCAMoBDgFUAZoB3gIeAl4C2AM+A6YEagU+BdAGOgbABz4HZAeMB80AAAABAAAAFgBoAAYAAAAAAAIAIAAwAHMAAAB1C3AAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEACAA1AAEAAAAAAAIABwA9AAEAAAAAAAMACABEAAEAAAAAAAQACABMAAEAAAAAAAUACwBUAAEAAAAAAAYACABfAAEAAAAAAAoAKwBnAAEAAAAAAAsAEwCSAAMAAQQJAAAAagClAAMAAQQJAAEAEAEPAAMAAQQJAAIADgEfAAMAAQQJAAMAEAEtAAMAAQQJAAQAEAE9AAMAAQQJAAUAFgFNAAMAAQQJAAYAEAFjAAMAAQQJAAoAVgFzAAMAAQQJAAsAJgHJQ29weXJpZ2h0IChDKSAyMDE3IGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21mb250ZWxsb1JlZ3VsYXJmb250ZWxsb2ZvbnRlbGxvVmVyc2lvbiAxLjBmb250ZWxsb0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABDACkAIAAyADAAMQA3ACAAYgB5ACAAbwByAGkAZwBpAG4AYQBsACAAYQB1AHQAaABvAHIAcwAgAEAAIABmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQBmAG8AbgB0AGUAbABsAG8AUgBlAGcAdQBsAGEAcgBmAG8AbgB0AGUAbABsAG8AZgBvAG4AdABlAGwAbABvAFYAZQByAHMAaQBvAG4AIAAxAC4AMABmAG8AbgB0AGUAbABsAG8ARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFgECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXAAJvawZjYW5jZWwEcGx1cwhkb3duLWJpZwhsZWZ0LWJpZwlyaWdodC1iaWcGdXAtYmlnCWxlZnQtb3BlbgpyaWdodC1vcGVuBndyZW5jaAtyZXNpemUtZnVsbAJjdwt0cmFzaC1lbXB0eQRmb250B3pvb20taW4Iem9vbS1vdXQEbW92ZQ9yZXNpemUtZnVsbC1hbHQFYmxhbmsJc29ydC1kb3duDW1vdXNlLXBvaW50ZXIAAAAAAQAB//8ADwAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGANS/2cDUv9nsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIGQgsMBQsAQmWrIoAQpDRWNFUltYISMhG4pYILBQUFghsEBZGyCwOFBYIbA4WVkgsQEKQ0VjRWFksChQWCGxAQpDRWNFILAwUFghsDBZGyCwwFBYIGYgiophILAKUFhgGyCwIFBYIbAKYBsgsDZQWCGwNmAbYFlZWRuwAStZWSOwAFBYZVlZLbADLCBFILAEJWFkILAFQ1BYsAUjQrAGI0IbISFZsAFgLbAELCMhIyEgZLEFYkIgsAYjQrEBCkNFY7EBCkOwAWBFY7ADKiEgsAZDIIogirABK7EwBSWwBCZRWGBQG2FSWVgjWSEgsEBTWLABKxshsEBZI7AAUFhlWS2wBSywB0MrsgACAENgQi2wBiywByNCIyCwACNCYbACYmawAWOwAWCwBSotsAcsICBFILALQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAILLIHCwBDRUIqIbIAAQBDYEItsAkssABDI0SyAAEAQ2BCLbAKLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbALLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsAwsILAAI0KyCwoDRVghGyMhWSohLbANLLECAkWwZGFELbAOLLABYCAgsAxDSrAAUFggsAwjQlmwDUNKsABSWCCwDSNCWS2wDywgsBBiZrABYyC4BABjiiNhsA5DYCCKYCCwDiNCIy2wECxLVFixBGREWSSwDWUjeC2wESxLUVhLU1ixBGREWRshWSSwE2UjeC2wEiyxAA9DVVixDw9DsAFhQrAPK1mwAEOwAiVCsQwCJUKxDQIlQrABFiMgsAMlUFixAQBDYLAEJUKKiiCKI2GwDiohI7ABYSCKI2GwDiohG7EBAENgsAIlQrACJWGwDiohWbAMQ0ewDUNHYLACYiCwAFBYsEBgWWawAWMgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLEAABMjRLABQ7AAPrIBAQFDYEItsBMsALEAAkVUWLAPI0IgRbALI0KwCiOwAWBCIGCwAWG1EBABAA4AQkKKYLESBiuwcisbIlktsBQssQATKy2wFSyxARMrLbAWLLECEystsBcssQMTKy2wGCyxBBMrLbAZLLEFEystsBossQYTKy2wGyyxBxMrLbAcLLEIEystsB0ssQkTKy2wHiwAsA0rsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wHyyxAB4rLbAgLLEBHistsCEssQIeKy2wIiyxAx4rLbAjLLEEHistsCQssQUeKy2wJSyxBh4rLbAmLLEHHistsCcssQgeKy2wKCyxCR4rLbApLCA8sAFgLbAqLCBgsBBgIEMjsAFgQ7ACJWGwAWCwKSohLbArLLAqK7AqKi2wLCwgIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgjIIpVWCBHICCwC0NjuAQAYiCwAFBYsEBgWWawAWNgI2E4GyFZLbAtLACxAAJFVFiwARawLCqwARUwGyJZLbAuLACwDSuxAAJFVFiwARawLCqwARUwGyJZLbAvLCA1sAFgLbAwLACwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwC0NjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sS8BFSotsDEsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYTgtsDIsLhc8LbAzLCA8IEcgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2GwAUNjOC2wNCyxAgAWJSAuIEewACNCsAIlSYqKRyNHI2EgWGIbIVmwASNCsjMBARUUKi2wNSywABawBCWwBCVHI0cjYbAJQytlii4jICA8ijgtsDYssAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgsAhDIIojRyNHI2EjRmCwBEOwAmIgsABQWLBAYFlmsAFjYCCwASsgiophILACQ2BkI7ADQ2FkUFiwAkNhG7ADQ2BZsAMlsAJiILAAUFiwQGBZZrABY2EjICCwBCYjRmE4GyOwCENGsAIlsAhDRyNHI2FgILAEQ7ACYiCwAFBYsEBgWWawAWNgIyCwASsjsARDYLABK7AFJWGwBSWwAmIgsABQWLBAYFlmsAFjsAQmYSCwBCVgZCOwAyVgZFBYIRsjIVkjICCwBCYjRmE4WS2wNyywABYgICCwBSYgLkcjRyNhIzw4LbA4LLAAFiCwCCNCICAgRiNHsAErI2E4LbA5LLAAFrADJbACJUcjRyNhsABUWC4gPCMhG7ACJbACJUcjRyNhILAFJbAEJUcjRyNhsAYlsAUlSbACJWG5CAAIAGNjIyBYYhshWWO4BABiILAAUFiwQGBZZrABY2AjLiMgIDyKOCMhWS2wOiywABYgsAhDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsDssIyAuRrACJUZSWCA8WS6xKwEUKy2wPCwjIC5GsAIlRlBYIDxZLrErARQrLbA9LCMgLkawAiVGUlggPFkjIC5GsAIlRlBYIDxZLrErARQrLbA+LLA1KyMgLkawAiVGUlggPFkusSsBFCstsD8ssDYriiAgPLAEI0KKOCMgLkawAiVGUlggPFkusSsBFCuwBEMusCsrLbBALLAAFrAEJbAEJiAuRyNHI2GwCUMrIyA8IC4jOLErARQrLbBBLLEIBCVCsAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgR7AEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYbACJUZhOCMgPCM4GyEgIEYjR7ABKyNhOCFZsSsBFCstsEIssDUrLrErARQrLbBDLLA2KyEjICA8sAQjQiM4sSsBFCuwBEMusCsrLbBELLAAFSBHsAAjQrIAAQEVFBMusDEqLbBFLLAAFSBHsAAjQrIAAQEVFBMusDEqLbBGLLEAARQTsDIqLbBHLLA0Ki2wSCywABZFIyAuIEaKI2E4sSsBFCstsEkssAgjQrBIKy2wSiyyAABBKy2wSyyyAAFBKy2wTCyyAQBBKy2wTSyyAQFBKy2wTiyyAABCKy2wTyyyAAFCKy2wUCyyAQBCKy2wUSyyAQFCKy2wUiyyAAA+Ky2wUyyyAAE+Ky2wVCyyAQA+Ky2wVSyyAQE+Ky2wViyyAABAKy2wVyyyAAFAKy2wWCyyAQBAKy2wWSyyAQFAKy2wWiyyAABDKy2wWyyyAAFDKy2wXCyyAQBDKy2wXSyyAQFDKy2wXiyyAAA/Ky2wXyyyAAE/Ky2wYCyyAQA/Ky2wYSyyAQE/Ky2wYiywNysusSsBFCstsGMssDcrsDsrLbBkLLA3K7A8Ky2wZSywABawNyuwPSstsGYssDgrLrErARQrLbBnLLA4K7A7Ky2waCywOCuwPCstsGkssDgrsD0rLbBqLLA5Ky6xKwEUKy2wayywOSuwOystsGwssDkrsDwrLbBtLLA5K7A9Ky2wbiywOisusSsBFCstsG8ssDorsDsrLbBwLLA6K7A8Ky2wcSywOiuwPSstsHIsswkEAgNFWCEbIyFZQiuwCGWwAyRQeLABFTAtAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAFQrIAAQAqsQAFQrMKAgEIKrEABUKzDgABCCqxAAZCugLAAAEACSqxAAdCugBAAAEACSqxAwBEsSQBiFFYsECIWLEDZESxJgGIUVi6CIAAAQRAiGNUWLEDAERZWVlZswwCAQwquAH/hbAEjbECAEQAAA=="},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxtZXRhZGF0YT5Db3B5cmlnaHQgKEMpIDIwMTcgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbTwvbWV0YWRhdGE+CjxkZWZzPgo8Zm9udCBpZD0iZm9udGVsbG8iIGhvcml6LWFkdi14PSIxMDAwIiA+Cjxmb250LWZhY2UgZm9udC1mYW1pbHk9ImZvbnRlbGxvIiBmb250LXdlaWdodD0iNDAwIiBmb250LXN0cmV0Y2g9Im5vcm1hbCIgdW5pdHMtcGVyLWVtPSIxMDAwIiBhc2NlbnQ9Ijg1MCIgZGVzY2VudD0iLTE1MCIgLz4KPG1pc3NpbmctZ2x5cGggaG9yaXotYWR2LXg9IjEwMDAiIC8+CjxnbHlwaCBnbHlwaC1uYW1lPSJvayIgdW5pY29kZT0iJiN4ZTgwMDsiIGQ9Ik05MzMgNTM0cTAtMjItMTYtMzhsLTQwNC00MDQtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtNzYgNzYtMjAyIDIwMnEtMTUgMTYtMTUgMzh0MTUgMzhsNzYgNzZxMTYgMTYgMzggMTZ0MzgtMTZsMTY0LTE2NSAzNjYgMzY3cTE2IDE2IDM4IDE2dDM4LTE2bDc2LTc2cTE2LTE1IDE2LTM4eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iY2FuY2VsIiB1bmljb2RlPSImI3hlODAxOyIgZD0iTTcyNCAxMTJxMC0yMi0xNS0zOGwtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtMTY0IDE2NS0xNjQtMTY1cS0xNi0xNS0zOC0xNXQtMzggMTVsLTc2IDc2cS0xNiAxNi0xNiAzOHQxNiAzOGwxNjQgMTY0LTE2NCAxNjRxLTE2IDE2LTE2IDM4dDE2IDM4bDc2IDc2cTE2IDE2IDM4IDE2dDM4LTE2bDE2NC0xNjQgMTY0IDE2NHExNiAxNiAzOCAxNnQzOC0xNmw3Ni03NnExNS0xNSAxNS0zOHQtMTUtMzhsLTE2NC0xNjQgMTY0LTE2NHExNS0xNSAxNS0zOHoiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJwbHVzIiB1bmljb2RlPSImI3hlODAyOyIgZD0iTTc4NiA0Mzl2LTEwN3EwLTIyLTE2LTM4dC0zOC0xNWgtMjMydi0yMzNxMC0yMi0xNi0zN3QtMzgtMTZoLTEwN3EtMjIgMC0zOCAxNnQtMTUgMzd2MjMzaC0yMzJxLTIzIDAtMzggMTV0LTE2IDM4djEwN3EwIDIzIDE2IDM4dDM4IDE2aDIzMnYyMzJxMCAyMiAxNSAzOHQzOCAxNmgxMDdxMjMgMCAzOC0xNnQxNi0zOHYtMjMyaDIzMnEyMyAwIDM4LTE2dDE2LTM4eiIgaG9yaXotYWR2LXg9Ijc4NS43IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9ImRvd24tYmlnIiB1bmljb2RlPSImI3hlODAzOyIgZD0iTTg5OSAzODZxMC0zMC0yMS01MGwtMzYzLTM2NHEtMjItMjEtNTEtMjEtMjkgMC01MCAyMWwtMzYzIDM2NHEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWw0MSA0MXEyMiAyMSA1MSAyMSAyOSAwIDUwLTIxbDE2NC0xNjR2MzkzcTAgMjkgMjEgNTB0NTEgMjJoNzFxMjkgMCA1MC0yMnQyMS01MHYtMzkzbDE2NSAxNjRxMjAgMjEgNTAgMjEgMjkgMCA1MS0yMWw0MS00MXEyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNDsiIGQ9Ik04NTcgMzUwdi03MXEwLTMwLTE4LTUxdC00Ny0yMWgtMzkzbDE2NC0xNjRxMjEtMjAgMjEtNTB0LTIxLTUwbC00Mi00M3EtMjEtMjAtNTEtMjAtMjkgMC01MCAyMGwtMzY0IDM2NHEtMjAgMjEtMjAgNTAgMCAyOSAyMCA1MWwzNjQgMzYzcTIxIDIxIDUwIDIxIDI5IDAgNTEtMjFsNDItNDFxMjEtMjIgMjEtNTF0LTIxLTUxbC0xNjQtMTY0aDM5M3EyOSAwIDQ3LTIwdDE4LTUxeiIgaG9yaXotYWR2LXg9Ijg1Ny4xIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9InJpZ2h0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNTsiIGQ9Ik04MjEgMzE0cTAtMzAtMjAtNTBsLTM2My0zNjRxLTIyLTIwLTUxLTIwLTI5IDAtNTAgMjBsLTQyIDQycS0yMiAyMS0yMiA1MXQyMiA1MWwxNjMgMTYzaC0zOTNxLTI5IDAtNDcgMjF0LTE4IDUxdjcxcTAgMzAgMTggNTF0NDcgMjBoMzkzbC0xNjMgMTY1cS0yMiAyMC0yMiA1MHQyMiA1MGw0MiA0MnEyMSAyMSA1MCAyMSAyOSAwIDUxLTIxbDM2My0zNjNxMjAtMjAgMjAtNTF6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idXAtYmlnIiB1bmljb2RlPSImI3hlODA2OyIgZD0iTTg5OSAzMDhxMC0yOC0yMS01MGwtNDEtNDJxLTIyLTIxLTUxLTIxLTMwIDAtNTAgMjFsLTE2NSAxNjR2LTM5M3EwLTI5LTIwLTQ3dC01MS0xOWgtNzFxLTMwIDAtNTEgMTl0LTIxIDQ3djM5M2wtMTY0LTE2NHEtMjAtMjEtNTAtMjF0LTUwIDIxbC00MiA0MnEtMjEgMjEtMjEgNTAgMCAzMCAyMSA1MWwzNjMgMzYzcTIwIDIxIDUwIDIxIDMwIDAgNTEtMjFsMzYzLTM2M3EyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LW9wZW4iIHVuaWNvZGU9IiYjeGU4MDc7IiBkPSJNNjU0IDY4MmwtMjk3LTI5NiAyOTctMjk3cTEwLTEwIDEwLTI1dC0xMC0yNWwtOTMtOTNxLTExLTEwLTI1LTEwdC0yNSAxMGwtNDE0IDQxNXEtMTEgMTAtMTEgMjV0MTEgMjVsNDE0IDQxNHExMCAxMSAyNSAxMXQyNS0xMWw5My05M3ExMC0xMCAxMC0yNXQtMTAtMjV6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmlnaHQtb3BlbiIgdW5pY29kZT0iJiN4ZTgwODsiIGQ9Ik02MTggMzYxbC00MTQtNDE1cS0xMS0xMC0yNS0xMHQtMjUgMTBsLTkzIDkzcS0xMSAxMS0xMSAyNXQxMSAyNWwyOTYgMjk3LTI5NiAyOTZxLTExIDExLTExIDI1dDExIDI1bDkzIDkzcTEwIDExIDI1IDExdDI1LTExbDQxNC00MTRxMTAtMTEgMTAtMjV0LTEwLTI1eiIgaG9yaXotYWR2LXg9IjcxNC4zIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9IndyZW5jaCIgdW5pY29kZT0iJiN4ZTgwOTsiIGQ9Ik0yMTQgMjlxMCAxNC0xMCAyNXQtMjUgMTAtMjUtMTAtMTEtMjUgMTEtMjUgMjUtMTEgMjUgMTEgMTAgMjV6IG0zNjAgMjM0bC0zODEtMzgxcS0yMS0yMC01MC0yMC0yOSAwLTUxIDIwbC01OSA2MXEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWwzODAgMzgwcTIyLTU1IDY0LTk3dDk3LTY0eiBtMzU0IDI0M3EwLTIyLTEzLTU5LTI3LTc1LTkyLTEyMnQtMTQ0LTQ2cS0xMDQgMC0xNzcgNzN0LTczIDE3NyA3MyAxNzYgMTc3IDc0cTMyIDAgNjctMTB0NjAtMjZxOS02IDktMTV0LTktMTZsLTE2My05NHYtMTI1bDEwOC02MHEyIDIgNDQgMjd0NzUgNDUgNDAgMjBxOCAwIDEzLTV0NS0xNHoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJyZXNpemUtZnVsbCIgdW5pY29kZT0iJiN4ZTgwYTsiIGQ9Ik00MjEgMjYxcTAtNy01LTEzbC0xODUtMTg1IDgwLTgxcTEwLTEwIDEwLTI1dC0xMC0yNS0yNS0xMWgtMjUwcS0xNSAwLTI1IDExdC0xMSAyNXYyNTBxMCAxNSAxMSAyNXQyNSAxMSAyNS0xMWw4MC04MCAxODYgMTg1cTUgNiAxMiA2dDEzLTZsNjQtNjNxNS02IDUtMTN6IG00MzYgNDgydi0yNTBxMC0xNS0xMC0yNXQtMjYtMTEtMjUgMTFsLTgwIDgwLTE4NS0xODVxLTYtNi0xMy02dC0xMyA2bC02NCA2NHEtNSA1LTUgMTJ0NSAxM2wxODYgMTg1LTgxIDgxcS0xMCAxMC0xMCAyNXQxMCAyNSAyNSAxMWgyNTBxMTUgMCAyNi0xMXQxMC0yNXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJjdyIgdW5pY29kZT0iJiN4ZTgwYjsiIGQ9Ik04NTcgNzA3di0yNTBxMC0xNC0xMC0yNXQtMjYtMTFoLTI1MHEtMjMgMC0zMiAyMy0xMCAyMiA3IDM4bDc3IDc3cS04MiA3Ny0xOTQgNzctNTggMC0xMTEtMjN0LTkxLTYxLTYxLTkxLTIzLTExMSAyMy0xMTEgNjEtOTEgOTEtNjEgMTExLTIzcTY2IDAgMTI1IDI5dDEwMCA4MnE0IDYgMTMgNyA4IDAgMTQtNWw3Ni03N3E1LTQgNi0xMXQtNS0xM3EtNjAtNzQtMTQ3LTExNHQtMTgyLTQxcS04NyAwLTE2NyAzNHQtMTM2IDkyLTkyIDEzNy0zNCAxNjYgMzQgMTY2IDkyIDEzNyAxMzYgOTIgMTY3IDM0cTgyIDAgMTU4LTMxdDEzNy04OGw3MiA3MnExNyAxOCAzOSA4IDIyLTkgMjItMzN6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idHJhc2gtZW1wdHkiIHVuaWNvZGU9IiYjeGU4MGU7IiBkPSJNMjg2IDQzOXYtMzIxcTAtOC01LTEzdC0xMy01aC0zNnEtOCAwLTEzIDV0LTUgMTN2MzIxcTAgOCA1IDEzdDEzIDVoMzZxOCAwIDEzLTV0NS0xM3ogbTE0MyAwdi0zMjFxMC04LTUtMTN0LTEzLTVoLTM2cS04IDAtMTMgNXQtNSAxM3YzMjFxMCA4IDUgMTN0MTMgNWgzNnE4IDAgMTMtNXQ1LTEzeiBtMTQyIDB2LTMyMXEwLTgtNS0xM3QtMTItNWgtMzZxLTggMC0xMyA1dC01IDEzdjMyMXEwIDggNSAxM3QxMyA1aDM2cTcgMCAxMi01dDUtMTN6IG03Mi00MDR2NTI5aC01MDB2LTUyOXEwLTEyIDQtMjJ0OC0xNSA2LTVoNDY0cTIgMCA2IDV0OCAxNSA0IDIyeiBtLTM3NSA2MDFoMjUwbC0yNyA2NXEtNCA1LTkgNmgtMTc3cS02LTEtMTAtNnogbTUxOC0xOHYtMzZxMC04LTUtMTN0LTEzLTVoLTU0di01MjlxMC00Ni0yNi04MHQtNjMtMzRoLTQ2NHEtMzcgMC02MyAzM3QtMjcgNzl2NTMxaC01M3EtOCAwLTEzIDV0LTUgMTN2MzZxMCA4IDUgMTN0MTMgNWgxNzJsMzkgOTNxOSAyMSAzMSAzNXQ0NCAxNWgxNzhxMjMgMCA0NC0xNXQzMC0zNWwzOS05M2gxNzNxOCAwIDEzLTV0NS0xM3oiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJmb250IiB1bmljb2RlPSImI3hlODBmOyIgZD0iTTQwNSA1MzhsLTk1LTI1MXExOCAwIDc2LTF0ODktMXExMSAwIDMyIDEtNDggMTQxLTEwMiAyNTJ6IG0tNDA1LTYxN2wxIDQ0cTEzIDQgMzEgN3QzMiA2IDI4IDggMjUgMTcgMTcgMjhsMTMyIDM0NCAxNTYgNDA0aDcycTQtOCA2LTEybDExNC0yNjhxMTktNDMgNjAtMTQ0dDYzLTE1M3E5LTE5IDMzLTgwdDQwLTk0cTExLTI2IDE5LTMyIDExLTkgNDktMTd0NDctMTFxNC0yMiA0LTMyIDAtMy0xLTh0MC03cS0zNSAwLTEwNiA1dC0xMDcgNHEtNDIgMC0xMjAtNHQtOTktNHEwIDI0IDIgNDNsNzMgMTZxMSAwIDcgMXQ5IDIgOCAzIDkgNCA2IDQgNSA2IDEgOHEwIDktMTcgNTR0LTQwIDk5LTI0IDU2bC0yNTEgMXEtMTQtMzItNDMtMTA5dC0yOC05MXEwLTEyIDgtMjF0MjQtMTQgMjctNyAzMi01IDIzLTJxMS0xMSAxLTMyIDAtNS0xLTE2LTMzIDAtOTggNnQtOTcgNnEtNSAwLTE1LTN0LTEyLTJxLTQ1LTgtMTA1LTh6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iem9vbS1pbiIgdW5pY29kZT0iJiN4ZTgxMDsiIGQ9Ik01NzEgNDA0di0zNnEwLTctNS0xM3QtMTItNWgtMTI1di0xMjVxMC03LTYtMTN0LTEyLTVoLTM2cS03IDAtMTMgNXQtNSAxM3YxMjVoLTEyNXEtNyAwLTEyIDV0LTYgMTN2MzZxMCA3IDYgMTJ0MTIgNWgxMjV2MTI1cTAgOCA1IDEzdDEzIDVoMzZxNyAwIDEyLTV0Ni0xM3YtMTI1aDEyNXE3IDAgMTItNXQ1LTEyeiBtNzItMThxMCAxMDMtNzMgMTc2dC0xNzcgNzQtMTc3LTc0LTczLTE3NiA3My0xNzcgMTc3LTczIDE3NyA3MyA3MyAxNzd6IG0yODYtNDY1cTAtMjktMjEtNTB0LTUxLTIxcS0zMCAwLTUwIDIxbC0xOTEgMTkxcS0xMDAtNjktMjIzLTY5LTgwIDAtMTUzIDMxdC0xMjUgODQtODQgMTI1LTMxIDE1MyAzMSAxNTIgODQgMTI2IDEyNSA4NCAxNTMgMzEgMTUzLTMxIDEyNS04NCA4NC0xMjYgMzEtMTUycTAtMTIzLTY5LTIyM2wxOTEtMTkxcTIxLTIxIDIxLTUxeiIgaG9yaXotYWR2LXg9IjkyOC42IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Inpvb20tb3V0IiB1bmljb2RlPSImI3hlODExOyIgZD0iTTU3MSA0MDR2LTM2cTAtNy01LTEzdC0xMi01aC0zMjJxLTcgMC0xMiA1dC02IDEzdjM2cTAgNyA2IDEydDEyIDVoMzIycTcgMCAxMi01dDUtMTJ6IG03Mi0xOHEwIDEwMy03MyAxNzZ0LTE3NyA3NC0xNzctNzQtNzMtMTc2IDczLTE3NyAxNzctNzMgMTc3IDczIDczIDE3N3ogbTI4Ni00NjVxMC0yOS0yMS01MHQtNTEtMjFxLTMwIDAtNTAgMjFsLTE5MSAxOTFxLTEwMC02OS0yMjMtNjktODAgMC0xNTMgMzF0LTEyNSA4NC04NCAxMjUtMzEgMTUzIDMxIDE1MiA4NCAxMjYgMTI1IDg0IDE1MyAzMSAxNTMtMzEgMTI1LTg0IDg0LTEyNiAzMS0xNTJxMC0xMjMtNjktMjIzbDE5MS0xOTFxMjEtMjEgMjEtNTF6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0ibW92ZSIgdW5pY29kZT0iJiN4ZjA0NzsiIGQ9Ik0xMDAwIDM1MHEwLTE0LTExLTI1bC0xNDItMTQzcS0xMS0xMS0yNi0xMXQtMjUgMTEtMTAgMjV2NzJoLTIxNXYtMjE1aDcycTE0IDAgMjUtMTB0MTEtMjUtMTEtMjVsLTE0My0xNDNxLTEwLTExLTI1LTExdC0yNSAxMWwtMTQzIDE0M3EtMTEgMTAtMTEgMjV0MTEgMjUgMjUgMTBoNzJ2MjE1aC0yMTV2LTcycTAtMTQtMTAtMjV0LTI1LTExLTI1IDExbC0xNDMgMTQzcS0xMSAxMS0xMSAyNXQxMSAyNWwxNDMgMTQzcTEwIDExIDI1IDExdDI1LTExIDEwLTI1di03MmgyMTV2MjE1aC03MnEtMTQgMC0yNSAxMHQtMTEgMjUgMTEgMjZsMTQzIDE0MnExMSAxMSAyNSAxMXQyNS0xMWwxNDMtMTQycTExLTExIDExLTI2dC0xMS0yNS0yNS0xMGgtNzJ2LTIxNWgyMTV2NzJxMCAxNCAxMCAyNXQyNSAxMSAyNi0xMWwxNDItMTQzcTExLTEwIDExLTI1eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmVzaXplLWZ1bGwtYWx0IiB1bmljb2RlPSImI3hmMGIyOyIgZD0iTTcxNiA1NDhsLTE5OC0xOTggMTk4LTE5OCA4MCA4MHExNyAxOCAzOSA4IDIyLTkgMjItMzN2LTI1MHEwLTE0LTEwLTI1dC0yNi0xMWgtMjUwcS0yMyAwLTMyIDIzLTEwIDIxIDcgMzhsODEgODEtMTk4IDE5OC0xOTgtMTk4IDgwLTgxcTE3LTE3IDgtMzgtMTAtMjMtMzMtMjNoLTI1MHEtMTUgMC0yNSAxMXQtMTEgMjV2MjUwcTAgMjQgMjIgMzMgMjIgMTAgMzktOGw4MC04MCAxOTggMTk4LTE5OCAxOTgtODAtODBxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDktMjIgMzN2MjUwcTAgMTQgMTEgMjV0MjUgMTFoMjUwcTIzIDAgMzMtMjMgOS0yMS04LTM4bC04MC04MSAxOTgtMTk4IDE5OCAxOTgtODEgODFxLTE3IDE3LTcgMzggOSAyMyAzMiAyM2gyNTBxMTUgMCAyNi0xMXQxMC0yNXYtMjUwcTAtMjQtMjItMzMtNy0zLTE0LTMtMTQgMC0yNSAxMXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJibGFuayIgdW5pY29kZT0iJiN4ZjBjODsiIGQ9Ik04NTcgNjE4di01MzZxMC02Ni00Ny0xMTN0LTExNC00OGgtNTM1cS02NyAwLTExNCA0OHQtNDcgMTEzdjUzNnEwIDY2IDQ3IDExM3QxMTQgNDhoNTM1cTY3IDAgMTE0LTQ4dDQ3LTExM3oiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJzb3J0LWRvd24iIHVuaWNvZGU9IiYjeGYwZGQ7IiBkPSJNNTcxIDI0M3EwLTE1LTEwLTI1bC0yNTAtMjUwcS0xMS0xMS0yNS0xMXQtMjUgMTFsLTI1MCAyNTBxLTExIDEwLTExIDI1dDExIDI1IDI1IDExaDUwMHExNCAwIDI1LTExdDEwLTI1eiIgaG9yaXotYWR2LXg9IjU3MS40IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Im1vdXNlLXBvaW50ZXIiIHVuaWNvZGU9IiYjeGYyNDU7IiBkPSJNNjMyIDI2OHExOC0xNyA4LTM4LTktMjMtMzMtMjNoLTIxM2wxMTItMjY2cTYtMTMgMC0yN3QtMTktMTlsLTk5LTQycS0xNC02LTI3IDB0LTE5IDE5bC0xMDcgMjUyLTE3NC0xNzRxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDEwLTIyIDMzdjgzOXEwIDI0IDIyIDMzIDcgMyAxNCAzIDE1IDAgMjUtMTF6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+CjwvZm9udD4KPC9kZWZzPgo8L3N2Zz4="},function(t,e,n){var i=n(330);"string"==typeof i&&(i=[[t.i,i,""]]);var r={};r.transform=void 0;n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){e=t.exports=n(8)(!0),e.push([t.i,".escher-container{font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif!important;background-color:#f3f3f3;text-align:center;position:relative;font-size:14px;color:#333}body.fill-screen,html.fill-screen{height:100%;width:100%}body.fill-screen{margin:0;position:relative;overflow:hidden}.fill-screen-div{margin:0;padding:0;position:fixed;top:0;bottom:0;left:0;right:0}.escher-3d-transform-container,.escher-zoom-container,.full-screen-on,svg.escher-svg{height:100%!important;width:100%!important;overflow:hidden}.escher-container #status{position:absolute;bottom:10px;left:20px;color:red;background-color:#fff;font-size:16px}.escher-container #menu{display:block;margin:5px auto 0;border:1px solid #ddd;background-color:hsla(0,0%,100%,.95);border-radius:0}.escher-container .help-button{float:right;padding:0 5px;font-size:12px;background-color:#f5f5f5}.escher-container .dropdown-menu{border:1px solid #ddd;background-color:hsla(0,0%,100%,.95);border-radius:0;margin:0;text-align:left}.escher-container .dropdown-menu>li>a{font-size:15px}.escher-container .dropdown-menu>.escher-disabled>a{color:#e0e0e0;pointer-events:none}.escher-container .dropdown{background-color:hsla(0,0%,100%,.95)}@media (max-width:550px){.escher-container .dropdown-button{padding:5px 9px}}@media (min-width:550px){.escher-container .dropdown-button{font-size:18px}.escher-container .help-button{font-size:16px}}.escher-container .search-menu-container{position:absolute;width:100%;top:0;left:0;margin:0;text-align:center;pointer-events:none}.escher-container .search-menu-container-inline{box-sizing:border-box;width:320px;display:inline-block;text-align:left;pointer-events:auto}@media (min-width:550px){.escher-container .search-menu-container-inline{width:410px}}.escher-container .search-container{display:block;background:hsla(0,0%,100%,.95);padding:3px;border:1px solid #ddd;margin:2px 0 0}.escher-container .search-bar{display:inline-block;border:1px solid #ddd;margin-right:4px;width:114px;height:29px;border-radius:3px}.escher-container .search-counter{display:inline-block;padding:0 8px}.escher-container .settings-box-background{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:9;background:rgba(0,0,0,.4);padding:5% 0;text-align:center}.escher-container .settings-box-container{display:inline-block;position:relative;width:90%;max-width:520px;height:100%;z-index:10}.escher-container .settings-button{position:absolute;top:5px;right:20px;z-index:10}.escher-container .settings-button-close{right:60px}.escher-container .settings-box{display:inline-block;max-height:100%;width:100%;overflow-y:scroll;overflow-x:hidden;background:hsla(0,0%,100%,.95);padding:8px;margin:0;border:1px solid #ddd;text-align:left}.escher-container .settings-section-heading-large{font-size:17px;font-weight:700;margin-top:15px}.escher-container .settings-section-heading{font-weight:700;margin-top:15px}.escher-container .settings-table{width:100%}.escher-container .settings-table td{padding:3px 5px}.escher-container td.options-label{width:88px}.escher-container td.options-label-wide{width:192px}.escher-container .settings-number{text-align:center;color:#aaa;font-style:italic}.escher-container .input-cell{width:23%;font-size:13px}.escher-container .scale-bar-input{width:100%;text-align:left}.escher-container .no-data-input{width:23%;margin:0 4px}.escher-container label.option-group{margin:0 10px 0 0}.escher-container label.option-group span{margin:0 0 0 4px}.escher-container label.full-line{width:100%}.escher-container label{font-weight:inherit}.escher-container .settings-tip{font-style:italic}.escher-container .scale-editor{position:relative;width:100%;height:190px;font-size:12px}.escher-container .scale-editor .centered{position:absolute;width:440px;left:35px;top:0}.escher-container .scale-editor .data-not-loaded{position:absolute;z-index:5;left:60px;top:25px;text-align:center;width:400px;font-size:15px;color:#b19ec0}.escher-container .scale-editor .add{position:absolute;top:0;right:0;width:20px;cursor:pointer}.escher-container .scale-editor .trash-container{position:absolute;top:0;left:0;width:420px;height:20px}.escher-container .scale-editor .trash{position:absolute;top:0;left:0;cursor:pointer}.escher-container .scale-editor .scale-svg{position:absolute;width:440px;height:80px;top:20px;left:0}.escher-container .scale-editor .input-container{position:absolute;top:56px;left:0;width:420px}.escher-container .scale-editor .input-container input{position:absolute;left:0;top:0}.escher-container .scale-editor input[disabled]{background-color:#f1ecfa}.escher-container .scale-editor .row-label{position:absolute;left:0}.escher-container .scale-editor .input-set{position:absolute;top:0;box-shadow:0 2px 14px #c5c5c5}.escher-container .scale-editor .input-set.selected-set{z-index:5}.escher-container .scale-editor .domain-type-picker{position:absolute;top:0;right:0;height:14px;background-color:#e8e8e8}.escher-container .scale-editor .picker rect{color:#000;opacity:.4}.escher-container .scale-editor .no-data{position:absolute;left:0;width:100%}.escher-container .scale-editor .no-data-heading{font-weight:700}.escher-container .scale-editor .no-data .input-group{position:absolute;top:0;left:0}.escher-container .scale-editor .no-data .input-group input,.escher-container .scale-editor .no-data .input-group span{position:absolute;top:17px}.escher-container #rxn-input{z-index:10}.escher-container .input-close-button:hover{color:#f33;font-weight:700}.escher-container .light{color:#8b8b8b;font-weight:400}.escher-container #text-edit-input input{width:500px;border:1px solid #ccc;font-size:22px}.escher-container #quick-jump-menu{position:absolute;right:10px;bottom:10px;width:300px}@media (max-width:550px){.escher-container #quick-jump-menu{display:none}}.escher-container #tooltip-container{-ms-touch-action:none;touch-action:none}.escher-container .btn{color:#fff!important;border:1px solid #2e2f2f;background-image:linear-gradient(#4f5151,#474949 6%,#3f4141);background-color:#fff;cursor:pointer}.escher-container .btn:active{background-image:linear-gradient(#3f4141,#474949 6%,#4f5151)}","",{version:3,sources:["/Users/zaking/repos/escher/src/Builder.css"],names:[],mappings:"AAGA,kBACE,0EAAoF,AACpF,yBAA0B,AAC1B,kBAAmB,AACnB,kBAAmB,AACnB,eAAgB,AAChB,UAAe,CAChB,AAQD,kCAHE,YAAa,AACb,UAAY,CAQb,AAND,iBACE,SAAU,AACV,kBAAmB,AACnB,eAAiB,CAGlB,AAKD,iBACE,SAAU,AACV,UAAW,AACX,eAAgB,AAChB,MAAS,AACT,SAAY,AACZ,OAAU,AACV,OAAW,CACZ,AAUD,qFANE,sBAAwB,AACxB,qBAAuB,AACvB,eAAiB,CAQlB,AAGD,0BACE,kBAAkB,AAClB,YAAY,AACZ,UAAW,AACX,UAAW,AACX,sBAAwB,AACxB,cAAe,CAChB,AAED,wBACE,cAAe,AACf,kBAAwB,AACxB,sBAAuB,AACvB,qCAA4C,AAC5C,eAAmB,CACpB,AACD,+BACE,YAAa,AACb,cAAe,AACf,eAAgB,AAChB,wBAAqC,CACtC,AACD,iCACE,sBAAuB,AACvB,qCAA4C,AAC5C,gBAAmB,AACnB,SAAU,AACV,eAAiB,CAClB,AACD,sCACE,cAAgB,CACjB,AACD,oDACE,cAAe,AACf,mBAAqB,CACtB,AACD,4BACE,oCAA4C,CAC7C,AACD,yBACE,mCACE,eAAiB,CAClB,CACF,AACD,yBACE,mCACE,cAAgB,CACjB,AACD,+BACE,cAAgB,CACjB,CACF,AAED,yCACE,kBAAmB,AACnB,WAAY,AACZ,MAAS,AACT,OAAU,AACV,SAAU,AACV,kBAAmB,AACnB,mBAAqB,CACtB,AACD,gDACE,sBAAuB,AACvB,YAAa,AACb,qBAAsB,AACtB,gBAAiB,AACjB,mBAAqB,CACtB,AACD,yBACE,gDACE,WAAa,CACd,CACF,AACD,oCACE,cAAe,AACf,+BAAsC,AACtC,YAAa,AACb,sBAAuB,AACvB,cAAkB,CACnB,AACD,8BACE,qBAAsB,AACtB,sBAAuB,AACvB,iBAAkB,AAClB,YAAa,AACb,YAAa,AACb,iBAAmB,CACpB,AACD,kCACE,qBAAsB,AACtB,aAAe,CAChB,AAED,2CACE,cAAe,AACf,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,UAAW,AACX,0BAA+B,AAC/B,aAAmB,AACnB,iBAAmB,CACpB,AACD,0CACE,qBAAsB,AACtB,kBAAmB,AACnB,UAAW,AACX,gBAAiB,AACjB,YAAa,AACb,UAAY,CACb,AACD,mCACE,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,UAAY,CACb,AACD,yCACE,UAAY,CACb,AACD,gCACE,qBAAsB,AACtB,gBAAiB,AACjB,WAAY,AAEZ,kBAAmB,AACnB,kBAAmB,AACnB,+BAAsC,AACtC,YAAa,AACb,SAAU,AACV,sBAAuB,AACvB,eAAiB,CAClB,AACD,kDACE,eAAgB,AAChB,gBAAkB,AAClB,eAAiB,CAClB,AACD,4CACE,gBAAkB,AAClB,eAAiB,CAClB,AACD,kCACE,UAAY,CACb,AACD,qCACE,eAAiB,CAClB,AACD,mCACE,UAAY,CACb,AACD,wCACE,WAAa,CACd,AACD,mCACE,kBAAmB,AACnB,WAAY,AACZ,iBAAmB,CACpB,AACD,8BACE,UAAW,AAEX,cAAgB,CACjB,AACD,mCACE,WAAY,AACZ,eAAiB,CAClB,AACD,iCACE,UAAW,AACX,YAAoB,CACrB,AACD,qCACE,iBAAmB,CACpB,AACD,0CACE,gBAAkB,CACnB,AACD,kCACE,UAAY,CACb,AACD,wBACE,mBAAqB,CACtB,AACD,gCACE,iBAAmB,CACpB,AAED,gCACE,kBAAmB,AACnB,WAAY,AACZ,aAAc,AACd,cAAgB,CACjB,AACD,0CACE,kBAAmB,AACnB,YAAa,AACb,UAAW,AACX,KAAS,CACV,AACD,iDACE,kBAAmB,AACnB,UAAW,AACX,UAAW,AACX,SAAU,AACV,kBAAmB,AACnB,YAAa,AACb,eAAgB,AAChB,aAAe,CAChB,AACD,qCACE,kBAAmB,AACnB,MAAS,AACT,QAAW,AACX,WAAY,AACZ,cAAgB,CACjB,AACD,iDACE,kBAAmB,AACnB,MAAS,AACT,OAAU,AACV,YAAa,AACb,WAAa,CACd,AACD,uCACE,kBAAmB,AACnB,MAAS,AACT,OAAU,AACV,cAAgB,CACjB,AACD,2CACE,kBAAmB,AACnB,YAAa,AACb,YAAa,AACb,SAAU,AACV,MAAU,CACX,AACD,iDACE,kBAAmB,AACnB,SAAU,AACV,OAAU,AACV,WAAa,CACd,AACD,uDACE,kBAAmB,AACnB,OAAU,AACV,KAAS,CACV,AACD,gDACE,wBAA0B,CAC3B,AACD,2CACE,kBAAmB,AACnB,MAAU,CACX,AACD,2CACE,kBAAmB,AACnB,MAAS,AACT,6BAA4C,CAC7C,AACD,wDACE,SAAW,CACZ,AACD,oDACE,kBAAmB,AACnB,MAAS,AACT,QAAW,AACX,YAAa,AACb,wBAAqC,CACtC,AACD,6CACE,WAAa,AACb,UAAa,CACd,AACD,yCACE,kBAAmB,AACnB,OAAU,AACV,UAAY,CACb,AACD,iDACE,eAAkB,CACnB,AACD,sDACE,kBAAmB,AACnB,MAAS,AACT,MAAU,CACX,AACD,uHAEE,kBAAmB,AACnB,QAAU,CACX,AAGD,6BACE,UAAY,CACb,AACD,4CACE,WAAe,AACf,eAAkB,CACnB,AACD,yBACE,cAAe,AACf,eAAoB,CACrB,AAED,yCACE,YAAa,AACb,sBAA0B,AAC1B,cAAgB,CACjB,AAED,mCACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,WAAa,CACd,AACD,yBACE,mCACC,YAAc,CACd,CACF,AAED,qCACE,sBAAuB,AACvB,iBAAmB,CACpB,AAGD,uBACE,qBAAuB,AACvB,yBAA0B,AAC1B,6DAAgE,AAChE,sBAAwB,AACxB,cAAgB,CACjB,AAED,8BACE,4DAAgE,CACjE",file:"Builder.css",sourcesContent:['/* Containers */\n\n/* The top level container for an Escher Builder */\n.escher-container {\n  font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif !important;\n  background-color: #F3F3F3;\n  text-align: center;\n  position: relative;\n  font-size: 14px;\n  color: #333333;\n}\n\n/* Applied to the body when Escher fills the screen. This stops browser from\nshowing scroll-end animations. */\nhtml.fill-screen {\n  height: 100%;\n  width: 100%;\n}\nbody.fill-screen {\n  margin: 0;\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n\n/* Applied to top level container (generally .escher-container) when Escher\nfills the screen. These make sure Escher completely fills the screen, even after\nresizes. */\n.fill-screen-div {\n  margin: 0;\n  padding: 0;\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n}\n\n/* Temporarily applied when entering full screen. */\n.full-screen-on {\n  height: 100% !important;\n  width: 100% !important;\n  overflow: hidden;\n}\n\n/* The zoom container classes. */\n.escher-zoom-container, .escher-3d-transform-container, svg.escher-svg {\n  width: 100% !important;\n  height: 100% !important;\n  overflow: hidden;\n}\n\n/* Status */\n.escher-container #status {\n  position:absolute;\n  bottom:10px;\n  left: 20px;\n  color: red;\n  background-color: white;\n  font-size: 16px\n}\n/* Menus */\n.escher-container #menu {\n  display: block;\n  margin: 5px auto 0 auto;\n  border: 1px solid #ddd;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-radius: 0px;\n}\n.escher-container .help-button {\n  float: right;\n  padding: 0 5px;\n  font-size: 12px;\n  background-color: rgb(245, 245, 245);\n}\n.escher-container .dropdown-menu {\n  border: 1px solid #ddd;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-radius: 0px;\n  margin: 0;\n  text-align: left;\n}\n.escher-container .dropdown-menu>li>a {\n  font-size: 15px;\n}\n.escher-container .dropdown-menu>.escher-disabled>a {\n  color: #E0E0E0;\n  pointer-events: none;\n}\n.escher-container .dropdown {\n  background-color: rgba(255, 255, 255, 0.95);\n}\n@media (max-width: 550px) {\n  .escher-container .dropdown-button {\n    padding: 5px 9px;\n  }\n}\n@media (min-width: 550px) {\n  .escher-container .dropdown-button {\n    font-size: 18px;\n  }\n  .escher-container .help-button {\n    font-size: 16px;\n  }\n}\n/* Search */\n.escher-container .search-menu-container {\n  position: absolute;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  margin: 0;\n  text-align: center;\n  pointer-events: none;\n}\n.escher-container .search-menu-container-inline {\n  box-sizing: border-box;\n  width: 320px;\n  display: inline-block;\n  text-align: left;\n  pointer-events: auto;\n}\n@media (min-width: 550px) {\n  .escher-container .search-menu-container-inline {\n    width: 410px;\n  }\n}\n.escher-container .search-container {\n  display: block;\n  background: rgba(255, 255, 255, 0.95);\n  padding: 3px;\n  border: 1px solid #DDD;\n  margin: 2px 0 0 0;\n}\n.escher-container .search-bar {\n  display: inline-block;\n  border: 1px solid #DDD;\n  margin-right: 4px;\n  width: 114px;\n  height: 29px;\n  border-radius: 3px;\n}\n.escher-container .search-counter {\n  display: inline-block;\n  padding: 0 8px;\n}\n/* Settings */\n.escher-container .settings-box-background {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9;\n  background: rgba(0, 0, 0, 0.4);\n  padding: 5% 0 5% 0;\n  text-align: center;\n}\n.escher-container .settings-box-container {\n  display: inline-block;\n  position: relative;\n  width: 90%;\n  max-width: 520px;\n  height: 100%;\n  z-index: 10;\n}\n.escher-container .settings-button {\n  position: absolute;\n  top: 5px;\n  right: 20px;\n  z-index: 10;\n}\n.escher-container .settings-button-close {\n  right: 60px;\n}\n.escher-container .settings-box {\n  display: inline-block;\n  max-height: 100%;\n  width: 100%;\n  /* max-width: 520px; */\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background: rgba(255, 255, 255, 0.95);\n  padding: 8px;\n  margin: 0;\n  border: 1px solid #DDD;\n  text-align: left;\n}\n.escher-container .settings-section-heading-large {\n  font-size: 17px;\n  font-weight: bold;\n  margin-top: 15px;\n}\n.escher-container .settings-section-heading {\n  font-weight: bold;\n  margin-top: 15px;\n}\n.escher-container .settings-table {\n  width: 100%;\n}\n.escher-container .settings-table td {\n  padding: 3px 5px;\n}\n.escher-container td.options-label {\n  width: 88px;\n}\n.escher-container td.options-label-wide {\n  width: 192px;\n}\n.escher-container .settings-number {\n  text-align: center;\n  color: #AAA;\n  font-style: italic;\n}\n.escher-container .input-cell {\n  width: 23%;\n  /* padding: 3px 5px; */\n  font-size: 13px;\n}\n.escher-container .scale-bar-input {\n  width: 100%;\n  text-align: left;\n}\n.escher-container .no-data-input {\n  width: 23%;\n  margin: 0 4px 0 4px;\n}\n.escher-container label.option-group {\n  margin: 0 10px 0 0;\n}\n.escher-container label.option-group span {\n  margin: 0 0 0 4px;\n}\n.escher-container label.full-line {\n  width: 100%;\n}\n.escher-container label {\n  font-weight: inherit;\n}\n.escher-container .settings-tip {\n  font-style: italic;\n}\n/* Live scale */\n.escher-container .scale-editor {\n  position: relative;\n  width: 100%;\n  height: 190px;\n  font-size: 12px;\n}\n.escher-container .scale-editor .centered {\n  position: absolute;\n  width: 440px;\n  left: 35px;\n  top: 0px;\n}\n.escher-container .scale-editor .data-not-loaded {\n  position: absolute;\n  z-index: 5;\n  left: 60px;\n  top: 25px;\n  text-align: center;\n  width: 400px;\n  font-size: 15px;\n  color: #B19EC0;\n}\n.escher-container .scale-editor .add {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  width: 20px;\n  cursor: pointer;\n}\n.escher-container .scale-editor .trash-container {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 420px;\n  height: 20px;\n}\n.escher-container .scale-editor .trash {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  cursor: pointer;\n}\n.escher-container .scale-editor .scale-svg {\n  position: absolute;\n  width: 440px;\n  height: 80px;\n  top: 20px;\n  left: 0px;\n}\n.escher-container .scale-editor .input-container {\n  position: absolute;\n  top: 56px;\n  left: 0px;\n  width: 420px;\n}\n.escher-container .scale-editor .input-container input {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n.escher-container .scale-editor input[disabled] {\n  background-color: #F1ECFA;\n}\n.escher-container .scale-editor .row-label {\n  position: absolute;\n  left: 0px;\n}\n.escher-container .scale-editor .input-set {\n  position: absolute;\n  top: 0px;\n  box-shadow: 0px 2px 14px rgb(197, 197, 197);\n}\n.escher-container .scale-editor .input-set.selected-set {\n  z-index: 5;\n}\n.escher-container .scale-editor .domain-type-picker {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  height: 14px;\n  background-color: rgb(232, 232, 232);\n}\n.escher-container .scale-editor .picker rect {\n  color: black;\n  opacity: 0.4;\n}\n.escher-container .scale-editor .no-data {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n}\n.escher-container .scale-editor .no-data-heading {\n  font-weight: bold;\n}\n.escher-container .scale-editor .no-data .input-group {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}\n.escher-container .scale-editor .no-data .input-group span,\n.escher-container .scale-editor .no-data .input-group input {\n  position: absolute;\n  top: 17px;\n}\n\n/* Reaction input */\n.escher-container #rxn-input {\n  z-index: 10;\n}\n.escher-container .input-close-button:hover {\n  color: #ff3333;\n  font-weight: bold;\n}\n.escher-container .light {\n  color: #8b8b8b;\n  font-weight: normal;\n}\n/* text edit input */\n.escher-container #text-edit-input input {\n  width: 500px;\n  border: 1px solid #cccccc;\n  font-size: 22px;\n}\n/* quick jump menu */\n.escher-container #quick-jump-menu {\n  position: absolute;\n  right: 10px;\n  bottom: 10px;\n  width: 300px;\n}\n@media (max-width: 550px) {\n  .escher-container #quick-jump-menu {\n\t  display: none;\n  }\n}\n\n.escher-container #tooltip-container {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n/* Buttons */\n.escher-container .btn {\n  color: white!important;\n  border: 1px solid #2E2F2F;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  cursor: pointer;\n}\n\n.escher-container .btn:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n'],sourceRoot:""}])},function(t,e){t.exports="svg.escher-svg #mouse-node {\n  fill: none;\n}\nsvg.escher-svg #canvas {\n  stroke: #ccc;\n  stroke-width: 7px;\n  fill: white;\n}\nsvg.escher-svg .resize-rect {\n  fill: black;\n  opacity: 0;\n  stroke: none;\n}\nsvg.escher-svg .label {\n  font-family: sans-serif;\n  font-style: italic;\n  font-weight: bold;\n  font-size: 8px;\n  fill: black;\n  stroke: none;\n  text-rendering: optimizelegibility;\n  cursor: default;\n}\nsvg.escher-svg .reaction-label {\n  font-size: 30px;\n  fill: rgb(32, 32, 120);\n  text-rendering: optimizelegibility;\n}\nsvg.escher-svg .node-label {\n  font-size: 20px;\n}\nsvg.escher-svg .gene-label {\n  font-size: 18px;\n  fill: rgb(32, 32, 120);\n  text-rendering: optimizelegibility;\n  cursor: default;\n}\nsvg.escher-svg .text-label .label {\n  font-size: 50px;\n}\nsvg.escher-svg .text-label-input {\n  font-size: 50px;\n}\nsvg.escher-svg .node-circle {\n  stroke-width: 2px;\n}\nsvg.escher-svg .midmarker-circle, svg.escher-svg .multimarker-circle {\n  fill: white;\n  fill-opacity: 0.2;\n  stroke: rgb(50, 50, 50);\n}\nsvg.escher-svg g.selected .node-circle{\n  stroke-width: 6px;\n  stroke: rgb(20, 113, 199);\n}\nsvg.escher-svg g.selected .label {\n  fill: rgb(20, 113, 199);\n}\nsvg.escher-svg .metabolite-circle {\n  stroke: rgb(162, 69, 16);\n  fill: rgb(224, 134, 91);\n}\nsvg.escher-svg g.selected .metabolite-circle {\n  stroke: rgb(5, 2, 0);\n}\nsvg.escher-svg .segment {\n  stroke: #334E75;\n  stroke-width: 10px;\n  fill: none;\n}\nsvg.escher-svg .arrowhead {\n  fill: #334E75;\n}\nsvg.escher-svg .stoichiometry-label-rect {\n  fill: white;\n  opacity: 0.5;\n}\nsvg.escher-svg .stoichiometry-label {\n  fill: #334E75;\n  font-size: 17px;\n}\nsvg.escher-svg .membrane {\n  fill: none;\n  stroke: rgb(255, 187, 0);\n}\nsvg.escher-svg .brush .extent {\n  fill-opacity: 0.1;\n  fill: black;\n  stroke: #fff;\n  shape-rendering: crispEdges;\n}\nsvg.escher-svg #brush-container .background {\n  fill: none;\n}\nsvg.escher-svg .bezier-circle {\n  fill: rgb(255,255,255);\n}\nsvg.escher-svg .bezier-circle.b1 {\n  stroke: red;\n}\nsvg.escher-svg .bezier-circle.b2 {\n  stroke: blue;\n}\nsvg.escher-svg .connect-line{\n  stroke: rgb(200,200,200);\n}\nsvg.escher-svg .direction-arrow {\n  stroke: black;\n  stroke-width: 1px;\n  fill: white;\n  opacity: 0.3;\n}\nsvg.escher-svg .start-reaction-cursor {\n  cursor: pointer;\n}\nsvg.escher-svg .start-reaction-target {\n  stroke: rgb(100,100,100);\n  fill: none;\n  opacity: 0.5;\n}\nsvg.escher-svg .rotation-center-line {\n  stroke: red;\n  stroke-width: 5px;\n}\nsvg.escher-svg .highlight {\n  fill: #D97000;\n  text-decoration: underline;\n}\nsvg.escher-svg .cursor-grab {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\nsvg.escher-svg .cursor-grabbing {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\nsvg.escher-svg .edit-text-cursor {\n  cursor: text;\n}\n"},function(t,e,n){"use strict";var i=n(1),r=n(16).json;t.exports=function(t){function e(t,e,i,r,a){i.node().addEventListener("change",function(){n(t,this.value,a,r)},!1);var s=e[0];o(e,i),n(t,s,a,r)}function n(t,e,n,r){i.load_the_file(t,e,function(t,e){if(t)return console.warn(t);a.data=e,r&&r(e)})}function o(t,e){e.selectAll(".menu-option").data(t).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}),e.node().focus()}var a=i.set_options(t,{selection:null,getdatafiles:null,datafiles:null,update_callback:null,target:null});if(null===a.selection)throw new Error("No selection provided for DataMenu");var s=a.selection.select(".data-menu");s.empty()&&(s=a.selection.append("div").attr("class","data-menu"));var c=s.append("form").append("select").attr("class","dropdown-menu");return a.getdatafiles?(a.datafiles&&console.warn("DataMenu: getdatafiles option overrides datafiles"),r(a.getdatafiles,function(t,n){return t?console.warn(t):(e(a.target,n.data,c,a.update_callback,a.selection),null)})):a.datafiles?e(a.target,a.datafiles,c,a.update_callback,a.selection):console.warn("DataMenu: No datafiles given"),{update:o}}},function(t,e,n){"use strict";function i(t,e,n,i,s){var c=o.parse_url_components(window,i),l=function(t){t(null)},u=function(t){t(null)};if(c.map_name){var A=r("map",c.map_name,n,t);A&&(l=function(t){a(A,function(e,n){e&&console.warn(e),t(n)})})}if(c.model_name){var h=r("model",c.model_name,n,e);h&&(u=function(t){a(h,function(e,n){e&&console.warn(e),t(n)})})}c.hasOwnProperty("enable_editing")&&(i.enable_editing="true"===c.enable_editing.toLowerCase()),l(function(t){u(function(e){s(t,e,i)})})}function r(t,e,n,i){var r=n[t+"s"].filter(function(n){return n[t+"_name"]==e});if(0==r.length)throw new Error("Bad "+t+" "+e);return i+encodeURIComponent(r[0].organism)+"/"+encodeURIComponent(r[0][t+"_name"])+".json"}var o=n(1),a=n(16).json;t.exports={load_map_model_from_url:i}}])});
//# sourceMappingURL=escher.min.js.map